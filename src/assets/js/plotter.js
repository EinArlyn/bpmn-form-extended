"use strict";(self.webpackChunkwinconf_ng=self.webpackChunkwinconf_ng||[]).push([[260],{2944:()=>{!function(t){const n=t.performance;function i(L){n&&n.mark&&n.mark(L)}function o(L,T){n&&n.measure&&n.measure(L,T)}i("Zone");const c=t.__Zone_symbol_prefix||"__zone_symbol__";function a(L){return c+L}const y=!0===t[a("forceDuplicateZoneCheck")];if(t.Zone){if(y||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}let d=(()=>{class L{static#e=this.__symbol__=a;static assertZonePatched(){if(t.Promise!==se.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=L.current;for(;e.parent;)e=e.parent;return e}static get current(){return U.zone}static get currentTask(){return oe}static __load_patch(e,r,k=!1){if(se.hasOwnProperty(e)){if(!k&&y)throw Error("Already loaded patch: "+e)}else if(!t["__Zone_disable_"+e]){const C="Zone:"+e;i(C),se[e]=r(t,L,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}constructor(e,r){this._parent=e,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}get(e){const r=this.getZoneWith(e);if(r)return r._properties[e]}getZoneWith(e){let r=this;for(;r;){if(r._properties.hasOwnProperty(e))return r;r=r._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,r){if("function"!=typeof e)throw new Error("Expecting function got: "+e);const k=this._zoneDelegate.intercept(this,e,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(e,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,e,r,k,C)}finally{U=U.parent}}runGuarded(e,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,e,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(e,r,k){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||J).name+"; Execution: "+this.name+")");if(e.state===x&&(e.type===Q||e.type===P))return;const C=e.state!=E;C&&e._transitionTo(E,j),e.runCount++;const $=oe;oe=e,U={parent:U,zone:this};try{e.type==P&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,r,k)}catch(u){if(this._zoneDelegate.handleError(this,u))throw u}}finally{e.state!==x&&e.state!==h&&(e.type==Q||e.data&&e.data.isPeriodic?C&&e._transitionTo(j,E):(e.runCount=0,this._updateTaskCount(e,-1),C&&e._transitionTo(x,E,x))),U=U.parent,oe=$}}scheduleTask(e){if(e.zone&&e.zone!==this){let k=this;for(;k;){if(k===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);k=k.parent}}e._transitionTo(X,x);const r=[];e._zoneDelegates=r,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(k){throw e._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return e._zoneDelegates===r&&this._updateTaskCount(e,1),e.state==X&&e._transitionTo(j,X),e}scheduleMicroTask(e,r,k,C){return this.scheduleTask(new p(I,e,r,k,C,void 0))}scheduleMacroTask(e,r,k,C,$){return this.scheduleTask(new p(P,e,r,k,C,$))}scheduleEventTask(e,r,k,C,$){return this.scheduleTask(new p(Q,e,r,k,C,$))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||J).name+"; Execution: "+this.name+")");if(e.state===j||e.state===E){e._transitionTo(G,j,E);try{this._zoneDelegate.cancelTask(this,e)}catch(r){throw e._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(e,-1),e._transitionTo(x,G),e.runCount=0,e}}_updateTaskCount(e,r){const k=e._zoneDelegates;-1==r&&(e._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(e.type,r)}}return L})();const b={name:"",onHasTask:(L,T,e,r)=>L.hasTask(e,r),onScheduleTask:(L,T,e,r)=>L.scheduleTask(e,r),onInvokeTask:(L,T,e,r,k,C)=>L.invokeTask(e,r,k,C),onCancelTask:(L,T,e,r)=>L.cancelTask(e,r)};class v{constructor(T,e,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=T,this._parentDelegate=e,this._forkZS=r&&(r&&r.onFork?r:e._forkZS),this._forkDlgt=r&&(r.onFork?e:e._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:e._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:e._interceptZS),this._interceptDlgt=r&&(r.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:e._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:e._invokeZS),this._invokeDlgt=r&&(r.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:e._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:e._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:e._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:e._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:e._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:e._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:e._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:e._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:e._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||e&&e._hasTaskZS)&&(this._hasTaskZS=k?r:b,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=T,r.onScheduleTask||(this._scheduleTaskZS=b,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=b,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=b,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}fork(T,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,T,e):new d(T,e)}intercept(T,e,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,T,e,r):e}invoke(T,e,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,T,e,r,k,C):e.apply(r,k)}handleError(T,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,T,e)}scheduleTask(T,e){let r=e;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,T,e),r||(r=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=I)throw new Error("Task is missing scheduleFn.");R(e)}return r}invokeTask(T,e,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,T,e,r,k):e.callback.apply(r,k)}cancelTask(T,e){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,T,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");r=e.cancelFn(e)}return r}hasTask(T,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,T,e)}catch(r){this.handleError(T,r)}}_updateTaskCount(T,e){const r=this._taskCounts,k=r[T],C=r[T]=k+e;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:T})}}class p{constructor(T,e,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=T,this.source=e,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const u=this;this.invoke=T===Q&&k&&k.useG?p.invokeTask:function(){return p.invokeTask.call(t,u,this,arguments)}}static invokeTask(T,e,r){T||(T=this),te++;try{return T.runCount++,T.zone.runTask(T,e,r)}finally{1==te&&_(),te--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(T,e,r){if(this._state!==e&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${T}', expecting state '${e}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=T,T==x&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const M=a("setTimeout"),O=a("Promise"),N=a("then");let K,B=[],H=!1;function q(L){if(K||t[O]&&(K=t[O].resolve(0)),K){let T=K[N];T||(T=K.then),T.call(K,L)}else t[M](L,0)}function R(L){0===te&&0===B.length&&q(_),L&&B.push(L)}function _(){if(!H){for(H=!0;B.length;){const L=B;B=[];for(let T=0;T<L.length;T++){const e=L[T];try{e.zone.runTask(e,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const J={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",E="running",G="canceling",h="unknown",I="microTask",P="macroTask",Q="eventTask",se={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},oe=null,te=0;function W(){}o("Zone","Zone"),t.Zone=d}(globalThis);const fe=Object.getOwnPropertyDescriptor,pe=Object.defineProperty,be=Object.getPrototypeOf,De=Object.create,ct=Array.prototype.slice,Ze="addEventListener",Oe="removeEventListener",Ne=Zone.__symbol__(Ze),Ie=Zone.__symbol__(Oe),ce="true",ae="false",me=Zone.__symbol__("");function Me(t,n){return Zone.current.wrap(t,n)}function Le(t,n,i,o,c){return Zone.current.scheduleMacroTask(t,n,i,o,c)}const A=Zone.__symbol__,Pe=typeof window<"u",_e=Pe?window:void 0,Y=Pe&&_e||globalThis,at="removeAttribute";function je(t,n){for(let i=t.length-1;i>=0;i--)"function"==typeof t[i]&&(t[i]=Me(t[i],n+"_"+i));return t}function Fe(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&typeof t.set>"u")}const Be=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&typeof Y.process<"u"&&"[object process]"==={}.toString.call(Y.process),Ae=!we&&!Be&&!(!Pe||!_e.HTMLElement),Ue=typeof Y.process<"u"&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!_e.HTMLElement),Re={},We=function(t){if(!(t=t||Y.event))return;let n=Re[t.type];n||(n=Re[t.type]=A("ON_PROPERTY"+t.type));const i=this||t.target||Y,o=i[n];let c;return Ae&&i===_e&&"error"===t.type?(c=o&&o.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===c&&t.preventDefault()):(c=o&&o.apply(this,arguments),null!=c&&!c&&t.preventDefault()),c};function qe(t,n,i){let o=fe(t,n);if(!o&&i&&fe(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(t.hasOwnProperty(c)&&t[c])return;delete o.writable,delete o.value;const a=o.get,y=o.set,d=n.slice(2);let b=Re[d];b||(b=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let p=this;!p&&t===Y&&(p=Y),p&&("function"==typeof p[b]&&p.removeEventListener(d,We),y&&y.call(p,null),p[b]=v,"function"==typeof v&&p.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&t===Y&&(v=Y),!v)return null;const p=v[b];if(p)return p;if(a){let M=a.call(this);if(M)return o.set.call(this,M),"function"==typeof v[at]&&v.removeAttribute(n),M}return null},pe(t,n,o),t[c]=!0}function Xe(t,n,i){if(n)for(let o=0;o<n.length;o++)qe(t,"on"+n[o],i);else{const o=[];for(const c in t)"on"==c.slice(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(t,o[c],i)}}const re=A("originalInstance");function ge(t){const n=Y[t];if(!n)return;Y[A(t)]=n,Y[t]=function(){const c=je(arguments,t);switch(c.length){case 0:this[re]=new n;break;case 1:this[re]=new n(c[0]);break;case 2:this[re]=new n(c[0],c[1]);break;case 3:this[re]=new n(c[0],c[1],c[2]);break;case 4:this[re]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[t],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===t&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[t].prototype[c]=function(){return this[re][c].apply(this[re],arguments)}:pe(Y[t].prototype,c,{set:function(a){"function"==typeof a?(this[re][c]=Me(a,t+"."+c),ue(this[re][c],a)):this[re][c]=a},get:function(){return this[re][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[t][o]=n[o])}function le(t,n,i){let o=t;for(;o&&!o.hasOwnProperty(n);)o=be(o);!o&&t[n]&&(o=t);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&fe(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function ut(t,n,i){let o=null;function c(a){const y=a.data;return y.args[y.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(y.target,y.args),a}o=le(t,n,a=>function(y,d){const b=i(y,d);return b.cbIdx>=0&&"function"==typeof d[b.cbIdx]?Le(b.name,d[b.cbIdx],b,c):a.apply(y,d)})}function ue(t,n){t[A("OriginalDelegate")]=n}let ze=!1,He=!1;function ht(){if(ze)return He;ze=!0;try{const t=_e.navigator.userAgent;(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/")||-1!==t.indexOf("Edge/"))&&(He=!0)}catch{}return He}Zone.__load_patch("ZoneAwarePromise",(t,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,y=i.symbol,d=[],b=!1!==t[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=y("Promise"),p=y("then"),M="__creationTrace__";i.onUnhandledError=u=>{if(i.showUncaughtError()){const l=u&&u.rejection;l?console.error("Unhandled Promise rejection:",l instanceof Error?l.message:l,"; Zone:",u.zone.name,"; Task:",u.task&&u.task.source,"; Value:",l,l instanceof Error?l.stack:void 0):console.error(u)}},i.microtaskDrainDone=()=>{for(;d.length;){const u=d.shift();try{u.zone.runGuarded(()=>{throw u.throwOriginal?u.rejection:u})}catch(l){N(l)}}};const O=y("unhandledPromiseRejectionHandler");function N(u){i.onUnhandledError(u);try{const l=n[O];"function"==typeof l&&l.call(this,u)}catch{}}function B(u){return u&&u.then}function H(u){return u}function K(u){return e.reject(u)}const q=y("state"),R=y("value"),_=y("finally"),J=y("parentPromiseValue"),x=y("parentPromiseState"),X="Promise.then",j=null,E=!0,G=!1,h=0;function I(u,l){return s=>{try{z(u,l,s)}catch(f){z(u,!1,f)}}}const P=function(){let u=!1;return function(s){return function(){u||(u=!0,s.apply(null,arguments))}}},Q="Promise resolved with itself",se=y("currentTaskTrace");function z(u,l,s){const f=P();if(u===s)throw new TypeError(Q);if(u[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(w){return f(()=>{z(u,!1,w)})(),u}if(l!==G&&s instanceof e&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)oe(s),z(u,s[q],s[R]);else if(l!==G&&"function"==typeof g)try{g.call(s,f(I(u,l)),f(I(u,!1)))}catch(w){f(()=>{z(u,!1,w)})()}else{u[q]=l;const w=u[R];if(u[R]=s,u[_]===_&&l===E&&(u[q]=u[x],u[R]=u[J]),l===G&&s instanceof Error){const m=n.currentTask&&n.currentTask.data&&n.currentTask.data[M];m&&c(s,se,{configurable:!0,enumerable:!1,writable:!0,value:m})}for(let m=0;m<w.length;)te(u,w[m++],w[m++],w[m++],w[m++]);if(0==w.length&&l==G){u[q]=h;let m=s;try{throw new Error("Uncaught (in promise): "+function a(u){return u&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(S){m=S}b&&(m.throwOriginal=!0),m.rejection=s,m.promise=u,m.zone=n.current,m.task=n.currentTask,d.push(m),i.scheduleMicroTask()}}}return u}const U=y("rejectionHandledHandler");function oe(u){if(u[q]===h){try{const l=n[U];l&&"function"==typeof l&&l.call(this,{rejection:u[R],promise:u})}catch{}u[q]=G;for(let l=0;l<d.length;l++)u===d[l].promise&&d.splice(l,1)}}function te(u,l,s,f,g){oe(u);const w=u[q],m=w?"function"==typeof f?f:H:"function"==typeof g?g:K;l.scheduleMicroTask(X,()=>{try{const S=u[R],D=!!s&&_===s[_];D&&(s[J]=S,s[x]=w);const Z=l.run(m,void 0,D&&m!==K&&m!==H?[]:[S]);z(s,!0,Z)}catch(S){z(s,!1,S)}},s)}const L=function(){},T=t.AggregateError;class e{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(l){return l instanceof e?l:z(new this(null),E,l)}static reject(l){return z(new this(null),G,l)}static withResolvers(){const l={};return l.promise=new e((s,f)=>{l.resolve=s,l.reject=f}),l}static any(l){if(!l||"function"!=typeof l[Symbol.iterator])return Promise.reject(new T([],"All promises were rejected"));const s=[];let f=0;try{for(let m of l)f++,s.push(e.resolve(m))}catch{return Promise.reject(new T([],"All promises were rejected"))}if(0===f)return Promise.reject(new T([],"All promises were rejected"));let g=!1;const w=[];return new e((m,S)=>{for(let D=0;D<s.length;D++)s[D].then(Z=>{g||(g=!0,m(Z))},Z=>{w.push(Z),f--,0===f&&(g=!0,S(new T(w,"All promises were rejected")))})})}static race(l){let s,f,g=new this((S,D)=>{s=S,f=D});function w(S){s(S)}function m(S){f(S)}for(let S of l)B(S)||(S=this.resolve(S)),S.then(w,m);return g}static all(l){return e.allWithCallback(l)}static allSettled(l){return(this&&this.prototype instanceof e?this:e).allWithCallback(l,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(l,s){let f,g,w=new this((Z,V)=>{f=Z,g=V}),m=2,S=0;const D=[];for(let Z of l){B(Z)||(Z=this.resolve(Z));const V=S;try{Z.then(F=>{D[V]=s?s.thenCallback(F):F,m--,0===m&&f(D)},F=>{s?(D[V]=s.errorCallback(F),m--,0===m&&f(D)):g(F)})}catch(F){g(F)}m++,S++}return m-=2,0===m&&f(D),w}constructor(l){const s=this;if(!(s instanceof e))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{const f=P();l&&l(f(I(s,E)),f(I(s,G)))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return e}then(l,s){let f=this.constructor?.[Symbol.species];(!f||"function"!=typeof f)&&(f=this.constructor||e);const g=new f(L),w=n.current;return this[q]==j?this[R].push(w,g,l,s):te(this,w,g,l,s),g}catch(l){return this.then(null,l)}finally(l){let s=this.constructor?.[Symbol.species];(!s||"function"!=typeof s)&&(s=e);const f=new s(L);f[_]=_;const g=n.current;return this[q]==j?this[R].push(g,f,l,l):te(this,g,f,l,l),f}}e.resolve=e.resolve,e.reject=e.reject,e.race=e.race,e.all=e.all;const r=t[v]=t.Promise;t.Promise=e;const k=y("thenPatched");function C(u){const l=u.prototype,s=o(l,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=l.then;l[p]=f,u.prototype.then=function(g,w){return new e((S,D)=>{f.call(this,S,D)}).then(g,w)},u[k]=!0}return i.patchThen=C,r&&(C(r),le(t,"fetch",u=>function $(u){return function(l,s){let f=u.apply(l,s);if(f instanceof e)return f;let g=f.constructor;return g[k]||C(g),f}}(u))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,e}),Zone.__load_patch("toString",t=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const p=t[o];if(p)return n.call(p)}if(this===Error){const p=t[c];if(p)return n.call(p)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const y=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":y.call(this)}});let Ee=!1;if(typeof window<"u")try{const t=Object.defineProperty({},"passive",{get:function(){Ee=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{Ee=!1}const dt={useG:!0},ne={},Ye={},$e=new RegExp("^"+me+"(\\w+)(true|false)$"),Je=A("propagationStopped");function Ke(t,n){const i=(n?n(t):t)+ae,o=(n?n(t):t)+ce,c=me+i,a=me+o;ne[t]={},ne[t][ae]=c,ne[t][ce]=a}function _t(t,n,i,o){const c=o&&o.add||Ze,a=o&&o.rm||Oe,y=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",b=A(c),v="."+c+":",p="prependListener",M="."+p+":",O=function(R,_,J){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=E=>x.handleEvent(E),R.originalDelegate=x);try{R.invoke(R,_,[J])}catch(E){X=E}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,J.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,J){if(!(_=_||t.event))return;const x=R||_.target||t,X=x[ne[_.type][J?ce:ae]];if(X){const j=[];if(1===X.length){const E=O(X[0],x,_);E&&j.push(E)}else{const E=X.slice();for(let G=0;G<E.length&&(!_||!0!==_[Je]);G++){const h=O(E[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let E=0;E<j.length;E++){const G=j[E];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function K(R,_){if(!R)return!1;let J=!0;_&&void 0!==_.useG&&(J=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let E=R;for(;E&&!E.hasOwnProperty(c);)E=be(E);if(!E&&R[c]&&(E=R),!E||E[b])return!1;const G=_&&_.eventNameToString,h={},I=E[b]=E[c],P=E[A(a)]=E[a],Q=E[A(y)]=E[y],se=E[A(d)]=E[d];let z;_&&_.prepend&&(z=E[A(_.prepend)]=E[_.prepend]);const e=J?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=J?function(s){if(!s.isRemoved){const f=ne[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const w=g&&s.target[g];if(w)for(let m=0;m<w.length;m++)if(w[m]===s){w.splice(m,1),s.isRemoved=!0,0===w.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return P.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return P.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],u=t[A("PASSIVE_EVENTS")],l=function(s,f,g,w,m=!1,S=!1){return function(){const D=this||t;let Z=arguments[0];_&&_.transferEventName&&(Z=_.transferEventName(Z));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===Z)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,D,arguments))return;const he=Ee&&!!u&&-1!==u.indexOf(Z),ee=function U(s,f){return!Ee&&"object"==typeof s&&s?!!s.capture:Ee&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?{...s,passive:!0}:s:{passive:!0}:s}(arguments[2],he),ke=ee&&"object"==typeof ee&&ee.signal&&"object"==typeof ee.signal?ee.signal:void 0;if(ke?.aborted)return;if($)for(let de=0;de<$.length;de++)if(Z===$[de])return he?s.call(D,Z,V,ee):s.apply(this,arguments);const Ge=!!ee&&("boolean"==typeof ee||ee.capture),nt=!(!ee||"object"!=typeof ee)&&ee.once,vt=Zone.current;let Ve=ne[Z];Ve||(Ke(Z,G),Ve=ne[Z]);const rt=Ve[Ge?ce:ae];let Se,ye=D[rt],ot=!1;if(ye){if(ot=!0,X)for(let de=0;de<ye.length;de++)if(C(ye[de],V))return}else ye=D[rt]=[];const st=D.constructor.name,it=Ye[st];it&&(Se=it[Z]),Se||(Se=st+f+(G?G(Z):Z)),h.options=ee,nt&&(h.options.once=!1),h.target=D,h.capture=Ge,h.eventName=Z,h.isExisting=ot;const ve=J?dt:void 0;ve&&(ve.taskData=h),ke&&(h.options.signal=void 0);const ie=vt.scheduleEventTask(Se,V,ve,g,w);return ke&&(h.options.signal=ke,s.call(ke,"abort",()=>{ie.zone.cancelTask(ie)},{once:!0})),h.target=null,ve&&(ve.taskData=null),nt&&(ee.once=!0),!Ee&&"boolean"==typeof ie.options||(ie.options=ee),ie.target=D,ie.capture=Ge,ie.eventName=Z,F&&(ie.originalDelegate=V),S?ye.unshift(ie):ye.push(ie),m?D:void 0}};return E[c]=l(I,v,e,r,j),z&&(E[p]=l(z,M,function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),E[a]=function(){const s=this||t;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],w=!!g&&("boolean"==typeof g||g.capture),m=arguments[1];if(!m)return P.apply(this,arguments);if(x&&!x(P,m,s,arguments))return;const S=ne[f];let D;S&&(D=S[w?ce:ae]);const Z=D&&s[D];if(Z)for(let V=0;V<Z.length;V++){const F=Z[V];if(C(F,m))return Z.splice(V,1),F.isRemoved=!0,0===Z.length&&(F.allRemoved=!0,s[D]=null,"string"==typeof f)&&(s[me+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return P.apply(this,arguments)},E[y]=function(){const s=this||t;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],w=Qe(s,G?G(f):f);for(let m=0;m<w.length;m++){const S=w[m];g.push(S.originalDelegate?S.originalDelegate:S.callback)}return g},E[d]=function(){const s=this||t;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=ne[f];if(g){const S=s[g[ae]],D=s[g[ce]];if(S){const Z=S.slice();for(let V=0;V<Z.length;V++){const F=Z[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(D){const Z=D.slice();for(let V=0;V<Z.length;V++){const F=Z[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let w=0;w<g.length;w++){const S=$e.exec(g[w]);let D=S&&S[1];D&&"removeListener"!==D&&this[d].call(this,D)}this[d].call(this,"removeListener")}if(j)return this},ue(E[c],I),ue(E[a],P),se&&ue(E[d],se),Q&&ue(E[y],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=K(i[R],o);return q}function Qe(t,n){if(!n){const a=[];for(let y in t){const d=$e.exec(y);let b=d&&d[1];if(b&&(!n||b===n)){const v=t[y];if(v)for(let p=0;p<v.length;p++)a.push(v[p])}}return a}let i=ne[n];i||(Ke(n),i=ne[n]);const o=t[i[ae]],c=t[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function Et(t,n){const i=t.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Je]=!0,o&&o.apply(c,a)})}function Tt(t,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const y=n[a]=n[o];n[o]=function(d,b,v){return b&&b.prototype&&c.forEach(function(p){const M=`${i}.${o}::`+p,O=b.prototype;try{if(O.hasOwnProperty(p)){const N=t.ObjectGetOwnPropertyDescriptor(O,p);N&&N.value?(N.value=t.wrapWithCurrentZone(N.value,M),t._redefineProperty(b.prototype,p,N)):O[p]&&(O[p]=t.wrapWithCurrentZone(O[p],M))}else O[p]&&(O[p]=t.wrapWithCurrentZone(O[p],M))}catch{}}),y.call(n,d,b,v)},t.attachOriginToPatched(n[o],y)}function et(t,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===t);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(t,n,i,o){t&&Xe(t,et(t,n,i),o)}function xe(t){return Object.getOwnPropertyNames(t).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(t,n,i)=>{const o=xe(t);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=je,i.patchMacroTask=ut;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");t[a]&&(t[c]=t[a]),t[c]&&(n[c]=n[a]=t[c]),i.patchEventPrototype=Et,i.patchEventTarget=_t,i.isIEOrEdge=ht,i.ObjectDefineProperty=pe,i.ObjectGetOwnPropertyDescriptor=fe,i.ObjectCreate=De,i.ArraySlice=ct,i.patchClass=ge,i.wrapWithCurrentZone=Me,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Tt,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:ne,eventNames:o,isBrowser:Ae,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:me,ADD_EVENT_LISTENER_STR:Ze,REMOVE_EVENT_LISTENER_STR:Oe})});const Ce=A("zoneTask");function Te(t,n,i,o){let c=null,a=null;i+=o;const y={};function d(v){const p=v.data;return p.args[0]=function(){return v.invoke.apply(this,arguments)},p.handleId=c.apply(t,p.args),v}function b(v){return a.call(t,v.data.handleId)}c=le(t,n+=o,v=>function(p,M){if("function"==typeof M[0]){const O={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?M[1]||0:void 0,args:M},N=M[0];M[0]=function(){try{return N.apply(this,arguments)}finally{O.isPeriodic||("number"==typeof O.handleId?delete y[O.handleId]:O.handleId&&(O.handleId[Ce]=null))}};const B=Le(n,M[0],O,d,b);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?y[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(t,M)}),a=le(t,i,v=>function(p,M){const O=M[0];let N;"number"==typeof O?N=y[O]:(N=O&&O[Ce],N||(N=O)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof O?delete y[O]:O&&(O[Ce]=null),N.zone.cancelTask(N)):v.apply(t,M)})}Zone.__load_patch("legacy",t=>{const n=t[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("timers",t=>{const n="set",i="clear";Te(t,n,i,"Timeout"),Te(t,n,i,"Interval"),Te(t,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{Te(t,"request","cancel","AnimationFrame"),Te(t,"mozRequest","mozCancel","AnimationFrame"),Te(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(t,i[o],(a,y,d)=>function(b,v){return n.current.run(a,t,v,d)})}),Zone.__load_patch("EventTarget",(t,n,i)=>{(function kt(t,n){n.patchEventPrototype(t,n)})(t,i),function gt(t,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:y}=n.getGlobalObjects();for(let b=0;b<i.length;b++){const v=i[b],O=y+(v+a),N=y+(v+c);o[v]={},o[v][a]=O,o[v][c]=N}const d=t.EventTarget;d&&d.prototype&&n.patchEventTarget(t,n,[d&&d.prototype])}(t,i);const o=t.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(t,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(t,n,i)=>{ge("MutationObserver"),ge("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(t,n,i)=>{ge("IntersectionObserver")}),Zone.__load_patch("FileReader",(t,n,i)=>{ge("FileReader")}),Zone.__load_patch("on_property",(t,n,i)=>{!function yt(t,n){if(we&&!Ue||Zone[t.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(Ae){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ft(){try{const t=_e.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,xe(c),i&&i.concat(a),be(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,xe(a.prototype),i)}}(i,t)}),Zone.__load_patch("customElements",(t,n,i)=>{!function mt(t,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&t.customElements&&"customElements"in t&&n.patchCallbacks(n,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(t,i)}),Zone.__load_patch("XHR",(t,n)=>{!function b(v){const p=v.XMLHttpRequest;if(!p)return;const M=p.prototype;let N=M[Ne],B=M[Ie];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ne],B=I[Ie]}}const H="readystatechange",K="scheduled";function q(h){const I=h.data,P=I.target;P[a]=!1,P[d]=!1;const Q=P[c];N||(N=P[Ne],B=P[Ie]),Q&&B.call(P,H,Q);const se=P[c]=()=>{if(P.readyState===P.DONE)if(!I.aborted&&P[a]&&h.state===K){const U=P[n.__symbol__("loadfalse")];if(0!==P.status&&U&&U.length>0){const oe=h.invoke;h.invoke=function(){const te=P[n.__symbol__("loadfalse")];for(let W=0;W<te.length;W++)te[W]===h&&te.splice(W,1);!I.aborted&&h.state===K&&oe.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===P[a]&&(P[d]=!0)};return N.call(P,H,se),P[i]||(P[i]=h),E.apply(P,I.args),P[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const J=le(M,"open",()=>function(h,I){return h[o]=0==I[2],h[y]=I[1],J.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),E=le(M,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return E.apply(h,I);{const P={target:h,url:h[y],isPeriodic:!1,args:I,aborted:!1},Q=Le("XMLHttpRequest.send",R,P,q,_);h&&!0===h[d]&&!P.aborted&&Q.state===K&&Q.invoke()}}),G=le(M,"abort",()=>function(h,I){const P=function O(h){return h[i]}(h);if(P&&"string"==typeof P.type){if(null==P.cancelFn||P.data&&P.data.aborted)return;P.zone.cancelTask(P)}else if(!0===n.current[X])return G.apply(h,I)})}(t);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),y=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&function lt(t,n){const i=t.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=t[c];if(a){if(!Fe(fe(t,c)))continue;t[c]=(d=>{const b=function(){return d.apply(this,je(arguments,i+"."+c))};return ue(b,d),b})(a)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,n)=>{function i(o){return function(c){Qe(t,o).forEach(y=>{const d=t.PromiseRejectionEvent;if(d){const b=new d(o,{promise:c.promise,reason:c.rejection});y.invoke(b)}})}}t.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))}),Zone.__load_patch("queueMicrotask",(t,n,i)=>{!function pt(t,n){n.patchMethod(t,"queueMicrotask",i=>function(o,c){Zone.current.scheduleMicroTask("queueMicrotask",c[0])})}(t,i)})}},fe=>{fe(fe.s=2944)}]);(()=>{"use strict";var e,s={},_={};function n(e){var a=_[e];if(void 0!==a)return a.exports;var r=_[e]={exports:{}};return s[e](r,r.exports,n),r.exports}n.m=s,e=[],n.O=(a,r,l,t)=>{if(!r){var c=1/0;for(f=0;f<e.length;f++){for(var[r,l,t]=e[f],i=!0,o=0;o<r.length;o++)(!1&t||c>=t)&&Object.keys(n.O).every(p=>n.O[p](r[o]))?r.splice(o--,1):(i=!1,t<c&&(c=t));if(i){e.splice(f--,1);var u=l();void 0!==u&&(a=u)}}return a}t=t||0;for(var f=e.length;f>0&&e[f-1][2]>t;f--)e[f]=e[f-1];e[f]=[r,l,t]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),n.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={688:0};n.O.j=l=>0===e[l];var a=(l,t)=>{var o,u,[f,c,i]=t,v=0;if(f.some(b=>0!==e[b])){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(i)var d=i(n)}for(l&&l(t);v<f.length;v++)n.o(e,u=f[v])&&e[u]&&e[u][0](),e[u]=0;return n.O(d)},r=self.webpackChunkwinconf_ng=self.webpackChunkwinconf_ng||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})()})();(self.webpackChunkwinconf_ng=self.webpackChunkwinconf_ng||[]).push([[590],{5152:(Z,j,E)=>{"use strict";var I=E(9776),G=E(5032),N=E(7263),Y=E(7960);function A(D,k,q,le){return function(ee,ne,re){var Ce=D(D(k(ne[1],re[0]),k(-re[1],ne[0])),D(k(ee[1],ne[0]),k(-ne[1],ee[0]))),ke=D(k(ee[1],re[0]),k(-re[1],ee[0])),un=le(Ce,ke);return un[un.length-1]}}function Q(D,k,q,le){return function(ee,ne,re,Ce){var ke=D(D(q(D(k(re[1],Ce[0]),k(-Ce[1],re[0])),ne[2]),D(q(D(k(ne[1],Ce[0]),k(-Ce[1],ne[0])),-re[2]),q(D(k(ne[1],re[0]),k(-re[1],ne[0])),Ce[2]))),D(q(D(k(ne[1],Ce[0]),k(-Ce[1],ne[0])),ee[2]),D(q(D(k(ee[1],Ce[0]),k(-Ce[1],ee[0])),-ne[2]),q(D(k(ee[1],ne[0]),k(-ne[1],ee[0])),Ce[2])))),un=D(D(q(D(k(re[1],Ce[0]),k(-Ce[1],re[0])),ee[2]),D(q(D(k(ee[1],Ce[0]),k(-Ce[1],ee[0])),-re[2]),q(D(k(ee[1],re[0]),k(-re[1],ee[0])),Ce[2]))),D(q(D(k(ne[1],re[0]),k(-re[1],ne[0])),ee[2]),D(q(D(k(ee[1],re[0]),k(-re[1],ee[0])),-ne[2]),q(D(k(ee[1],ne[0]),k(-ne[1],ee[0])),re[2])))),ln=le(ke,un);return ln[ln.length-1]}}function U(D,k,q,le){return function(ee,ne,re,Ce,ke){var un=D(D(D(q(D(q(D(k(Ce[1],ke[0]),k(-ke[1],Ce[0])),re[2]),D(q(D(k(re[1],ke[0]),k(-ke[1],re[0])),-Ce[2]),q(D(k(re[1],Ce[0]),k(-Ce[1],re[0])),ke[2]))),ne[3]),D(q(D(q(D(k(Ce[1],ke[0]),k(-ke[1],Ce[0])),ne[2]),D(q(D(k(ne[1],ke[0]),k(-ke[1],ne[0])),-Ce[2]),q(D(k(ne[1],Ce[0]),k(-Ce[1],ne[0])),ke[2]))),-re[3]),q(D(q(D(k(re[1],ke[0]),k(-ke[1],re[0])),ne[2]),D(q(D(k(ne[1],ke[0]),k(-ke[1],ne[0])),-re[2]),q(D(k(ne[1],re[0]),k(-re[1],ne[0])),ke[2]))),Ce[3]))),D(q(D(q(D(k(re[1],Ce[0]),k(-Ce[1],re[0])),ne[2]),D(q(D(k(ne[1],Ce[0]),k(-Ce[1],ne[0])),-re[2]),q(D(k(ne[1],re[0]),k(-re[1],ne[0])),Ce[2]))),-ke[3]),D(q(D(q(D(k(Ce[1],ke[0]),k(-ke[1],Ce[0])),ne[2]),D(q(D(k(ne[1],ke[0]),k(-ke[1],ne[0])),-Ce[2]),q(D(k(ne[1],Ce[0]),k(-Ce[1],ne[0])),ke[2]))),ee[3]),q(D(q(D(k(Ce[1],ke[0]),k(-ke[1],Ce[0])),ee[2]),D(q(D(k(ee[1],ke[0]),k(-ke[1],ee[0])),-Ce[2]),q(D(k(ee[1],Ce[0]),k(-Ce[1],ee[0])),ke[2]))),-ne[3])))),D(D(q(D(q(D(k(ne[1],ke[0]),k(-ke[1],ne[0])),ee[2]),D(q(D(k(ee[1],ke[0]),k(-ke[1],ee[0])),-ne[2]),q(D(k(ee[1],ne[0]),k(-ne[1],ee[0])),ke[2]))),Ce[3]),D(q(D(q(D(k(ne[1],Ce[0]),k(-Ce[1],ne[0])),ee[2]),D(q(D(k(ee[1],Ce[0]),k(-Ce[1],ee[0])),-ne[2]),q(D(k(ee[1],ne[0]),k(-ne[1],ee[0])),Ce[2]))),-ke[3]),q(D(q(D(k(re[1],Ce[0]),k(-Ce[1],re[0])),ne[2]),D(q(D(k(ne[1],Ce[0]),k(-Ce[1],ne[0])),-re[2]),q(D(k(ne[1],re[0]),k(-re[1],ne[0])),Ce[2]))),ee[3]))),D(q(D(q(D(k(re[1],Ce[0]),k(-Ce[1],re[0])),ee[2]),D(q(D(k(ee[1],Ce[0]),k(-Ce[1],ee[0])),-re[2]),q(D(k(ee[1],re[0]),k(-re[1],ee[0])),Ce[2]))),-ne[3]),D(q(D(q(D(k(ne[1],Ce[0]),k(-Ce[1],ne[0])),ee[2]),D(q(D(k(ee[1],Ce[0]),k(-Ce[1],ee[0])),-ne[2]),q(D(k(ee[1],ne[0]),k(-ne[1],ee[0])),Ce[2]))),re[3]),q(D(q(D(k(ne[1],re[0]),k(-re[1],ne[0])),ee[2]),D(q(D(k(ee[1],re[0]),k(-re[1],ee[0])),-ne[2]),q(D(k(ee[1],ne[0]),k(-ne[1],ee[0])),re[2]))),-Ce[3]))))),ln=D(D(D(q(D(q(D(k(Ce[1],ke[0]),k(-ke[1],Ce[0])),re[2]),D(q(D(k(re[1],ke[0]),k(-ke[1],re[0])),-Ce[2]),q(D(k(re[1],Ce[0]),k(-Ce[1],re[0])),ke[2]))),ee[3]),q(D(q(D(k(Ce[1],ke[0]),k(-ke[1],Ce[0])),ee[2]),D(q(D(k(ee[1],ke[0]),k(-ke[1],ee[0])),-Ce[2]),q(D(k(ee[1],Ce[0]),k(-Ce[1],ee[0])),ke[2]))),-re[3])),D(q(D(q(D(k(re[1],ke[0]),k(-ke[1],re[0])),ee[2]),D(q(D(k(ee[1],ke[0]),k(-ke[1],ee[0])),-re[2]),q(D(k(ee[1],re[0]),k(-re[1],ee[0])),ke[2]))),Ce[3]),q(D(q(D(k(re[1],Ce[0]),k(-Ce[1],re[0])),ee[2]),D(q(D(k(ee[1],Ce[0]),k(-Ce[1],ee[0])),-re[2]),q(D(k(ee[1],re[0]),k(-re[1],ee[0])),Ce[2]))),-ke[3]))),D(D(q(D(q(D(k(re[1],ke[0]),k(-ke[1],re[0])),ne[2]),D(q(D(k(ne[1],ke[0]),k(-ke[1],ne[0])),-re[2]),q(D(k(ne[1],re[0]),k(-re[1],ne[0])),ke[2]))),ee[3]),q(D(q(D(k(re[1],ke[0]),k(-ke[1],re[0])),ee[2]),D(q(D(k(ee[1],ke[0]),k(-ke[1],ee[0])),-re[2]),q(D(k(ee[1],re[0]),k(-re[1],ee[0])),ke[2]))),-ne[3])),D(q(D(q(D(k(ne[1],ke[0]),k(-ke[1],ne[0])),ee[2]),D(q(D(k(ee[1],ke[0]),k(-ke[1],ee[0])),-ne[2]),q(D(k(ee[1],ne[0]),k(-ne[1],ee[0])),ke[2]))),re[3]),q(D(q(D(k(ne[1],re[0]),k(-re[1],ne[0])),ee[2]),D(q(D(k(ee[1],re[0]),k(-re[1],ee[0])),-ne[2]),q(D(k(ee[1],ne[0]),k(-ne[1],ee[0])),re[2]))),-ke[3])))),dn=le(un,ln);return dn[dn.length-1]}}function X(D){return(3===D?A:4===D?Q:U)(G,I,N,Y)}var he=X(3),pe=X(4),we=[function(){return 0},function(){return 0},function(k,q){return q[0]-k[0]},function(k,q,le){var re,Me=(k[1]-le[1])*(q[0]-le[0]),ee=(k[0]-le[0])*(q[1]-le[1]),ne=Me-ee;if(Me>0){if(ee<=0)return ne;re=Me+ee}else{if(!(Me<0))return ne;if(ee>=0)return ne;re=-(Me+ee)}var Ce=33306690738754716e-32*re;return ne>=Ce||ne<=-Ce?ne:he(k,q,le)},function(k,q,le,Me){var ee=k[0]-Me[0],ne=q[0]-Me[0],re=le[0]-Me[0],Ce=k[1]-Me[1],ke=q[1]-Me[1],un=le[1]-Me[1],ln=k[2]-Me[2],dn=q[2]-Me[2],Bt=le[2]-Me[2],fn=ne*un,Xt=re*ke,v2=re*Ce,ue=ee*un,de=ee*ke,ye=ne*Ce,_e=ln*(fn-Xt)+dn*(v2-ue)+Bt*(de-ye),Fe=7771561172376103e-31*((Math.abs(fn)+Math.abs(Xt))*Math.abs(ln)+(Math.abs(v2)+Math.abs(ue))*Math.abs(dn)+(Math.abs(de)+Math.abs(ye))*Math.abs(Bt));return _e>Fe||-_e>Fe?_e:pe(k,q,le,Me)}];function Se(D){var k=we[D.length];return k||(k=we[D.length]=X(D.length)),k.apply(void 0,D)}function Be(D,k,q,le,Me,ee,ne){return function(Ce,ke,un,ln,dn){switch(arguments.length){case 0:case 1:return 0;case 2:return le(Ce,ke);case 3:return Me(Ce,ke,un);case 4:return ee(Ce,ke,un,ln);case 5:return ne(Ce,ke,un,ln,dn)}for(var Bt=new Array(arguments.length),fn=0;fn<arguments.length;++fn)Bt[fn]=arguments[fn];return D(Bt)}}!function De(){for(;we.length<=5;)we.push(X(we.length));Z.exports=Be.apply(void 0,[Se].concat(we));for(var D=0;D<=5;++D)Z.exports[D]=we[D]}()},7152:(Z,j,E)=>{Z.exports=function G(N,Y){for(var P=Y[0],r=Y[1],T=N.length,W=1,A=T,Q=0,U=T-1;Q<A;U=Q++){var X=N[Q],he=N[U],pe=X[1],we=he[1];if(we<pe){if(we<r&&r<pe){if(0===(Se=I(X,he,Y)))return 0;W^=0<Se|0}else if(r===pe&&pe<N[(Q+1)%T][1]){if(0===(Se=I(X,he,Y)))return 0;W^=0<Se|0}}else if(pe<we){if(pe<r&&r<we){if(0===(Se=I(X,he,Y)))return 0;W^=Se<0|0}else if(r===pe&&N[(Q+1)%T][1]<pe){var Se;if(0===(Se=I(X,he,Y)))return 0;W^=Se<0|0}}else if(r===pe){var D=Math.min(X[0],he[0]),k=Math.max(X[0],he[0]);if(0===Q){for(;U>0;){var q=(U+T-1)%T;if((le=N[q])[1]!==r)break;var Me=le[0];D=Math.min(D,Me),k=Math.max(k,Me),U=q}if(0===U)return D<=P&&P<=k?0:1;A=U+1}for(var ee=N[(U+T-1)%T][1];Q+1<A;){var le;if((le=N[Q+1])[1]!==r)break;Me=le[0],D=Math.min(D,Me),k=Math.max(k,Me),Q+=1}if(D<=P&&P<=k)return 0;P<D&&ee<r!=N[(Q+1)%T][1]<r&&(W^=1)}}return 2*W-1};var I=E(5152)},7263:(Z,j,E)=>{"use strict";var I=E(9776),G=E(8288);Z.exports=function N(Y,P){var r=Y.length;if(1===r){var T=I(Y[0],P);return T[0]?T:[T[1]]}var W=new Array(2*r),A=[.1,.1],Q=[.1,.1],U=0;I(Y[0],P,A),A[0]&&(W[U++]=A[0]);for(var X=1;X<r;++X){I(Y[X],P,Q),G(A[1],Q[0],A),A[0]&&(W[U++]=A[0]);var pe=Q[1],we=A[1],Se=pe+we,De=we-(Se-pe);A[1]=Se,De&&(W[U++]=De)}return A[1]&&(W[U++]=A[1]),0===U&&(W[U++]=0),W.length=U,W}},7960:Z=>{"use strict";Z.exports=function E(I,G){var N=0|I.length,Y=0|G.length;if(1===N&&1===Y)return function j(I,G){var N=I+G,Y=N-I,W=I-(N-Y)+(G-Y);return W?[W,N]:[N]}(I[0],-G[0]);var we,Se,r=new Array(N+Y),T=0,W=0,A=0,Q=Math.abs,U=I[W],X=Q(U),he=-G[A],pe=Q(he);X<pe?(Se=U,(W+=1)<N&&(X=Q(U=I[W]))):(Se=he,(A+=1)<Y&&(pe=Q(he=-G[A]))),W<N&&X<pe||A>=Y?(we=U,(W+=1)<N&&(X=Q(U=I[W]))):(we=he,(A+=1)<Y&&(pe=Q(he=-G[A])));for(var le,Me,Be=we+Se,De=Be-we,D=Se-De,k=D,q=Be;W<N&&A<Y;)X<pe?(we=U,(W+=1)<N&&(X=Q(U=I[W]))):(we=he,(A+=1)<Y&&(pe=Q(he=-G[A]))),(D=(Se=k)-(De=(Be=we+Se)-we))&&(r[T++]=D),k=q-((le=q+Be)-(Me=le-q))+(Be-Me),q=le;for(;W<N;)(D=(Se=k)-(De=(Be=(we=U)+Se)-we))&&(r[T++]=D),k=q-((le=q+Be)-(Me=le-q))+(Be-Me),q=le,(W+=1)<N&&(U=I[W]);for(;A<Y;)(D=(Se=k)-(De=(Be=(we=he)+Se)-we))&&(r[T++]=D),k=q-((le=q+Be)-(Me=le-q))+(Be-Me),q=le,(A+=1)<Y&&(he=-G[A]);return k&&(r[T++]=k),q&&(r[T++]=q),T||(r[T++]=0),r.length=T,r}},5032:Z=>{"use strict";Z.exports=function E(I,G){var N=0|I.length,Y=0|G.length;if(1===N&&1===Y)return function j(I,G){var N=I+G,Y=N-I,W=I-(N-Y)+(G-Y);return W?[W,N]:[N]}(I[0],G[0]);var we,Se,r=new Array(N+Y),T=0,W=0,A=0,Q=Math.abs,U=I[W],X=Q(U),he=G[A],pe=Q(he);X<pe?(Se=U,(W+=1)<N&&(X=Q(U=I[W]))):(Se=he,(A+=1)<Y&&(pe=Q(he=G[A]))),W<N&&X<pe||A>=Y?(we=U,(W+=1)<N&&(X=Q(U=I[W]))):(we=he,(A+=1)<Y&&(pe=Q(he=G[A])));for(var le,Me,Be=we+Se,De=Be-we,D=Se-De,k=D,q=Be;W<N&&A<Y;)X<pe?(we=U,(W+=1)<N&&(X=Q(U=I[W]))):(we=he,(A+=1)<Y&&(pe=Q(he=G[A]))),(D=(Se=k)-(De=(Be=we+Se)-we))&&(r[T++]=D),k=q-((le=q+Be)-(Me=le-q))+(Be-Me),q=le;for(;W<N;)(D=(Se=k)-(De=(Be=(we=U)+Se)-we))&&(r[T++]=D),k=q-((le=q+Be)-(Me=le-q))+(Be-Me),q=le,(W+=1)<N&&(U=I[W]);for(;A<Y;)(D=(Se=k)-(De=(Be=(we=he)+Se)-we))&&(r[T++]=D),k=q-((le=q+Be)-(Me=le-q))+(Be-Me),q=le,(A+=1)<Y&&(he=G[A]);return k&&(r[T++]=k),q&&(r[T++]=q),T||(r[T++]=0),r.length=T,r}},1880:(Z,j,E)=>{"use strict";E.d(j,{g:()=>G});var I=E(2824);class G extends I.E{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const P=super._subscribe(Y);return!P.closed&&Y.next(this._value),P}getValue(){const{hasError:Y,thrownError:P,_value:r}=this;if(Y)throw P;return this._throwIfClosed(),r}next(Y){super.next(this._value=Y)}}},872:(Z,j,E)=>{"use strict";E.d(j,{_:()=>W});var I=E(8552),G=E(5588),N=E(4224),Y=E(4256),P=E(1072),r=E(5848),T=E(7980);let W=(()=>{class X{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const we=new X;return we.source=this,we.operator=pe,we}subscribe(pe,we,Se){const Be=function U(X){return X&&X instanceof I.yR||function Q(X){return X&&(0,r.m)(X.next)&&(0,r.m)(X.error)&&(0,r.m)(X.complete)}(X)&&(0,G.GI)(X)}(pe)?pe:new I.ot(pe,we,Se);return(0,T.c)(()=>{const{operator:De,source:D}=this;Be.add(De?De.call(Be,D):D?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(pe){try{return this._subscribe(pe)}catch(we){pe.error(we)}}forEach(pe,we){return new(we=A(we))((Se,Be)=>{const De=new I.ot({next:D=>{try{pe(D)}catch(k){Be(k),De.unsubscribe()}},error:Be,complete:Se});this.subscribe(De)})}_subscribe(pe){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(pe)}[N.a](){return this}pipe(...pe){return(0,Y.Y)(pe)(this)}toPromise(pe){return new(pe=A(pe))((we,Se)=>{let Be;this.subscribe(De=>Be=De,De=>Se(De),()=>we(Be))})}}return X.create=he=>new X(he),X})();function A(X){var he;return null!==(he=X??P.config.Promise)&&void 0!==he?he:Promise}},1652:(Z,j,E)=>{"use strict";E.d(j,{o:()=>N});var I=E(2824),G=E(6368);class N extends I.E{constructor(P=1/0,r=1/0,T=G.K){super(),this._bufferSize=P,this._windowTime=r,this._timestampProvider=T,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,P),this._windowTime=Math.max(1,r)}next(P){const{isStopped:r,_buffer:T,_infiniteTimeWindow:W,_timestampProvider:A,_windowTime:Q}=this;r||(T.push(P),!W&&T.push(A.now()+Q)),this._trimBuffer(),super.next(P)}_subscribe(P){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(P),{_infiniteTimeWindow:T,_buffer:W}=this,A=W.slice();for(let Q=0;Q<A.length&&!P.closed;Q+=T?1:2)P.next(A[Q]);return this._checkFinalizedStatuses(P),r}_trimBuffer(){const{_bufferSize:P,_timestampProvider:r,_buffer:T,_infiniteTimeWindow:W}=this,A=(W?1:2)*P;if(P<1/0&&A<T.length&&T.splice(0,T.length-A),!W){const Q=r.now();let U=0;for(let X=1;X<T.length&&T[X]<=Q;X+=2)U=X;U&&T.splice(0,U+1)}}}},2824:(Z,j,E)=>{"use strict";E.d(j,{E:()=>T});var I=E(872),G=E(5588);const Y=(0,E(1328).w)(A=>function(){A(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var P=E(6120),r=E(7980);let T=(()=>{class A extends I._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const X=new W(this,this);return X.operator=U,X}_throwIfClosed(){if(this.closed)throw new Y}next(U){(0,r.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(U)}})}error(U){(0,r.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:X}=this;for(;X.length;)X.shift().error(U)}})}complete(){(0,r.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:X,isStopped:he,observers:pe}=this;return X||he?G.au:(this.currentObservers=null,pe.push(U),new G.wH(()=>{this.currentObservers=null,(0,P.k)(pe,U)}))}_checkFinalizedStatuses(U){const{hasError:X,thrownError:he,isStopped:pe}=this;X?U.error(he):pe&&U.complete()}asObservable(){const U=new I._;return U.source=this,U}}return A.create=(Q,U)=>new W(Q,U),A})();class W extends T{constructor(Q,U){super(),this.destination=Q,this.source=U}next(Q){var U,X;null===(X=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===X||X.call(U,Q)}error(Q){var U,X;null===(X=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===X||X.call(U,Q)}complete(){var Q,U;null===(U=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===U||U.call(Q)}_subscribe(Q){var U,X;return null!==(X=null===(U=this.source)||void 0===U?void 0:U.subscribe(Q))&&void 0!==X?X:G.au}}},8552:(Z,j,E)=>{"use strict";E.d(j,{ot:()=>Se,yR:()=>X});var I=E(5848),G=E(5588),N=E(1072),Y=E(2432),P=E(6645);const r=A("C",void 0,void 0);function A(q,le,Me){return{kind:q,value:le,error:Me}}var Q=E(936),U=E(7980);class X extends G.wH{constructor(le){super(),this.isStopped=!1,le?(this.destination=le,(0,G.GI)(le)&&le.add(this)):this.destination=k}static create(le,Me,ee){return new Se(le,Me,ee)}next(le){this.isStopped?D(function W(q){return A("N",q,void 0)}(le),this):this._next(le)}error(le){this.isStopped?D(function T(q){return A("E",void 0,q)}(le),this):(this.isStopped=!0,this._error(le))}complete(){this.isStopped?D(r,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(le){this.destination.next(le)}_error(le){try{this.destination.error(le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const he=Function.prototype.bind;function pe(q,le){return he.call(q,le)}class we{constructor(le){this.partialObserver=le}next(le){const{partialObserver:Me}=this;if(Me.next)try{Me.next(le)}catch(ee){Be(ee)}}error(le){const{partialObserver:Me}=this;if(Me.error)try{Me.error(le)}catch(ee){Be(ee)}else Be(le)}complete(){const{partialObserver:le}=this;if(le.complete)try{le.complete()}catch(Me){Be(Me)}}}class Se extends X{constructor(le,Me,ee){let ne;if(super(),(0,I.m)(le)||!le)ne={next:le??void 0,error:Me??void 0,complete:ee??void 0};else{let re;this&&N.config.useDeprecatedNextContext?(re=Object.create(le),re.unsubscribe=()=>this.unsubscribe(),ne={next:le.next&&pe(le.next,re),error:le.error&&pe(le.error,re),complete:le.complete&&pe(le.complete,re)}):ne=le}this.destination=new we(ne)}}function Be(q){N.config.useDeprecatedSynchronousErrorHandling?(0,U.q)(q):(0,Y.U)(q)}function D(q,le){const{onStoppedNotification:Me}=N.config;Me&&Q.u.setTimeout(()=>Me(q,le))}const k={closed:!0,next:P.K,error:function De(q){throw q},complete:P.K}},5588:(Z,j,E)=>{"use strict";E.d(j,{au:()=>r,wH:()=>P,GI:()=>T});var I=E(5848);const N=(0,E(1328).w)(A=>function(U){A(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((X,he)=>`${he+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var Y=E(6120);class P{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const pe of U)pe.remove(this);else U.remove(this);const{initialTeardown:X}=this;if((0,I.m)(X))try{X()}catch(pe){Q=pe instanceof N?pe.errors:[pe]}const{_finalizers:he}=this;if(he){this._finalizers=null;for(const pe of he)try{W(pe)}catch(we){Q=Q??[],we instanceof N?Q=[...Q,...we.errors]:Q.push(we)}}if(Q)throw new N(Q)}}add(Q){var U;if(Q&&Q!==this)if(this.closed)W(Q);else{if(Q instanceof P){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(Q)}}_hasParent(Q){const{_parentage:U}=this;return U===Q||Array.isArray(U)&&U.includes(Q)}_addParent(Q){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(Q),U):U?[U,Q]:Q}_removeParent(Q){const{_parentage:U}=this;U===Q?this._parentage=null:Array.isArray(U)&&(0,Y.k)(U,Q)}remove(Q){const{_finalizers:U}=this;U&&(0,Y.k)(U,Q),Q instanceof P&&Q._removeParent(this)}}P.EMPTY=(()=>{const A=new P;return A.closed=!0,A})();const r=P.EMPTY;function T(A){return A instanceof P||A&&"closed"in A&&(0,I.m)(A.remove)&&(0,I.m)(A.add)&&(0,I.m)(A.unsubscribe)}function W(A){(0,I.m)(A)?A():A.unsubscribe()}},1072:(Z,j,E)=>{"use strict";E.d(j,{config:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9864:(Z,j,E)=>{"use strict";E.d(j,{k:()=>G});const G=new(E(872)._)(P=>P.complete())},1056:(Z,j,E)=>{"use strict";E.d(j,{Q:()=>Me});var I=E(9957),G=E(5e3),N=E(2560);function Y(ee,ne=0){return(0,N.i)((re,Ce)=>{Ce.add(ee.schedule(()=>re.subscribe(Ce),ne))})}var T=E(872),A=E(1392),Q=E(5848),U=E(2224);function he(ee,ne){if(!ee)throw new Error("Iterable cannot be null");return new T._(re=>{(0,U._)(re,ne,()=>{const Ce=ee[Symbol.asyncIterator]();(0,U._)(re,ne,()=>{Ce.next().then(ke=>{ke.done?re.complete():re.next(ke.value)})},0,!0)})})}var pe=E(6804),we=E(6732),Se=E(3735),Be=E(5440),De=E(4900),D=E(8240),k=E(496);function Me(ee,ne){return ne?function le(ee,ne){if(null!=ee){if((0,pe.O)(ee))return function P(ee,ne){return(0,I.Uv)(ee).pipe(Y(ne),(0,G.y)(ne))}(ee,ne);if((0,Se.G)(ee))return function W(ee,ne){return new T._(re=>{let Ce=0;return ne.schedule(function(){Ce===ee.length?re.complete():(re.next(ee[Ce++]),re.closed||this.schedule())})})}(ee,ne);if((0,we.u)(ee))return function r(ee,ne){return(0,I.Uv)(ee).pipe(Y(ne),(0,G.y)(ne))}(ee,ne);if((0,De.E)(ee))return he(ee,ne);if((0,Be.i)(ee))return function X(ee,ne){return new T._(re=>{let Ce;return(0,U._)(re,ne,()=>{Ce=ee[A.w](),(0,U._)(re,ne,()=>{let ke,un;try{({value:ke,done:un}=Ce.next())}catch(ln){return void re.error(ln)}un?re.complete():re.next(ke)},0,!0)}),()=>(0,Q.m)(Ce?.return)&&Ce.return()})}(ee,ne);if((0,k.K)(ee))return function q(ee,ne){return he((0,k._)(ee),ne)}(ee,ne)}throw(0,D.W)(ee)}(ee,ne):(0,I.Uv)(ee)}},9957:(Z,j,E)=>{"use strict";E.d(j,{Uv:()=>he});var I=E(6639),G=E(3735),N=E(6732),Y=E(872),P=E(6804),r=E(4900),T=E(8240),W=E(5440),A=E(496),Q=E(5848),U=E(2432),X=E(4224);function he(q){if(q instanceof Y._)return q;if(null!=q){if((0,P.O)(q))return function pe(q){return new Y._(le=>{const Me=q[X.a]();if((0,Q.m)(Me.subscribe))return Me.subscribe(le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(q);if((0,G.G)(q))return function we(q){return new Y._(le=>{for(let Me=0;Me<q.length&&!le.closed;Me++)le.next(q[Me]);le.complete()})}(q);if((0,N.u)(q))return function Se(q){return new Y._(le=>{q.then(Me=>{le.closed||(le.next(Me),le.complete())},Me=>le.error(Me)).then(null,U.U)})}(q);if((0,r.E)(q))return De(q);if((0,W.i)(q))return function Be(q){return new Y._(le=>{for(const Me of q)if(le.next(Me),le.closed)return;le.complete()})}(q);if((0,A.K)(q))return function D(q){return De((0,A._)(q))}(q)}throw(0,T.W)(q)}function De(q){return new Y._(le=>{(function k(q,le){var Me,ee,ne,re;return(0,I.kH)(this,void 0,void 0,function*(){try{for(Me=(0,I.mA)(q);!(ee=yield Me.next()).done;)if(le.next(ee.value),le.closed)return}catch(Ce){ne={error:Ce}}finally{try{ee&&!ee.done&&(re=Me.return)&&(yield re.call(Me))}finally{if(ne)throw ne.error}}le.complete()})})(q,le).catch(Me=>le.error(Me))})}},5692:(Z,j,E)=>{"use strict";E.d(j,{U:()=>r});var I=E(7800),G=E(9957),N=E(9864),Y=E(9520),P=E(1056);function r(...T){const W=(0,Y.e_)(T),A=(0,Y._8)(T,1/0),Q=T;return Q.length?1===Q.length?(0,G.Uv)(Q[0]):(0,I.u)(A)((0,P.Q)(Q,W)):N.k}},3618:(Z,j,E)=>{"use strict";E.d(j,{of:()=>N});var I=E(9520),G=E(1056);function N(...Y){const P=(0,I.e_)(Y);return(0,G.Q)(Y,P)}},288:(Z,j,E)=>{"use strict";E.d(j,{I:()=>N,e:()=>G});var I=E(8552);function G(Y,P,r,T,W){return new N(Y,P,r,T,W)}class N extends I.yR{constructor(P,r,T,W,A,Q){super(P),this.onFinalize=A,this.shouldUnsubscribe=Q,this._next=r?function(U){try{r(U)}catch(X){P.error(X)}}:super._next,this._error=W?function(U){try{W(U)}catch(X){P.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=T?function(){try{T()}catch(U){P.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var P;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(P=this.onFinalize)||void 0===P||P.call(this))}}}},8676:(Z,j,E)=>{"use strict";E.d(j,{a:()=>Y});var I=E(9957),G=E(288),N=E(2560);function Y(P){return(0,N.i)((r,T)=>{let Q,W=null,A=!1;W=r.subscribe((0,G.e)(T,void 0,void 0,U=>{Q=(0,I.Uv)(P(U,Y(P)(r))),W?(W.unsubscribe(),W=null,Q.subscribe(T)):A=!0})),A&&(W.unsubscribe(),W=null,Q.subscribe(T))})}},640:(Z,j,E)=>{"use strict";E.d(j,{m:()=>N});var I=E(9177),G=E(5848);function N(Y,P){return(0,G.m)(P)?(0,I.O)(Y,P,1):(0,I.O)(Y,1)}},8192:(Z,j,E)=>{"use strict";E.d(j,{o:()=>Y});var I=E(4544),G=E(2560),N=E(288);function Y(P,r=I.M){return(0,G.i)((T,W)=>{let A=null,Q=null,U=null;const X=()=>{if(A){A.unsubscribe(),A=null;const pe=Q;Q=null,W.next(pe)}};function he(){const pe=U+P,we=r.now();if(we<pe)return A=this.schedule(void 0,pe-we),void W.add(A);X()}T.subscribe((0,N.e)(W,pe=>{Q=pe,U=r.now(),A||(A=r.schedule(he,P),W.add(A))},()=>{X(),W.complete()},void 0,()=>{Q=A=null}))})}},2435:(Z,j,E)=>{"use strict";E.d(j,{a:()=>Y});var I=E(96),G=E(2560),N=E(288);function Y(r,T=I.Z){return r=r??P,(0,G.i)((W,A)=>{let Q,U=!0;W.subscribe((0,N.e)(A,X=>{const he=T(X);(U||!r(Q,he))&&(U=!1,Q=he,A.next(X))}))})}function P(r,T){return r===T}},8112:(Z,j,E)=>{"use strict";E.d(j,{I:()=>N});var I=E(2560),G=E(288);function N(Y,P){return(0,I.i)((r,T)=>{let W=0;r.subscribe((0,G.e)(T,A=>Y.call(P,A,W++)&&T.next(A)))})}},6744:(Z,j,E)=>{"use strict";E.d(j,{k:()=>N});var I=E(2560),G=E(288);function N(Y,P){return(0,I.i)((r,T)=>{let W=0;r.subscribe((0,G.e)(T,A=>{T.next(Y.call(P,A,W++))}))})}},7800:(Z,j,E)=>{"use strict";E.d(j,{u:()=>N});var I=E(9177),G=E(96);function N(Y=1/0){return(0,I.O)(G.Z,Y)}},9177:(Z,j,E)=>{"use strict";E.d(j,{O:()=>W});var I=E(6744),G=E(9957),N=E(2560),Y=E(2224),P=E(288),T=E(5848);function W(A,Q,U=1/0){return(0,T.m)(Q)?W((X,he)=>(0,I.k)((pe,we)=>Q(X,pe,he,we))((0,G.Uv)(A(X,he))),U):("number"==typeof Q&&(U=Q),(0,N.i)((X,he)=>function r(A,Q,U,X,he,pe,we,Se){const Be=[];let De=0,D=0,k=!1;const q=()=>{k&&!Be.length&&!De&&Q.complete()},le=ee=>De<X?Me(ee):Be.push(ee),Me=ee=>{pe&&Q.next(ee),De++;let ne=!1;(0,G.Uv)(U(ee,D++)).subscribe((0,P.e)(Q,re=>{he?.(re),pe?le(re):Q.next(re)},()=>{ne=!0},void 0,()=>{if(ne)try{for(De--;Be.length&&De<X;){const re=Be.shift();we?(0,Y._)(Q,we,()=>Me(re)):Me(re)}q()}catch(re){Q.error(re)}}))};return A.subscribe((0,P.e)(Q,le,()=>{k=!0,q()})),()=>{Se?.()}}(X,he,A,U)))}},5e3:(Z,j,E)=>{"use strict";E.d(j,{y:()=>Y});var I=E(2224),G=E(2560),N=E(288);function Y(P,r=0){return(0,G.i)((T,W)=>{T.subscribe((0,N.e)(W,A=>(0,I._)(W,P,()=>W.next(A),r),()=>(0,I._)(W,P,()=>W.complete(),r),A=>(0,I._)(W,P,()=>W.error(A),r)))})}},6680:(Z,j,E)=>{"use strict";E.d(j,{K:()=>Y});var I=E(2560),G=E(288);function Y(P,r){return(0,I.i)(function N(P,r,T,W,A){return(Q,U)=>{let X=T,he=r,pe=0;Q.subscribe((0,G.e)(U,we=>{const Se=pe++;he=X?P(he,we,Se):(X=!0,we),W&&U.next(he)},A&&(()=>{X&&U.next(he),U.complete()})))}}(P,r,arguments.length>=2,!0))}},2500:(Z,j,E)=>{"use strict";E.d(j,{o:()=>P});var I=E(9957),G=E(2824),N=E(8552),Y=E(2560);function P(T={}){const{connector:W=(()=>new G.E),resetOnError:A=!0,resetOnComplete:Q=!0,resetOnRefCountZero:U=!0}=T;return X=>{let he,pe,we,Se=0,Be=!1,De=!1;const D=()=>{pe?.unsubscribe(),pe=void 0},k=()=>{D(),he=we=void 0,Be=De=!1},q=()=>{const le=he;k(),le?.unsubscribe()};return(0,Y.i)((le,Me)=>{Se++,!De&&!Be&&D();const ee=we=we??W();Me.add(()=>{Se--,0===Se&&!De&&!Be&&(pe=r(q,U))}),ee.subscribe(Me),!he&&Se>0&&(he=new N.ot({next:ne=>ee.next(ne),error:ne=>{De=!0,D(),pe=r(k,A,ne),ee.error(ne)},complete:()=>{Be=!0,D(),pe=r(k,Q),ee.complete()}}),(0,I.Uv)(le).subscribe(he))})(X)}}function r(T,W,...A){if(!0===W)return void T();if(!1===W)return;const Q=new N.ot({next:()=>{Q.unsubscribe(),T()}});return(0,I.Uv)(W(...A)).subscribe(Q)}},3140:(Z,j,E)=>{"use strict";E.d(j,{s:()=>G});var I=E(8112);function G(N){return(0,I.I)((Y,P)=>N<=P)}},6792:(Z,j,E)=>{"use strict";E.d(j,{G:()=>Y});var I=E(9957),G=E(2560),N=E(288);function Y(P,r){return(0,G.i)((T,W)=>{let A=null,Q=0,U=!1;const X=()=>U&&!A&&W.complete();T.subscribe((0,N.e)(W,he=>{A?.unsubscribe();let pe=0;const we=Q++;(0,I.Uv)(P(he,we)).subscribe(A=(0,N.e)(W,Se=>W.next(r?r(he,Se,we,pe++):Se),()=>{A=null,X()}))},()=>{U=!0,X()}))})}},6264:(Z,j,E)=>{"use strict";E.d(j,{U:()=>Y});var I=E(9864),G=E(2560),N=E(288);function Y(P){return P<=0?()=>I.k:(0,G.i)((r,T)=>{let W=0;r.subscribe((0,N.e)(T,A=>{++W<=P&&(T.next(A),P<=W&&T.complete())}))})}},8480:(Z,j,E)=>{"use strict";E.d(j,{a:()=>P});var I=E(2560),G=E(288),N=E(9957),Y=E(6645);function P(r){return(0,I.i)((T,W)=>{(0,N.Uv)(r).subscribe((0,G.e)(W,()=>W.complete(),Y.K)),!W.closed&&T.subscribe(W)})}},1552:(Z,j,E)=>{"use strict";E.d(j,{m:()=>A});var I=E(4544),G=E(8200),N=E(2560),Y=E(9957),P=E(1328),r=E(288),T=E(2224);const W=(0,P.w)(U=>function(he=null){U(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=he});function A(U,X){const{first:he,each:pe,with:we=Q,scheduler:Se=X??I.M,meta:Be=null}=(0,G.e)(U)?{first:U}:"number"==typeof U?{each:U}:U;if(null==he&&null==pe)throw new TypeError("No timeout provided.");return(0,N.i)((De,D)=>{let k,q,le=null,Me=0;const ee=ne=>{q=(0,T._)(D,Se,()=>{try{k.unsubscribe(),(0,Y.Uv)(we({meta:Be,lastValue:le,seen:Me})).subscribe(D)}catch(re){D.error(re)}},ne)};k=De.subscribe((0,r.e)(D,ne=>{q?.unsubscribe(),Me++,D.next(le=ne),pe>0&&ee(pe)},void 0,void 0,()=>{q?.closed||q?.unsubscribe(),le=null})),!Me&&ee(null!=he?"number"==typeof he?he:+he-Se.now():pe)})}function Q(U){throw new W(U)}},292:(Z,j,E)=>{"use strict";E.d(j,{O:()=>T});var I=E(2560),G=E(288),N=E(9957),Y=E(96),P=E(6645),r=E(9520);function T(...W){const A=(0,r.yu)(W);return(0,I.i)((Q,U)=>{const X=W.length,he=new Array(X);let pe=W.map(()=>!1),we=!1;for(let Se=0;Se<X;Se++)(0,N.Uv)(W[Se]).subscribe((0,G.e)(U,Be=>{he[Se]=Be,!we&&!pe[Se]&&(pe[Se]=!0,(we=pe.every(Y.Z))&&(pe=null))},P.K));Q.subscribe((0,G.e)(U,Se=>{if(we){const Be=[Se,...he];U.next(A?A(...Be):Be)}}))})}},6944:(Z,j,E)=>{"use strict";E.d(j,{m:()=>P});var I=E(5588);class G extends I.wH{constructor(T,W){super()}schedule(T,W=0){return this}}const N={setInterval(r,T,...W){const{delegate:A}=N;return A?.setInterval?A.setInterval(r,T,...W):setInterval(r,T,...W)},clearInterval(r){const{delegate:T}=N;return(T?.clearInterval||clearInterval)(r)},delegate:void 0};var Y=E(6120);class P extends G{constructor(T,W){super(T,W),this.scheduler=T,this.work=W,this.pending=!1}schedule(T,W=0){var A;if(this.closed)return this;this.state=T;const Q=this.id,U=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(U,Q,W)),this.pending=!0,this.delay=W,this.id=null!==(A=this.id)&&void 0!==A?A:this.requestAsyncId(U,this.id,W),this}requestAsyncId(T,W,A=0){return N.setInterval(T.flush.bind(T,this),A)}recycleAsyncId(T,W,A=0){if(null!=A&&this.delay===A&&!1===this.pending)return W;null!=W&&N.clearInterval(W)}execute(T,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const A=this._execute(T,W);if(A)return A;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(T,W){let Q,A=!1;try{this.work(T)}catch(U){A=!0,Q=U||new Error("Scheduled action threw falsy error")}if(A)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:T,scheduler:W}=this,{actions:A}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.k)(A,this),null!=T&&(this.id=this.recycleAsyncId(W,T,null)),this.delay=null,super.unsubscribe()}}}},5955:(Z,j,E)=>{"use strict";E.d(j,{k:()=>N});var I=E(6368);class G{constructor(P,r=G.now){this.schedulerActionCtor=P,this.now=r}schedule(P,r=0,T){return new this.schedulerActionCtor(this,P).schedule(T,r)}}G.now=I.K.now;class N extends G{constructor(P,r=G.now){super(P,r),this.actions=[],this._active=!1}flush(P){const{actions:r}=this;if(this._active)return void r.push(P);let T;this._active=!0;do{if(T=P.execute(P.state,P.delay))break}while(P=r.shift());if(this._active=!1,T){for(;P=r.shift();)P.unsubscribe();throw T}}}},4544:(Z,j,E)=>{"use strict";E.d(j,{M:()=>N,a:()=>Y});var I=E(6944);const N=new(E(5955).k)(I.m),Y=N},6368:(Z,j,E)=>{"use strict";E.d(j,{K:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},7668:(Z,j,E)=>{"use strict";E.d(j,{M:()=>P});var I=E(6944),N=E(5955);const P=new class Y extends N.k{}(class G extends I.m{constructor(W,A){super(W,A),this.scheduler=W,this.work=A}schedule(W,A=0){return A>0?super.schedule(W,A):(this.delay=A,this.state=W,this.scheduler.flush(this),this)}execute(W,A){return A>0||this.closed?super.execute(W,A):this._execute(W,A)}requestAsyncId(W,A,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(W,A,Q):(W.flush(this),0)}})},936:(Z,j,E)=>{"use strict";E.d(j,{u:()=>I});const I={setTimeout(G,N,...Y){const{delegate:P}=I;return P?.setTimeout?P.setTimeout(G,N,...Y):setTimeout(G,N,...Y)},clearTimeout(G){const{delegate:N}=I;return(N?.clearTimeout||clearTimeout)(G)},delegate:void 0}},1392:(Z,j,E)=>{"use strict";E.d(j,{w:()=>G});const G=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4224:(Z,j,E)=>{"use strict";E.d(j,{a:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},9520:(Z,j,E)=>{"use strict";E.d(j,{_8:()=>r,e_:()=>P,yu:()=>Y});var I=E(5848),G=E(7876);function N(T){return T[T.length-1]}function Y(T){return(0,I.m)(N(T))?T.pop():void 0}function P(T){return(0,G.G)(N(T))?T.pop():void 0}function r(T,W){return"number"==typeof N(T)?T.pop():W}},6120:(Z,j,E)=>{"use strict";function I(G,N){if(G){const Y=G.indexOf(N);0<=Y&&G.splice(Y,1)}}E.d(j,{k:()=>I})},1328:(Z,j,E)=>{"use strict";function I(G){const Y=G(P=>{Error.call(P),P.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}E.d(j,{w:()=>I})},7980:(Z,j,E)=>{"use strict";E.d(j,{c:()=>N,q:()=>Y});var I=E(1072);let G=null;function N(P){if(I.config.useDeprecatedSynchronousErrorHandling){const r=!G;if(r&&(G={errorThrown:!1,error:null}),P(),r){const{errorThrown:T,error:W}=G;if(G=null,T)throw W}}else P()}function Y(P){I.config.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=P)}},2224:(Z,j,E)=>{"use strict";function I(G,N,Y,P=0,r=!1){const T=N.schedule(function(){Y(),r?G.add(this.schedule(null,P)):this.unsubscribe()},P);if(G.add(T),!r)return T}E.d(j,{_:()=>I})},96:(Z,j,E)=>{"use strict";function I(G){return G}E.d(j,{Z:()=>I})},3735:(Z,j,E)=>{"use strict";E.d(j,{G:()=>I});const I=G=>G&&"number"==typeof G.length&&"function"!=typeof G},4900:(Z,j,E)=>{"use strict";E.d(j,{E:()=>G});var I=E(5848);function G(N){return Symbol.asyncIterator&&(0,I.m)(N?.[Symbol.asyncIterator])}},8200:(Z,j,E)=>{"use strict";function I(G){return G instanceof Date&&!isNaN(G)}E.d(j,{e:()=>I})},5848:(Z,j,E)=>{"use strict";function I(G){return"function"==typeof G}E.d(j,{m:()=>I})},6804:(Z,j,E)=>{"use strict";E.d(j,{O:()=>N});var I=E(4224),G=E(5848);function N(Y){return(0,G.m)(Y[I.a])}},5440:(Z,j,E)=>{"use strict";E.d(j,{i:()=>N});var I=E(1392),G=E(5848);function N(Y){return(0,G.m)(Y?.[I.w])}},6732:(Z,j,E)=>{"use strict";E.d(j,{u:()=>G});var I=E(5848);function G(N){return(0,I.m)(N?.then)}},496:(Z,j,E)=>{"use strict";E.d(j,{K:()=>Y,_:()=>N});var I=E(6639),G=E(5848);function N(P){return(0,I.o7)(this,arguments,function*(){const T=P.getReader();try{for(;;){const{value:W,done:A}=yield(0,I.U1)(T.read());if(A)return yield(0,I.U1)(void 0);yield yield(0,I.U1)(W)}}finally{T.releaseLock()}})}function Y(P){return(0,G.m)(P?.getReader)}},7876:(Z,j,E)=>{"use strict";E.d(j,{G:()=>G});var I=E(5848);function G(N){return N&&(0,I.m)(N.schedule)}},2560:(Z,j,E)=>{"use strict";E.d(j,{e:()=>G,i:()=>N});var I=E(5848);function G(Y){return(0,I.m)(Y?.lift)}function N(Y){return P=>{if(G(P))return P.lift(function(r){try{return Y(r,this)}catch(T){this.error(T)}});throw new TypeError("Unable to lift unknown Observable type")}}},6645:(Z,j,E)=>{"use strict";function I(){}E.d(j,{K:()=>I})},4256:(Z,j,E)=>{"use strict";E.d(j,{W:()=>G,Y:()=>N});var I=E(96);function G(...Y){return N(Y)}function N(Y){return 0===Y.length?I.Z:1===Y.length?Y[0]:function(r){return Y.reduce((T,W)=>W(T),r)}}},2432:(Z,j,E)=>{"use strict";E.d(j,{U:()=>N});var I=E(1072),G=E(936);function N(Y){G.u.setTimeout(()=>{const{onUnhandledError:P}=I.config;if(!P)throw Y;P(Y)})}},8240:(Z,j,E)=>{"use strict";function I(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(j,{W:()=>I})},9776:Z=>{"use strict";Z.exports=function E(I,G,N){var Y=I*G,P=j*I,T=P-(P-I),W=I-T,A=j*G,U=A-(A-G),X=G-U,Se=W*X-(Y-T*U-W*U-T*X);return N?(N[0]=Se,N[1]=Y,N):[Se,Y]};var j=+(Math.pow(2,27)+1)},8288:Z=>{"use strict";Z.exports=function j(E,I,G){var N=E+I,Y=N-E,r=I-Y,T=E-(N-Y);return G?(G[0]=T+r,G[1]=N,G):[T+r,N]}},8212:(Z,j,E)=>{"use strict";var I={};E.r(I),E.d(I,{parseConstruction$:()=>ny,parseConstructionSuccess$:()=>iy});var G={};E.r(G),E.d(G,{addConstruction$:()=>gg,showConstruction$:()=>mg});var N={};E.r(N),E.d(N,{addModeItem$:()=>oy,changeActiveItem$:()=>ry,deleteModeItem$:()=>SE});var Y={};E.r(Y),E.d(Y,{openFile$:()=>ZE,openFileSuccess$:()=>jy});var P=E(3972),r=E(9228);let T=null;function W(){return T}class Q{}const X=new r.UbH("");let he=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:()=>(0,r.uUt)(we),providedIn:"platform"})}return n})();const pe=new r.UbH("");let we=(()=>{class n extends he{constructor(){super(),this._doc=(0,r.uUt)(X),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(e){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,s){this._history.pushState(e,i,s)}replaceState(e,i,s){this._history.replaceState(e,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function De(n){return n&&"?"!==n[0]?"?"+n:n}let D=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:()=>(0,r.uUt)(q),providedIn:"root"})}return n})();const k=new r.UbH("");let q=(()=>{class n extends D{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,r.uUt)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+De(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,c){const h=this.prepareExternalUrl(s+De(c));this._platformLocation.pushState(e,i,h)}replaceState(e,i,s,c){const h=this.prepareExternalUrl(s+De(c));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(he),r.CoB(k,8))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),le=(()=>{class n extends D{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,c){let h=this.prepareExternalUrl(s+De(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,s,c){let h=this.prepareExternalUrl(s+De(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(he),r.CoB(k,8))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})(),Me=(()=>{class n{constructor(e){this._subject=new r._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Be(re(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+De(i))}normalize(e){return n.stripTrailingSlash(function ne(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,re(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._locationStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+De(i)),s)}replaceState(e,i="",s=null){this._locationStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+De(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}static#e=this.normalizeQueryParams=De;static#t=this.joinWithSlash=Se;static#n=this.stripTrailingSlash=Be;static#i=this.\u0275fac=function(i){return new(i||n)(r.CoB(D))};static#s=this.\u0275prov=r.wxM({token:n,factory:()=>function ee(){return new Me((0,r.CoB)(D))}(),providedIn:"root"})}return n})();function re(n){return n.replace(/\/index.html$/,"")}function Cc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(c)}return null}const Cr=/\s+/,Mc=[];let e1=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=Mc,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Cr):Mc}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Cr):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const s=this.stateMap.get(e);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],s=e[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Cr).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(r.q87))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","ngClass",""]],inputs:{klass:[r.Wk5.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class j1{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,c,h)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new j1(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===c?void 0:c);else if(null!==c){const d=i.get(c);i.move(d,h),xc(d,s)}});for(let s=0,c=i.length;s<c;s++){const d=i.get(s).context;d.index=s,d.count=c,d.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{xc(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.y8U),r.GI1(r.Yw2),r.GI1(r.Uj7))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function xc(n,t){n.context.$implicit=t.item}let zn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Nh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){bc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){bc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.y8U),r.GI1(r.Yw2))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Nh{constructor(){this.$implicit=null,this.ngIf=null}}function bc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,r.GEN)(t)}'.`)}let Ve=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,c]=e.split("."),h=-1===s.indexOf("-")?void 0:r.yzm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,s,c?`${i}${c}`:i,h):this._renderer.removeStyle(this._ngEl.nativeElement,s,h)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(r.YNh),r.GI1(r.q87))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Pe=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,s)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,s),get:(e,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.y8U))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[r.SYr]})}return n})();class Dt{createSubscription(t,e){return(0,r.sRj)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,r.sRj)(()=>t.unsubscribe())}}class Gn{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Ht=new Gn,W1=new Dt;let lo=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,r.w5$)(e))return Ht;if((0,r.gX2)(e))return W1;throw function ut(n,t){return new r.OBp(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.kD9,16))};static#t=this.\u0275pipe=r.UTH({name:"async",type:n,pure:!1,standalone:!0})}return n})(),nn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})();const Gh="browser";function lt(n){return n===Gh}function E0(n){return"server"===n}let Sr=(()=>{class n{static#e=this.\u0275prov=(0,r.wxM)({token:n,providedIn:"root",factory:()=>lt((0,r.uUt)(r.AHE))?new $n((0,r.uUt)(X),window):new b1})}return n})();class $n{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function $h(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const c=s.shadowRoot;if(c){const h=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(h)return h}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],s-c[1])}}class b1{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class m1{}class jf extends Q{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ac extends jf{static makeCurrent(){!function A(n){T??=n}(new Ac)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Qh(){return vo=vo||document.querySelector("base"),vo?vo.getAttribute("href"):null}();return null==e?null:function A0(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Cc(document.cookie,t)}}let vo=null,cd=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();const Oc=new r.UbH("");let Zh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(c=>c.supports(e)),!i)throw new r.OBp(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(Oc),r.CoB(r.WW2))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();class Xh{constructor(t){this._doc=t}}const O0="ng-app-id";let Jh=(()=>{class n{constructor(e,i,s,c={}){this.doc=e,this.appId=i,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=E0(c),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(s=>s.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${O0}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(e,i){const s=this.styleRef;if(s.has(e)){const c=s.get(e);return c.usage+=i,c.usage}return s.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const s=this.styleNodesInDOM,c=s?.get(i);if(c?.parentNode===e)return s.delete(i),c.removeAttribute(O0),c;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(O0,this.appId),e.appendChild(h),h}}addStyleToHost(e,i){const s=this.getStyleElement(e,i),c=this.styleRef,h=c.get(i)?.elements;h?h.push(s):c.set(i,{elements:[s],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(X),r.CoB(r.QHP),r.CoB(r.YND,8),r.CoB(r.AHE))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();const Bc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},e5=/%COMP%/g,qf=new r.UbH("",{providedIn:"root",factory:()=>!0});function t5(n,t){return t.map(e=>e.replace(e5,n))}let B0=(()=>{class n{constructor(e,i,s,c,h,d,g,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=h,this.platformId=d,this.ngZone=g,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=E0(d),this.defaultRenderer=new Lr(e,h,g,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===r.K6R.ShadowDom&&(i={...i,encapsulation:r.K6R.Emulated});const s=this.getOrCreateRenderer(e,i);return s instanceof hd?s.applyToHost(e):s instanceof P0&&s.applyStyles(),s}getOrCreateRenderer(e,i){const s=this.rendererByCompId;let c=s.get(i.id);if(!c){const h=this.doc,d=this.ngZone,g=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case r.K6R.Emulated:c=new hd(g,f,i,this.appId,_,h,d,y);break;case r.K6R.ShadowDom:return new Pc(g,f,e,i,h,d,this.nonce,y);default:c=new P0(g,f,i,_,h,d,y)}s.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(Zh),r.CoB(Jh),r.CoB(r.QHP),r.CoB(qf),r.CoB(X),r.CoB(r.AHE),r.CoB(r.WW2),r.CoB(r.YND))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();class Lr{constructor(t,e,i,s){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Bc[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(mo(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(mo(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new r.OBp(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const c=Bc[s];c?t.setAttributeNS(c,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Bc[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(r.yzm.DashCase|r.yzm.Important)?t.style.setProperty(e,i,s&r.yzm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&r.yzm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=W().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function mo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Pc extends Lr{constructor(t,e,i,s,c,h,d,g){super(t,c,h,g),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=t5(s.id,s.styles);for(const _ of f){const y=document.createElement("style");d&&y.setAttribute("nonce",d),y.textContent=_,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class P0 extends Lr{constructor(t,e,i,s,c,h,d,g){super(t,c,h,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=s,this.styles=g?t5(g,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hd extends P0{constructor(t,e,i,s,c,h,d,g){const f=s+"-"+i.id;super(t,e,i,c,h,d,g,f),this.contentAttr=function Kf(n){return"_ngcontent-%COMP%".replace(e5,n)}(f),this.hostAttr=function Yf(n){return"_nghost-%COMP%".replace(e5,n)}(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Y1=(()=>{class n extends Xh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(X))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();const fo=["alt","control","meta","shift"],ud={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k0={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let R0=(()=>{class n extends Xh{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const c=n.parseEventName(i),h=n.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=n._normalizeKey(i.pop());let h="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),h="code."),fo.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),h+=f+".")}),h+=c,0!=i.length||0===c.length)return null;const g={};return g.domEventName=s,g.fullKey=h,g}static matchEventFullKeyCode(e,i){let s=ud[e.key]||e.key,c="";return i.indexOf("code.")>-1&&(s=e.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),fo.forEach(h=>{h!==s&&(0,k0[h])(e)&&(c+=h+".")}),c+=s,c===i)}static eventCallback(e,i,s){return c=>{n.matchEventFullKeyCode(c,e)&&s.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(X))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();const Hx=[{provide:r.AHE,useValue:Gh},{provide:r.crf,useValue:function li(){Ac.makeCurrent()},multi:!0},{provide:X,useFactory:function Vr(){return(0,r.auf)(document),document},deps:[]}],Zf=new r.UbH(""),N0=[{provide:r.Mn9,useClass:class Wf{addToWindow(t){r.IHs.getAngularTestability=(i,s=!0)=>{const c=t.findTestabilityInTree(i,s);if(null==c)throw new r.OBp(5103,!1);return c},r.IHs.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.IHs.getAllAngularRootElements=()=>t.getAllRootElements(),r.IHs.frameworkStabilizers||(r.IHs.frameworkStabilizers=[]),r.IHs.frameworkStabilizers.push(i=>{const s=r.IHs.getAllAngularTestabilities();let c=s.length;const h=function(){c--,0==c&&i()};s.forEach(d=>{d.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?W().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:r.aS5,useClass:r.G4X,deps:[r.WW2,r.eOv,r.Mn9]},{provide:r.G4X,useClass:r.G4X,deps:[r.WW2,r.eOv,r.Mn9]}],Hr=[{provide:r.i4S,useValue:"root"},{provide:r.eAe,useFactory:function s5(){return new r.eAe},deps:[]},{provide:Oc,useClass:Y1,multi:!0,deps:[X,r.WW2,r.AHE]},{provide:Oc,useClass:R0,multi:!0,deps:[X]},B0,Jh,Zh,{provide:r.O8F,useExisting:B0},{provide:m1,useClass:cd,deps:[]},[]];let Xf=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:r.QHP,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(Zf,12))};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({providers:[...Hr,...N0],imports:[nn,r.Ev2]})}return n})(),F0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(X))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:function(i){let s=null;return s=i?new(i||n):r.CoB(ip),s},providedIn:"root"})}return n})(),ip=(()=>{class n extends U0{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case r.SI6.NONE:return i;case r.SI6.HTML:return(0,r.K2p)(i,"HTML")?(0,r.E2t)(i):(0,r.Om8)(this._doc,String(i)).toString();case r.SI6.STYLE:return(0,r.K2p)(i,"Style")?(0,r.E2t)(i):i;case r.SI6.SCRIPT:if((0,r.K2p)(i,"Script"))return(0,r.E2t)(i);throw new r.OBp(5200,!1);case r.SI6.URL:return(0,r.K2p)(i,"URL")?(0,r.E2t)(i):(0,r.ozE)(String(i));case r.SI6.RESOURCE_URL:if((0,r.K2p)(i,"ResourceURL"))return(0,r.E2t)(i);throw new r.OBp(5201,!1);default:throw new r.OBp(5202,!1)}}bypassSecurityTrustHtml(e){return(0,r.GM_)(e)}bypassSecurityTrustStyle(e){return(0,r.Vfw)(e)}bypassSecurityTrustScript(e){return(0,r.ER9)(e)}bypassSecurityTrustUrl(e){return(0,r.Gc)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.u8n)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(X))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var t1=E(872),Si=E(5848);function po(n){return!!n&&(n instanceof t1._||(0,Si.m)(n.lift)&&(0,Si.m)(n.subscribe))}var Je=E(1056),st=E(3618),H1=E(1880);const{isArray:h5}=Array,{getPrototypeOf:gd,prototype:u5,keys:op}=Object;function $0(n){if(1===n.length){const t=n[0];if(h5(t))return{args:t,keys:null};if(function Px(n){return n&&"object"==typeof n&&gd(n)===u5}(t)){const e=op(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var j0=E(96),xt=E(6744);const{isArray:kx}=Array;function Ct(n){return(0,xt.k)(t=>function d5(n,t){return kx(t)?n(...t):n(t)}(n,t))}var jt=E(9520);function rp(n,t){return n.reduce((e,i,s)=>(e[i]=t[s],e),{})}var c1=E(288),lp=E(2224);function md(...n){const t=(0,jt.e_)(n),e=(0,jt.yu)(n),{args:i,keys:s}=$0(n);if(0===i.length)return(0,Je.Q)([],t);const c=new t1._(function cp(n,t,e=j0.Z){return i=>{W0(t,()=>{const{length:s}=n,c=new Array(s);let h=s,d=s;for(let g=0;g<s;g++)W0(t,()=>{const f=(0,Je.Q)(n[g],t);let _=!1;f.subscribe((0,c1.e)(i,y=>{c[g]=y,_||(_=!0,d--),d||i.next(e(c.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,t,s?h=>rp(s,h):j0.Z));return e?c.pipe(Ct(e)):c}function W0(n,t,e){n?(0,lp._)(e,n,t):t()}const Ir=(0,E(1328).w)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var a1=E(7800);function pd(...n){return function fd(){return(0,a1.u)(1)}()((0,Je.Q)(n,(0,jt.e_)(n)))}var Tr=E(9957);function Dr(n){return new t1._(t=>{(0,Tr.Uv)(n()).subscribe(t)})}var g5=E(4256);function y2(n,t){const e=(0,Si.m)(n)?n:()=>n,i=s=>s.error(e());return new t1._(t?s=>t.schedule(i,0,s):i)}var C2=E(9864),Ar=E(5588),I1=E(2560);function q0(){return(0,I1.i)((n,t)=>{let e=null;n._refCount++;const i=(0,c1.e)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,c=e;e=null,s&&(!c||s===c)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class M2 extends t1._{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,I1.e)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ar.wH;const e=this.getSubject();t.add(this.source.subscribe((0,c1.e)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ar.wH.EMPTY)}return t}refCount(){return q0()(this)}}var Et=E(2824),qn=E(6792),x2=E(6264);function n1(...n){const t=(0,jt.e_)(n);return(0,I1.i)((e,i)=>{(t?pd(n,e,t):pd(n,e)).subscribe(i)})}var p1=E(8112),vt=E(9177);function wo(n){return(0,I1.i)((t,e)=>{let i=!1;t.subscribe((0,c1.e)(e,s=>{i=!0,e.next(s)},()=>{i||e.next(n),e.complete()}))})}function K0(n=Rc){return(0,I1.i)((t,e)=>{let i=!1;t.subscribe((0,c1.e)(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(n())))})}function Rc(){return new Ir}function _o(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,p1.I)((s,c)=>n(s,c,i)):j0.Z,(0,x2.U)(1),e?wo(t):K0(()=>new Ir))}var Or=E(640);function w1(n,t,e){const i=(0,Si.m)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,I1.i)((s,c)=>{var h;null===(h=i.subscribe)||void 0===h||h.call(i);let d=!0;s.subscribe((0,c1.e)(c,g=>{var f;null===(f=i.next)||void 0===f||f.call(i,g),c.next(g)},()=>{var g;d=!1,null===(g=i.complete)||void 0===g||g.call(i),c.complete()},g=>{var f;d=!1,null===(f=i.error)||void 0===f||f.call(i,g),c.error(g)},()=>{var g,f;d&&(null===(g=i.unsubscribe)||void 0===g||g.call(i)),null===(f=i.finalize)||void 0===f||f.call(i)}))}):j0.Z}var b2=E(8676),Rx=E(6680);function Br(n){return n<=0?()=>C2.k:(0,I1.i)((t,e)=>{let i=[];t.subscribe((0,c1.e)(e,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function Y0(n){return(0,xt.k)(()=>n)}function E2(n){return(0,I1.i)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var vn=E(8480);const St="primary",zo=Symbol("RouteTitle");class Nc{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ds(n){return new Nc(n)}function Pr(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let c=0;c<i.length;c++){const h=i[c],d=n[c];if(h.startsWith(":"))s[h.substring(1)]=d;else if(h!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Li(n,t){const e=n?kr(n):void 0,i=t?kr(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let c=0;c<e.length;c++)if(s=e[c],!hp(n[s],t[s]))return!1;return!0}function kr(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hp(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,c)=>i[c]===s)}return n===t}function Q0(n){return n.length>0?n[n.length-1]:null}function Vi(n){return po(n)?n:(0,r.w5$)(n)?(0,Je.Q)(Promise.resolve(n)):(0,st.of)(n)}const up={exact:function Z0(n,t,e){if(!Nr(n.segments,t.segments)||!As(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Z0(n.children[i],t.children[i],e))return!1;return!0},subset:zd},f5={exact:function dp(n,t){return Li(n,t)},subset:function _d(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>hp(n[e],t[e]))},ignored:()=>!0};function wd(n,t,e){return up[e.paths](n.root,t.root,e.matrixParams)&&f5[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function zd(n,t,e){return yd(n,t,t.segments,e)}function yd(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!Nr(s,e)||t.hasChildren()||!As(s,e,i))}if(n.segments.length===e.length){if(!Nr(n.segments,e)||!As(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!zd(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Nr(n.segments,s)&&As(n.segments,s,i)&&n.children[St])&&yd(n.children[St],t,c,i)}}function As(n,t,e){return t.every((i,s)=>f5[e](n[s].parameters,i.parameters))}class yo{constructor(t=new sn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){return p5.serialize(this)}}class sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return X0(this)}}class Rr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Ds(this.parameters),this._parameterMap}toString(){return e4(this)}}function Nr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Fr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:()=>new Gr,providedIn:"root"})}return n})();class Gr{parse(t){const e=new _5(t);return new yo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ur(t.root,!0)}`,i=function Fx(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(s=>`${Co(e)}=${Co(s)}`).join("&"):`${Co(e)}=${Co(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function $r(n){return encodeURI(n)}(t.fragment)}`:""}`}}const p5=new Gr;function X0(n){return n.segments.map(t=>e4(t)).join("/")}function Ur(n,t){if(!n.hasChildren())return X0(n);if(t){const e=n.children[St]?Ur(n.children[St],!1):"",i=[];return Object.entries(n.children).forEach(([s,c])=>{s!==St&&i.push(`${s}:${Ur(c,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Fc(n,t){let e=[];return Object.entries(n.children).forEach(([i,s])=>{i===St&&(e=e.concat(t(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==St&&(e=e.concat(t(s,i)))}),e}(n,(i,s)=>s===St?[Ur(n.children[St],!1)]:[`${s}:${Ur(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${X0(n)}/${e[0]}`:`${X0(n)}/(${e.join("//")})`}}function J0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Co(n){return J0(n).replace(/%3B/gi,";")}function S2(n){return J0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Os(n){return decodeURIComponent(n)}function w5(n){return Os(n.replace(/\+/g,"%20"))}function e4(n){return`${S2(n.path)}${function jr(n){return Object.entries(n).map(([t,e])=>`;${S2(t)}=${S2(e)}`).join("")}(n.parameters)}`}const Cd=/^[^\/()?;#]+/;function Wr(n){const t=n.match(Cd);return t?t[0]:""}const vp=/^[^\/()?;=#]+/,gp=/^[^=?&#]+/,xo=/^[^&#]+/;class _5{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[St]=new sn(t,e)),i}parseSegment(){const t=Wr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new r.OBp(4009,!1);return this.capture(t),new Rr(Os(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function t4(n){const t=n.match(vp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=Wr(this.remaining);s&&(i=s,this.capture(i))}t[Os(e)]=Os(i)}parseQueryParam(t){const e=function Mo(n){const t=n.match(gp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function Md(n){const t=n.match(xo);return t?t[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const s=w5(e),c=w5(i);if(t.hasOwnProperty(s)){let h=t[s];Array.isArray(h)||(h=[h],t[s]=h),h.push(c)}else t[s]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Wr(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new r.OBp(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=St);const h=this.parseChildren();e[c]=1===Object.keys(h).length?h[St]:new sn([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new r.OBp(4011,!1)}}function Gc(n){return n.segments.length>0?new sn([],{[St]:n}):n}function Uc(n){const t={};for(const[i,s]of Object.entries(n.children)){const c=Uc(s);if(i===St&&0===c.segments.length&&c.hasChildren())for(const[h,d]of Object.entries(c.children))t[h]=d;else(c.segments.length>0||c.hasChildren())&&(t[i]=c)}return function xd(n){if(1===n.numberOfChildren&&n.children[St]){const t=n.children[St];return new sn(n.segments.concat(t.segments),t.children)}return n}(new sn(n.segments,t))}function L2(n){return n instanceof yo}function $c(n){let t;const s=Gc(function e(c){const h={};for(const g of c.children){const f=e(g);h[g.outlet]=f}const d=new sn(c.url,h);return c===n&&(t=d),d}(n.root));return t??s}function mp(n,t,e,i){let s=n;for(;s.parent;)s=s.parent;if(0===t.length)return Wc(s,s,s,e,i);const c=function bo(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new y5(!0,0,n);let t=0,e=!1;const i=n.reduce((s,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const d={};return Object.entries(c.outlets).forEach(([g,f])=>{d[g]="string"==typeof f?f.split("/"):f}),[...s,{outlets:d}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===h?(c.split("/").forEach((d,g)=>{0==g&&"."===d||(0==g&&""===d?e=!0:".."===d?t++:""!=d&&s.push(d))}),s):[...s,c]},[]);return new y5(e,t,i)}(t);if(c.toRoot())return Wc(s,s,new sn([],{}),e,i);const h=function C5(n,t,e){if(n.isAbsolute)return new n4(t,!0,0);if(!e)return new n4(t,!1,NaN);if(null===e.parent)return new n4(e,!0,0);const i=qr(n.commands[0])?0:1;return function i4(n,t,e){let i=n,s=t,c=e;for(;c>s;){if(c-=s,i=i.parent,!i)throw new r.OBp(4005,!1);s=i.segments.length}return new n4(i,!1,s-c)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(c,s,n),d=h.processChildren?V2(h.segmentGroup,h.index,c.commands):s4(h.segmentGroup,h.index,c.commands);return Wc(s,h.segmentGroup,d,e,i)}function qr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jc(n){return"object"==typeof n&&null!=n&&n.outlets}function Wc(n,t,e,i,s){let h,c={};i&&Object.entries(i).forEach(([g,f])=>{c[g]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),h=n===t?e:z5(n,t,e);const d=Gc(Uc(h));return new yo(d,c,s)}function z5(n,t,e){const i={};return Object.entries(n.children).forEach(([s,c])=>{i[s]=c===t?e:z5(c,t,e)}),new sn(n.segments,i)}class y5{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&qr(i[0]))throw new r.OBp(4003,!1);const s=i.find(jc);if(s&&s!==Q0(i))throw new r.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class n4{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function s4(n,t,e){if(n??=new sn([],{}),0===n.segments.length&&n.hasChildren())return V2(n,t,e);const i=function Ui(n,t,e){let i=0,s=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return c;const h=n.segments[s],d=e[i];if(jc(d))break;const g=`${d}`,f=i<e.length-1?e[i+1]:null;if(s>0&&void 0===g)break;if(g&&f&&"object"==typeof f&&void 0===f.outlets){if(!Sd(g,f,h))return c;i+=2}else{if(!Sd(g,{},h))return c;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new sn(n.segments.slice(0,i.pathIndex),{});return c.children[St]=new sn(n.segments.slice(i.pathIndex),n.children),V2(c,0,s)}return i.match&&0===s.length?new sn(n.segments,{}):i.match&&!n.hasChildren()?H2(n,t,e):i.match?V2(n,0,s):H2(n,t,e)}function V2(n,t,e){if(0===e.length)return new sn(n.segments,{});{const i=function fp(n){return jc(n[0])?n[0].outlets:{[St]:n}}(e),s={};if(Object.keys(i).some(c=>c!==St)&&n.children[St]&&1===n.numberOfChildren&&0===n.children[St].segments.length){const c=V2(n.children[St],t,e);return new sn(n.segments,c.children)}return Object.entries(i).forEach(([c,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(s[c]=s4(n.children[c],t,h))}),Object.entries(n.children).forEach(([c,h])=>{void 0===i[c]&&(s[c]=h)}),new sn(n.segments,s)}}function H2(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const c=e[s];if(jc(c)){const g=M5(c.outlets);return new sn(i,g)}if(0===s&&qr(e[0])){i.push(new Rr(n.segments[t].path,Ed(e[0]))),s++;continue}const h=jc(c)?c.outlets[St]:`${c}`,d=s<e.length-1?e[s+1]:null;h&&d&&qr(d)?(i.push(new Rr(h,Ed(d))),s+=2):(i.push(new Rr(h,{})),s++)}return new sn(i,{})}function M5(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=H2(new sn([],{}),0,i))}),t}function Ed(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Sd(n,t,e){return n==e.path&&Li(t,e.parameters)}const Kr="imperative";var Tt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Tt||{});class hs{constructor(t,e){this.id=t,this.url=e}}class o4 extends hs{constructor(t,e,i="imperative",s=null){super(t,e),this.type=Tt.NavigationStart,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bs extends hs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Q1=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Q1||{}),r4=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(r4||{});class us extends hs{constructor(t,e,i,s){super(t,e),this.reason=i,this.code=s,this.type=Tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $i extends hs{constructor(t,e,i,s){super(t,e),this.reason=i,this.code=s,this.type=Tt.NavigationSkipped}}class l4 extends hs{constructor(t,e,i,s){super(t,e),this.error=i,this.target=s,this.type=Tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ld extends hs{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=Tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s1 extends hs{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=Tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vd extends hs{constructor(t,e,i,s,c){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=c,this.type=Tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pp extends hs{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=Tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qc extends hs{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=Tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wp{constructor(t){this.route=t,this.type=Tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _p{constructor(t){this.route=t,this.type=Tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zp{constructor(t){this.snapshot=t,this.type=Tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yp{constructor(t){this.snapshot=t,this.type=Tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cp{constructor(t){this.snapshot=t,this.type=Tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mp{constructor(t){this.snapshot=t,this.type=Tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c4{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Tt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yr{}class a4{constructor(t){this.url=t}}class x5{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qr,this.attachRef=null}}let Qr=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new x5,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Hd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=b5(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=b5(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=h4(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return h4(t,this._root).map(e=>e.value)}}function b5(n,t){if(n===t.value)return t;for(const e of t.children){const i=b5(n,e);if(i)return i}return null}function h4(n,t){if(n===t.value)return[t];for(const e of t.children){const i=h4(n,e);if(i.length)return i.unshift(t),i}return[]}class Hi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zr(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class u4 extends Hd{constructor(t,e){super(t),this.snapshot=e,Yc(this,t)}toString(){return this.snapshot.toString()}}function Id(n){const t=function ds(n){const c=new Jr([],{},{},"",{},St,n,null,{});return new Kc("",new Hi(c,[]))}(n),e=new H1.g([new Rr("",{})]),i=new H1.g({}),s=new H1.g({}),c=new H1.g({}),h=new H1.g(""),d=new I2(e,i,c,h,s,St,n,t.root);return d.snapshot=t.root,new u4(new Hi(d,[]),t)}class I2{constructor(t,e,i,s,c,h,d,g){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=c,this.outlet=h,this.component=d,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,xt.k)(f=>f[zo]))??(0,st.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,xt.k)(t=>Ds(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,xt.k)(t=>Ds(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xr(n,t,e="emptyOnly"){let i;const{routeConfig:s}=n;return i=null===t||"always"!==e&&""!==s?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...s?.data,...n._resolvedData}},s&&Eo(s)&&(i.resolve[zo]=s.title),i}class Jr{get title(){return this.data?.[zo]}constructor(t,e,i,s,c,h,d,g,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=h,this.component=d,this.routeConfig=g,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ds(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kc extends Hd{constructor(t,e){super(e),this.url=t,Yc(this,e)}toString(){return E5(this._root)}}function Yc(n,t){t.value._routerState=n,t.children.forEach(e=>Yc(n,e))}function E5(n){const t=n.children.length>0?` { ${n.children.map(E5).join(", ")} } `:"";return`${n.value}${t}`}function d4(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Li(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Li(t.params,e.params)||n.paramsSubject.next(e.params),function m5(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Li(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Li(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function S5(n,t){const e=Li(n.params,t.params)&&function Nx(n,t){return Nr(n,t)&&n.every((e,i)=>Li(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||S5(n.parent,t.parent))}function Eo(n){return"string"==typeof n.title||null===n.title}let So=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new r._w7,this.deactivateEvents=new r._w7,this.attachEvents=new r._w7,this.detachEvents=new r._w7,this.parentContexts=(0,r.uUt)(Qr),this.location=(0,r.uUt)(r.y8U),this.changeDetector=(0,r.uUt)(r.kD9),this.environmentInjector=(0,r.uUt)(r.SIe),this.inputBinder=(0,r.uUt)(el,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:s}=e.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.OBp(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new r.OBp(4013,!1);this._activatedRoute=e;const s=this.location,h=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,g=new bp(e,d,s.injector);this.activated=s.createComponent(h,{index:s.length,injector:g,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[r.SYr]})}return n})();class bp{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===I2?this.route:t===Qr?this.childContexts:this.parent.get(t,e)}}const el=new r.UbH("");let Td=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,s=md([i.queryParams,i.params,i.data]).pipe((0,qn.G)(([c,h,d],g)=>(d={...c,...h,...d},0===g?(0,st.of)(d):Promise.resolve(d)))).subscribe(c=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const h=(0,r.o9M)(i.component);if(h)for(const{templateName:d}of h.inputs)e.activatedComponentRef.setInput(d,c[d]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();function Qc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function Gx(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Qc(n,i,s);return Qc(n,i)})}(n,t,e);return new Hi(i,s)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(d=>Qc(n,d)),h}}const i=function Ux(n){return new I2(new H1.g(n.url),new H1.g(n.params),new H1.g(n.queryParams),new H1.g(n.fragment),new H1.g(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(c=>Qc(n,c));return new Hi(i,s)}}const v4="ngNavigationCancelingError";function tl(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=L2(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=Dd(!1,Q1.Redirect);return s.url=e,s.navigationBehaviorOptions=i,s}function Dd(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[v4]=!0,e.cancellationCode=t,e}function g4(n){return!!n&&n[v4]}let Xc=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["ng-component"]],standalone:!0,features:[r.UHJ],decls:1,vars:0,template:function(i,s){1&i&&r.wR5(0,"router-outlet")},dependencies:[So],encapsulation:2})}return n})();function nl(n){const t=n.children&&n.children.map(nl),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==St&&(e.component=Xc),e}function Ii(n){return n.outlet||St}function il(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Bd{constructor(t,e,i,s,c){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=c}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),d4(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=Zr(e);t.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,s[h],i),delete s[h]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(t,e,i){const s=t.value,c=e?e.value:null;if(s===c)if(s.component){const h=i.getContext(s.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,c=Zr(t);for(const h of Object.values(c))this.deactivateRouteAndItsChildren(h,s);if(i&&i.outlet){const h=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,c=Zr(t);for(const h of Object.values(c))this.deactivateRouteAndItsChildren(h,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const s=Zr(e);t.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],i),this.forwardEvent(new Mp(c.value.snapshot))}),t.children.length&&this.forwardEvent(new yp(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,c=e?e.value:null;if(d4(s),s===c)if(s.component){const h=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const h=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const d=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(d.contexts),h.attachRef=d.componentRef,h.route=d.route.value,h.outlet&&h.outlet.attach(d.componentRef,d.route.value),d4(d.route.value),this.activateChildRoutes(t,null,h.children)}else{const d=il(s.snapshot);h.attachRef=null,h.route=s,h.injector=d,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,i)}}class Pd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lo{constructor(t,e){this.component=t,this.route=e}}function Vo(n,t,e){const i=n._root;return sl(i,t?t._root:null,e,[i.value])}function Ho(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,r.K_M)(n)?t.get(n):n:i}function sl(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=Zr(t);return n.children.forEach(h=>{(function ol(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const g=function rl(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Nr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Nr(n.url,t.url)||!Li(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!S5(n,t)||!Li(n.queryParams,t.queryParams);default:return!S5(n,t)}}(h,c,c.routeConfig.runGuardsAndResolvers);g?s.canActivateChecks.push(new Pd(i)):(c.data=h.data,c._resolvedData=h._resolvedData),sl(n,t,c.component?d?d.children:null:e,i,s),g&&d&&d.outlet&&d.outlet.isActivated&&s.canDeactivateChecks.push(new Lo(d.outlet.component,h))}else h&&An(t,d,s),s.canActivateChecks.push(new Pd(i)),sl(n,null,c.component?d?d.children:null:e,i,s)})(h,c[h.value.outlet],e,i.concat([h.value]),s),delete c[h.value.outlet]}),Object.entries(c).forEach(([h,d])=>An(d,e.getContext(h),s)),s}function An(n,t,e){const i=Zr(n),s=n.value;Object.entries(i).forEach(([c,h])=>{An(h,s.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Lo(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function Jc(n){return"function"==typeof n}function T5(n){return n instanceof Ir||"EmptyError"===n?.name}const ll=Symbol("INITIAL_VALUE");function ks(){return(0,qn.G)(n=>md(n.map(t=>t.pipe((0,x2.U)(1),n1(ll)))).pipe((0,xt.k)(t=>{for(const e of t)if(!0!==e){if(e===ll)return ll;if(!1===e||e instanceof yo)return e}return!0}),(0,p1.I)(t=>t!==ll),(0,x2.U)(1)))}function Fp(n){return(0,g5.W)(w1(t=>{if(L2(t))throw tl(0,t)}),(0,xt.k)(t=>!0===t))}class m4{constructor(t){this.segmentGroup=t||null}}class T1 extends Error{constructor(t){super(),this.urlTree=t}}function Io(n){return y2(new m4(n))}class $d{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return(0,st.of)(i);if(s.numberOfChildren>1||!s.children[St])return y2(new r.OBp(4e3,!1));s=s.children[St]}}applyRedirectCommands(t,e,i){const s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e.startsWith("/"))throw new T1(s);return s}applyRedirectCreateUrlTree(t,e,i,s){const c=this.createSegmentGroup(t,e.root,i,s);return new yo(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([s,c])=>{if("string"==typeof c&&c.startsWith(":")){const d=c.substring(1);i[s]=e[d]}else i[s]=c}),i}createSegmentGroup(t,e,i,s){const c=this.createSegments(t,e.segments,i,s);let h={};return Object.entries(e.children).forEach(([d,g])=>{h[d]=this.createSegmentGroup(t,g,i,s)}),new sn(c,h)}createSegments(t,e,i,s){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,s):this.findOrReturn(c,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new r.OBp(4001,!1);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}const cl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jd(n,t,e,i,s){const c=f4(n,t,e);return c.matched?(i=function $x(n,t){return n.providers&&!n._injector&&(n._injector=(0,r.SIz)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Ud(n,t,e,i){const s=t.canMatch;if(!s||0===s.length)return(0,st.of)(!0);const c=s.map(h=>{const d=Ho(h,n);return Vi(function Ap(n){return n&&Jc(n.canMatch)}(d)?d.canMatch(t,e):(0,r.SMS)(n,()=>d(t,e)))});return(0,st.of)(c).pipe(ks(),Fp())}(i,t,e).pipe((0,xt.k)(h=>!0===h?c:{...cl}))):(0,st.of)(c)}function f4(n,t,e){if("**"===t.path)return function p4(n){return{matched:!0,parameters:n.length>0?Q0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...cl}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Pr)(e,n,t);if(!s)return{...cl};const c={};Object.entries(s.posParams??{}).forEach(([d,g])=>{c[d]=g.path});const h=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function w4(n,t,e,i){return e.length>0&&function Up(n,t,e){return e.some(i=>To(n,t,i)&&Ii(i)!==St)}(n,e,i)?{segmentGroup:new sn(t,Gp(i,new sn(e,n.children))),slicedSegments:[]}:0===e.length&&function Wx(n,t,e){return e.some(i=>To(n,t,i))}(n,e,i)?{segmentGroup:new sn(n.segments,al(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new sn(n.segments,n.children),slicedSegments:e}}function al(n,t,e,i){const s={};for(const c of e)if(To(n,t,c)&&!i[Ii(c)]){const h=new sn([],{});s[Ii(c)]=h}return{...i,...s}}function Gp(n,t){const e={};e[St]=t;for(const i of n)if(""===i.path&&Ii(i)!==St){const s=new sn([],{});e[Ii(i)]=s}return e}function To(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class qd{}class $p{constructor(t,e,i,s,c,h,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=h,this.urlSerializer=d,this.applyRedirects=new $d(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new r.OBp(4002,`'${t.segmentGroup}'`)}recognize(){const t=w4(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe((0,xt.k)(e=>{const i=new Jr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,{}),s=new Hi(i,e),c=new Kc("",s),h=function bd(n,t,e=null,i=null){return mp($c(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(c._root,null),{state:c,tree:h}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,St).pipe((0,b2.a)(i=>{if(i instanceof T1)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof m4?this.noMatchError(i):i}))}inheritParamsAndData(t,e){const i=t.value,s=Xr(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),t.children.forEach(c=>this.inheritParamsAndData(c,i))}processSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,s,!0).pipe((0,xt.k)(c=>c instanceof Hi?[c]:[]))}processChildren(t,e,i){const s=[];for(const c of Object.keys(i.children))"primary"===c?s.unshift(c):s.push(c);return(0,Je.Q)(s).pipe((0,Or.m)(c=>{const h=i.children[c],d=function Hp(n,t){const e=n.filter(i=>Ii(i)===t);return e.push(...n.filter(i=>Ii(i)!==t)),e}(e,c);return this.processSegmentGroup(t,d,h,c)}),(0,Rx.K)((c,h)=>(c.push(...h),c)),wo(null),function ap(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,p1.I)((s,c)=>n(s,c,i)):j0.Z,Br(1),e?wo(t):K0(()=>new Ir))}(),(0,vt.O)(c=>{if(null===c)return Io(i);const h=Yd(c);return function jp(n){n.sort((t,e)=>t.value.outlet===St?-1:e.value.outlet===St?1:t.value.outlet.localeCompare(e.value.outlet))}(h),(0,st.of)(h)}))}processSegment(t,e,i,s,c,h){return(0,Je.Q)(e).pipe((0,Or.m)(d=>this.processSegmentAgainstRoute(d._injector??t,e,d,i,s,c,h).pipe((0,b2.a)(g=>{if(g instanceof m4)return(0,st.of)(null);throw g}))),_o(d=>!!d),(0,b2.a)(d=>{if(T5(d))return function Wd(n,t,e){return 0===t.length&&!n.children[e]}(i,s,c)?(0,st.of)(new qd):Io(i);throw d}))}processSegmentAgainstRoute(t,e,i,s,c,h,d){return function A5(n,t,e,i){return!!(Ii(n)===i||i!==St&&To(t,e,n))&&f4(t,n,e).matched}(i,s,c,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,s,i,c,h):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,s,e,i,c,h):Io(s):Io(s)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,c,h){const{matched:d,consumedSegments:g,positionalParamSegments:f,remainingSegments:_}=f4(e,s,c);if(!d)return Io(e);s.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const y=this.applyRedirects.applyRedirectCommands(g,s.redirectTo,f);return this.applyRedirects.lineralizeSegments(s,y).pipe((0,vt.O)(C=>this.processSegment(t,i,e,C.concat(_),h,!1)))}matchSegmentAgainstRoute(t,e,i,s,c){const h=jd(e,i,s,t);return"**"===i.path&&(e.children={}),h.pipe((0,qn.G)(d=>d.matched?this.getChildConfig(t=i._injector??t,i,s).pipe((0,qn.G)(({routes:g})=>{const f=i._loadedInjector??t,{consumedSegments:_,remainingSegments:y,parameters:C}=d,x=new Jr(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Rs(n){return n.data||{}}(i),Ii(i),i.component??i._loadedComponent??null,i,function hl(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:L}=w4(e,_,y,g);if(0===L.length&&b.hasChildren())return this.processChildren(f,g,b).pipe((0,xt.k)(B=>null===B?null:new Hi(x,B)));if(0===g.length&&0===L.length)return(0,st.of)(new Hi(x,[]));const V=Ii(i)===c;return this.processSegment(f,g,b,L,V?St:c,!0).pipe((0,xt.k)(B=>new Hi(x,B instanceof Hi?[B]:[])))})):Io(e)))}getChildConfig(t,e,i){return e.children?(0,st.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,st.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Np(n,t,e,i){const s=t.canLoad;if(void 0===s||0===s.length)return(0,st.of)(!0);const c=s.map(h=>{const d=Ho(h,n);return Vi(function H5(n){return n&&Jc(n.canLoad)}(d)?d.canLoad(t,e):(0,r.SMS)(n,()=>d(t,e)))});return(0,st.of)(c).pipe(ks(),Fp())}(t,e,i).pipe((0,vt.O)(s=>s?this.configLoader.loadChildren(t,e).pipe(w1(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function T2(n){return y2(Dd(!1,Q1.GuardRejected))}())):(0,st.of)({routes:[],injector:t})}}function Wp(n){const t=n.value.routeConfig;return t&&""===t.path}function Yd(n){const t=[],e=new Set;for(const i of n){if(!Wp(i)){t.push(i);continue}const s=t.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=Yd(i.children);t.push(new Hi(i.value,s))}return t.filter(i=>!e.has(i))}function Qd(n){const t=n.children.map(e=>Qd(e)).flat();return[n,...t]}function _4(n){return(0,qn.G)(t=>{const e=n(t);return e?(0,Je.Q)(e).pipe((0,xt.k)(()=>t)):(0,st.of)(t)})}let Zd=(()=>{class n{buildTitle(e){let i,s=e.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(c=>c.outlet===St);return i}getResolvedTitleForRoute(e){return e.data[zo]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:()=>(0,r.uUt)(Xp),providedIn:"root"})}return n})(),Xp=(()=>{class n extends Zd{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(F0))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ul=new r.UbH("",{providedIn:"root",factory:()=>({})}),dl=new r.UbH("");let vl=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,r.uUt)(r.ESV)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,st.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Vi(e.loadComponent()).pipe((0,xt.k)(O5),w1(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),E2(()=>{this.componentLoaders.delete(e)})),s=new M2(i,()=>new Et.E).pipe(q0());return this.componentLoaders.set(e,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,st.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=function Ns(n,t,e,i){return Vi(n.loadChildren()).pipe((0,xt.k)(O5),(0,vt.O)(s=>s instanceof r.obV||Array.isArray(s)?(0,st.of)(s):(0,Je.Q)(t.compileModuleAsync(s))),(0,xt.k)(s=>{i&&i(n);let c,h,d=!1;return Array.isArray(s)?(h=s,!0):(c=s.create(e).injector,h=c.get(dl,[],{optional:!0,self:!0}).flat()),{routes:h.map(nl),injector:c}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(E2(()=>{this.childrenLoaders.delete(i)})),h=new M2(c,()=>new Et.E).pipe(q0());return this.childrenLoaders.set(i,h),h}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O5(n){return function ea(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let z4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:()=>(0,r.uUt)(Xd),providedIn:"root"})}return n})(),Xd=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Jp=new r.UbH(""),ew=new r.UbH("");function Kx(n,t,e){const i=n.get(ew),s=n.get(X);return n.get(r.WW2).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let c;const h=new Promise(f=>{c=f}),d=s.startViewTransition(()=>(c(),function B5(n){return new Promise(t=>{(0,r.I44)(t,{injector:n})})}(n))),{onViewTransitionCreated:g}=i;return g&&(0,r.SMS)(n,()=>g({transition:d,from:t,to:e})),h})}let gl=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et.E,this.transitionAbortSubject=new Et.E,this.configLoader=(0,r.uUt)(vl),this.environmentInjector=(0,r.uUt)(r.SIe),this.urlSerializer=(0,r.uUt)(Fr),this.rootContexts=(0,r.uUt)(Qr),this.location=(0,r.uUt)(Me),this.inputBindingEnabled=null!==(0,r.uUt)(el,{optional:!0}),this.titleStrategy=(0,r.uUt)(Zd),this.options=(0,r.uUt)(ul,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,r.uUt)(z4),this.createViewTransition=(0,r.uUt)(Jp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,st.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new _p(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new wp(s))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,s){return this.transitions=new H1.g({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kr,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,p1.I)(c=>0!==c.id),(0,xt.k)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),(0,qn.G)(c=>{this.currentTransition=c;let h=!1,d=!1;return(0,st.of)(c).pipe(w1(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qn.G)(g=>{const f=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(g.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const y="";return this.events.next(new $i(g.id,this.urlSerializer.serialize(g.rawUrl),y,r4.IgnoredSameUrlNavigation)),g.resolve(null),C2.k}if(this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,st.of)(g).pipe((0,qn.G)(y=>{const C=this.transitions?.getValue();return this.events.next(new o4(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),C!==this.transitions?.getValue()?C2.k:Promise.resolve(y)}),function qp(n,t,e,i,s,c){return(0,vt.O)(h=>function Kd(n,t,e,i,s,c,h="emptyOnly"){return new $p(n,t,e,i,s,h,c).recognize()}(n,t,e,i,h.extractedUrl,s,c).pipe((0,xt.k)(({state:d,tree:g})=>({...h,targetSnapshot:d,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),w1(y=>{c.targetSnapshot=y.targetSnapshot,c.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const C=new Ld(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:y,extractedUrl:C,source:x,restoredState:b,extras:L}=g,V=new o4(y,this.urlSerializer.serialize(C),x,b);this.events.next(V);const B=Id(this.rootComponentType).snapshot;return this.currentTransition=c={...g,targetSnapshot:B,urlAfterRedirects:C,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=C,(0,st.of)(c)}{const y="";return this.events.next(new $i(g.id,this.urlSerializer.serialize(g.extractedUrl),y,r4.IgnoredByUrlHandlingStrategy)),g.resolve(null),C2.k}}),w1(g=>{const f=new s1(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(f)}),(0,xt.k)(g=>(this.currentTransition=c={...g,guards:Vo(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},c)),function Nd(n,t){return(0,vt.O)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:h}}=e;return 0===h.length&&0===c.length?(0,st.of)({...e,guardsResult:!0}):function Op(n,t,e,i){return(0,Je.Q)(n).pipe((0,vt.O)(s=>function Rp(n,t,e,i,s){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,st.of)(!0);const h=c.map(d=>{const g=il(t)??s,f=Ho(d,g);return Vi(function I5(n){return n&&Jc(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):(0,r.SMS)(g,()=>f(n,t,e,i))).pipe(_o())});return(0,st.of)(h).pipe(ks())}(s.component,s.route,e,t,i)),_o(s=>!0!==s,!0))}(h,i,s,n).pipe((0,vt.O)(d=>d&&function kd(n){return"boolean"==typeof n}(d)?function Bp(n,t,e,i){return(0,Je.Q)(t).pipe((0,Or.m)(s=>pd(function Fd(n,t){return null!==n&&t&&t(new zp(n)),(0,st.of)(!0)}(s.route.parent,i),function Pp(n,t){return null!==n&&t&&t(new Cp(n)),(0,st.of)(!0)}(s.route,i),function Gd(n,t,e){const i=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(h=>function Tp(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Dr(()=>{const d=h.guards.map(g=>{const f=il(h.node)??e,_=Ho(g,f);return Vi(function Rd(n){return n&&Jc(n.canActivateChild)}(_)?_.canActivateChild(i,n):(0,r.SMS)(f,()=>_(i,n))).pipe(_o())});return(0,st.of)(d).pipe(ks())}));return(0,st.of)(c).pipe(ks())}(n,s.path,e),function kp(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,st.of)(!0);const s=i.map(c=>Dr(()=>{const h=il(t)??e,d=Ho(c,h);return Vi(function Dp(n){return n&&Jc(n.canActivate)}(d)?d.canActivate(t,n):(0,r.SMS)(h,()=>d(t,n))).pipe(_o())}));return(0,st.of)(s).pipe(ks())}(n,s.route,e))),_o(s=>!0!==s,!0))}(i,c,n,t):(0,st.of)(d)),(0,xt.k)(d=>({...e,guardsResult:d})))})}(this.environmentInjector,g=>this.events.next(g)),w1(g=>{if(c.guardsResult=g.guardsResult,L2(g.guardsResult))throw tl(0,g.guardsResult);const f=new Vd(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(f)}),(0,p1.I)(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",Q1.GuardRejected),!1)),_4(g=>{if(g.guards.canActivateChecks.length)return(0,st.of)(g).pipe(w1(f=>{const _=new pp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),(0,qn.G)(f=>{let _=!1;return(0,st.of)(f).pipe(function Kp(n,t){return(0,vt.O)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,st.of)(e);const c=new Set(s.map(g=>g.route)),h=new Set;for(const g of c)if(!h.has(g))for(const f of Qd(g))h.add(f);let d=0;return(0,Je.Q)(h).pipe((0,Or.m)(g=>c.has(g)?function Yp(n,t,e,i){const s=n.routeConfig,c=n._resolve;return void 0!==s?.title&&!Eo(s)&&(c[zo]=s.title),function Qp(n,t,e,i){const s=kr(n);if(0===s.length)return(0,st.of)({});const c={};return(0,Je.Q)(s).pipe((0,vt.O)(h=>function Zp(n,t,e,i){const s=il(t)??i,c=Ho(n,s);return Vi(c.resolve?c.resolve(t,e):(0,r.SMS)(s,()=>c(t,e)))}(n[h],t,e,i).pipe(_o(),w1(d=>{c[h]=d}))),Br(1),Y0(c),(0,b2.a)(h=>T5(h)?C2.k:y2(h)))}(c,n,t,i).pipe((0,xt.k)(h=>(n._resolvedData=h,n.data=Xr(n,n.parent,e).resolve,null)))}(g,i,n,t):(g.data=Xr(g,g.parent,n).resolve,(0,st.of)(void 0))),w1(()=>d++),Br(1),(0,vt.O)(g=>d===h.size?(0,st.of)(e):C2.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),w1({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(f,"",Q1.NoDataFromResolver)}}))}),w1(f=>{const _=new qc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),_4(g=>{const f=_=>{const y=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(_.routeConfig).pipe(w1(C=>{_.component=C}),(0,xt.k)(()=>{})));for(const C of _.children)y.push(...f(C));return y};return md(f(g.targetSnapshot.root)).pipe(wo(null),(0,x2.U)(1))}),_4(()=>this.afterPreactivation()),(0,qn.G)(()=>{const{currentSnapshot:g,targetSnapshot:f}=c,_=this.createViewTransition?.(this.environmentInjector,g.root,f.root);return _?(0,Je.Q)(_).pipe((0,xt.k)(()=>c)):(0,st.of)(c)}),(0,xt.k)(g=>{const f=function Ep(n,t,e){const i=Qc(n,t._root,e?e._root:void 0);return new u4(i,t)}(e.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=c={...g,targetRouterState:f},this.currentNavigation.targetRouterState=f,c}),w1(()=>{this.events.next(new Yr)}),((n,t,e,i)=>(0,xt.k)(s=>(new Bd(t,s.targetRouterState,s.currentRouterState,e,i).activate(n),s)))(this.rootContexts,e.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),(0,x2.U)(1),w1({next:g=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bs(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),this.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{h=!0}}),(0,vn.a)(this.transitionAbortSubject.pipe(w1(g=>{throw g}))),E2(()=>{!h&&!d&&this.cancelNavigationTransition(c,"",Q1.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,b2.a)(g=>{if(d=!0,g4(g))this.events.next(new us(c.id,this.urlSerializer.serialize(c.extractedUrl),g.message,g.cancellationCode)),function Zc(n){return g4(n)&&L2(n.url)}(g)?this.events.next(new a4(g.url)):c.resolve(!1);else{this.events.next(new l4(c.id,this.urlSerializer.serialize(c.extractedUrl),g,c.targetSnapshot??void 0));try{c.resolve(e.errorHandler(g))}catch(f){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(f)}}return C2.k}))}))}cancelNavigationTransition(e,i,s){const c=new us(e.id,this.urlSerializer.serialize(e.extractedUrl),i,s);this.events.next(c),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yx(n){return n!==Kr}let Qx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:()=>(0,r.uUt)(tw),providedIn:"root"})}return n})();class Jd{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let tw=(()=>{class n extends Jd{static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:()=>(0,r.uUt)(nw),providedIn:"root"})}return n})(),nw=(()=>{class n extends e7{constructor(){super(...arguments),this.location=(0,r.uUt)(Me),this.urlSerializer=(0,r.uUt)(Fr),this.options=(0,r.uUt)(ul,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,r.uUt)(z4),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Id(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof o4)this.stateMemento=this.createStateMemento();else if(e instanceof $i)this.rawUrlTree=i.initialUrl;else if(e instanceof Ld){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else e instanceof Yr?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof us&&(e.code===Q1.GuardRejected||e.code===Q1.NoDataFromResolver)?this.restoreHistory(i):e instanceof l4?this.restoreHistory(i,!0):e instanceof Bs&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",c)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===e.finalUrl&&0===c&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ta=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ta||{});function P5(n,t){n.events.pipe((0,p1.I)(e=>e instanceof Bs||e instanceof us||e instanceof l4||e instanceof $i),(0,xt.k)(e=>e instanceof Bs||e instanceof $i?ta.COMPLETE:e instanceof us&&(e.code===Q1.Redirect||e.code===Q1.SupersededByNewNavigation)?ta.REDIRECTING:ta.FAILED),(0,p1.I)(e=>e!==ta.REDIRECTING),(0,x2.U)(1)).subscribe(()=>{t()})}function y4(n){throw n}const t7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},k5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,r.uUt)(r.oPY),this.stateManager=(0,r.uUt)(e7),this.options=(0,r.uUt)(ul,{optional:!0})||{},this.pendingTasks=(0,r.uUt)(r.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,r.uUt)(gl),this.urlSerializer=(0,r.uUt)(Fr),this.location=(0,r.uUt)(Me),this.urlHandlingStrategy=(0,r.uUt)(z4),this._events=new Et.E,this.errorHandler=this.options.errorHandler||y4,this.navigated=!1,this.routeReuseStrategy=(0,r.uUt)(Qx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,r.uUt)(dl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,r.uUt)(el,{optional:!0}),this.eventsSubscription=new Ar.wH,this.isNgZoneEnabled=(0,r.uUt)(r.WW2)instanceof r.WW2&&r.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==s&&null!==c)if(this.stateManager.handleRouterEvent(i,c),i instanceof us&&i.code!==Q1.Redirect&&i.code!==Q1.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bs)this.navigated=!0;else if(i instanceof a4){const h=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),d={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yx(s.source)};this.scheduleNavigation(h,Kr,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function n7(n){return!(n instanceof Yr||n instanceof a4)})(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,s){const c={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const g={...s};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(c.state=g)}const d=this.parseUrl(e);this.scheduleNavigation(d,i,h,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(nl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:s,queryParams:c,fragment:h,queryParamsHandling:d,preserveFragment:g}=i,f=g?this.currentUrlTree.fragment:h;let y,_=null;switch(d){case"merge":_={...this.currentUrlTree.queryParams,...c};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=c||null}null!==_&&(_=this.removeEmptyProps(_));try{y=$c(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),y=this.currentUrlTree.root}return mp(y,e,_,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=L2(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,Kr,null,i)}navigate(e,i={skipLocationChange:!1}){return function Ao(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new r.OBp(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let s;if(s=!0===i?{...t7}:!1===i?{...k5}:i,L2(e))return wd(this.currentUrlTree,e,s);const c=this.parseUrl(e);return wd(this.currentUrlTree,c,s)}removeEmptyProps(e){return Object.entries(e).reduce((i,[s,c])=>(null!=c&&(i[s]=c),i),{})}scheduleNavigation(e,i,s,c,h){if(this.disposed)return Promise.resolve(!1);let d,g,f;h?(d=h.resolve,g=h.reject,f=h.promise):f=new Promise((y,C)=>{d=y,g=C});const _=this.pendingTasks.add();return P5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:d,reject:g,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ml=(()=>{class n{constructor(e,i,s,c,h,d){this.router=e,this.route=i,this.tabIndexAttribute=s,this.renderer=c,this.el=h,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new Et.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=h.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof Bs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,s,c,h){const d=this.urlTree;return!!(null===d||this.isAnchorElement&&(0!==e||i||s||c||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(d,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:(0,r.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const s=this.renderer,c=this.el.nativeElement;null!==i?s.setAttribute(c,e,i):s.removeAttribute(c,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(ci),r.GI1(I2),r.gJ8("tabindex"),r.GI1(r.q87),r.GI1(r.GMv),r.GI1(D))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){1&i&&r.qCj("click",function(h){return s.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&i&&r.e48("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[r.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",r.cZD],skipLocationChange:[r.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",r.cZD],replaceUrl:[r.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",r.cZD],routerLink:"routerLink"},standalone:!0,features:[r.QJr,r.SYr]})}return n})(),fl=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,s,c,h){this.router=e,this.element=i,this.renderer=s,this.cdr=c,this.link=h,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new r._w7,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof Bs&&this.update()})}ngAfterContentInit(){(0,st.of)(this.links.changes,(0,st.of)(null)).pipe((0,a1.u)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Je.Q)(e).pipe((0,a1.u)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function i7(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{const c=s.urlTree;return!!c&&e.isActive(c,i)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(ci),r.GI1(r.GMv),r.GI1(r.q87),r.GI1(r.kD9),r.GI1(ml,8))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,ml,5),2&i){let h;r.wto(h=r.Gqi())&&(s.links=h)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[r.SYr]})}return n})();class s7{}let iw=(()=>{class n{constructor(e,i,s,c,h){this.router=e,this.injector=s,this.preloadingStrategy=c,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe((0,p1.I)(e=>e instanceof Bs),(0,Or.m)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,r.SIz)(c.providers,e,`Route: ${c.path}`));const h=c._injector??e,d=c._loadedInjector??h;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(h,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(d,c.children??c._loadedRoutes))}return(0,Je.Q)(s).pipe((0,a1.u)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,st.of)(null);const c=s.pipe((0,vt.O)(h=>null===h?(0,st.of)(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,Je.Q)([c,h]).pipe((0,a1.u)())}return c})}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(ci),r.CoB(r.ESV),r.CoB(r.SIe),r.CoB(s7),r.CoB(vl))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const C4=new r.UbH("");let sw=(()=>{class n{constructor(e,i,s,c,h={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=s,this.zone=c,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration||="disabled",h.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof o4?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bs?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof $i&&e.code===r4.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof c4&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new c4(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){r.KEo()};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();function pl(n){return n.routerState.root}function vs(n,t){return{\u0275kind:n,\u0275providers:t}}function o7(){const n=(0,r.uUt)(r.zZn);return t=>{const e=n.get(r.Swk);if(t!==e.components[0])return;const i=n.get(ci),s=n.get(r7);1===n.get(R5)&&i.initialNavigation(),n.get(l7,null,r._6O.Optional)?.setUpPreloading(),n.get(C4,null,r._6O.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const r7=new r.UbH("",{factory:()=>new Et.E}),R5=new r.UbH("",{providedIn:"root",factory:()=>1}),l7=new r.UbH("");function c7(n){return vs(0,[{provide:l7,useExisting:iw},{provide:s7,useExisting:n}])}function a7(n){return vs(9,[{provide:Jp,useValue:Kx},{provide:ew,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const _1=new r.UbH("ROUTER_FORROOT_GUARD"),na=[Me,{provide:Fr,useClass:Gr},ci,Qr,{provide:I2,useFactory:pl,deps:[ci]},vl,[]];let Oo=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[na,[],{provide:dl,multi:!0,useValue:e},{provide:_1,useFactory:aw,deps:[[ci,new r.T7N,new r.Qfh]]},{provide:ul,useValue:i||{}},i?.useHash?{provide:D,useClass:le}:{provide:D,useClass:q},{provide:C4,useFactory:()=>{const n=(0,r.uUt)(Sr),t=(0,r.uUt)(r.WW2),e=(0,r.uUt)(ul),i=(0,r.uUt)(gl),s=(0,r.uUt)(Fr);return e.scrollOffset&&n.setOffset(e.scrollOffset),new sw(s,i,n,t,e)}},i?.preloadingStrategy?c7(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?v7(i):[],i?.bindToComponentInputs?vs(8,[Td,{provide:el,useExisting:Td}]).\u0275providers:[],i?.enableViewTransitions?a7().\u0275providers:[],[{provide:g7,useFactory:o7},{provide:r.qid,multi:!0,useExisting:g7}]]}}static forChild(e){return{ngModule:n,providers:[{provide:dl,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(_1,8))};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})();function aw(n){return"guarded"}function v7(n){return["disabled"===n.initialNavigation?vs(3,[{provide:r.kZF,multi:!0,useFactory:()=>{const t=(0,r.uUt)(ci);return()=>{t.setUpLocationChangeListener()}}},{provide:R5,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vs(2,[{provide:R5,useValue:0},{provide:r.kZF,multi:!0,deps:[r.zZn],useFactory:t=>{const e=t.get(pe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const s=t.get(ci),c=t.get(r7);P5(s,()=>{i(!0)}),t.get(gl).afterPreactivation=()=>(i(!0),c.closed?(0,st.of)(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const g7=new r.UbH("");class ft{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var c,h,d,i=Array.isArray(t),s=Array.isArray(e);if(i&&s){if((h=t.length)!=e.length)return!1;for(c=h;0!=c--;)if(!this.equalsByValue(t[c],e[c]))return!1;return!0}if(i!=s)return!1;var g=this.isDate(t),f=this.isDate(e);if(g!=f)return!1;if(g&&f)return t.getTime()==e.getTime();var _=t instanceof RegExp,y=e instanceof RegExp;if(_!=y)return!1;if(_&&y)return t.toString()==e.toString();var C=Object.keys(t);if((h=C.length)!==Object.keys(e).length)return!1;for(c=h;0!=c--;)if(!Object.prototype.hasOwnProperty.call(e,C[c]))return!1;for(c=h;0!=c--;)if(!this.equalsByValue(t[d=C[c]],e[d]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),s=t;for(let c=0,h=i.length;c<h;++c){if(null==s)return null;s=s[i[c]]}return s}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,s){if(i.length>0){let c=!1;for(let h=0;h<i.length;h++)if(this.findIndexInList(i[h],s)>e){i.splice(h,0,t),c=!0;break}c||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let s=0;s<e.length;s++)if(e[s]==t){i=s;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,s=1){let c=-1;const h=this.isEmpty(t),d=this.isEmpty(e);return c=h&&d?0:h?s:d?-s:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,c}static sort(t,e,i=1,s,c=1){const h=ft.compare(t,e,s,i);let d=i;return(ft.isEmpty(t)||ft.isEmpty(e))&&(d=1===c?i:c),d*h}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var c,h,d,i=Array.isArray(t),s=Array.isArray(e);if(i&&s){if((h=t.length)!=e.length)return!1;for(c=h;0!=c--;)if(!this.deepEquals(t[c],e[c]))return!1;return!0}if(i!=s)return!1;var g=t instanceof Date,f=e instanceof Date;if(g!=f)return!1;if(g&&f)return t.getTime()==e.getTime();var _=t instanceof RegExp,y=e instanceof RegExp;if(_!=y)return!1;if(_&&y)return t.toString()==e.toString();var C=Object.keys(t);if((h=C.length)!==Object.keys(e).length)return!1;for(c=h;0!=c--;)if(!Object.prototype.hasOwnProperty.call(e,C[c]))return!1;for(c=h;0!=c--;)if(!this.deepEquals(t[d=C[c]],e[d]))return!1;return!0}return t!=t&&e!=e}}var M4=0;function Fs(n="pn_id_"){return`${n}${++M4}`}var D2=function ab(){let n=[];const s=c=>c&&parseInt(c.style.zIndex,10)||0;return{get:s,set:(c,h,d)=>{h&&(h.style.zIndex=String(((c,h)=>{let d=n.length>0?n[n.length-1]:{key:c,value:h},g=d.value+(d.key===c?0:h)+2;return n.push({key:c,value:g}),g})(c,d)))},clear:c=>{c&&((c=>{n=n.filter(h=>h.value!==c)})(s(c)),c.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const hb=["*"];let o1=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),w7=(()=>{class n{filter(e,i,s,c,h){let d=[];if(e)for(let g of e)for(let f of i){let _=ft.resolveFieldData(g,f);if(this.filters[c](_,s,h)){d.push(g);break}}return d}filters={startsWith:(e,i,s)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let c=ft.removeAccents(i.toString()).toLocaleLowerCase(s);return ft.removeAccents(e.toString()).toLocaleLowerCase(s).slice(0,c.length)===c},contains:(e,i,s)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let c=ft.removeAccents(i.toString()).toLocaleLowerCase(s);return-1!==ft.removeAccents(e.toString()).toLocaleLowerCase(s).indexOf(c)},notContains:(e,i,s)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let c=ft.removeAccents(i.toString()).toLocaleLowerCase(s);return-1===ft.removeAccents(e.toString()).toLocaleLowerCase(s).indexOf(c)},endsWith:(e,i,s)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let c=ft.removeAccents(i.toString()).toLocaleLowerCase(s),h=ft.removeAccents(e.toString()).toLocaleLowerCase(s);return-1!==h.indexOf(c,h.length-c.length)},equals:(e,i,s)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ft.removeAccents(e.toString()).toLocaleLowerCase(s)==ft.removeAccents(i.toString()).toLocaleLowerCase(s)),notEquals:(e,i,s)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ft.removeAccents(e.toString()).toLocaleLowerCase(s)==ft.removeAccents(i.toString()).toLocaleLowerCase(s))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let s=0;s<i.length;s++)if(ft.equals(e,i[s]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,s)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,s)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,s)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,s)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,s)=>this.filters.equals(e,i,s),isNot:(e,i,s)=>this.filters.notEquals(e,i,s),before:(e,i,s)=>this.filters.lt(e,i,s),after:(e,i,s)=>this.filters.gt(e,i,s),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()};register(e,i){this.filters[e]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U5=(()=>{class n{clickSource=new Et.E;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wl=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[o1.STARTS_WITH,o1.CONTAINS,o1.NOT_CONTAINS,o1.ENDS_WITH,o1.EQUALS,o1.NOT_EQUALS],numeric:[o1.EQUALS,o1.NOT_EQUALS,o1.LESS_THAN,o1.LESS_THAN_OR_EQUAL_TO,o1.GREATER_THAN,o1.GREATER_THAN_OR_EQUAL_TO],date:[o1.DATE_IS,o1.DATE_IS_NOT,o1.DATE_BEFORE,o1.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Et.E;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=r.In1({type:n,selectors:[["p-footer"]],ngContentSelectors:hb,decls:1,vars:0,template:function(i,s){1&i&&(r.kPM(),r._Xx(0))},encapsulation:2})}return n})(),Kn=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(r.GI1(r.Yw2))};static \u0275dir=r.Sc5({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[r.Wk5.None,"pTemplate","name"]}})}return n})(),z1=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn]})}return n})(),dw=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="Show Filter Menu";static HIDE_FILTER_MENU="Hide Filter Menu";static SELECTION_MESSAGE="{0} items selected"})(),oe=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let s=i.trim().split(" ");for(let c=0;c<s.length;c++)e.classList.add(s[c])}else{let s=i.split(" ");for(let c=0;c<s.length;c++)e.className+=" "+s[c]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(s=>s.split(" ").forEach(c=>this.removeClass(e,c)))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,s=0;for(var c=0;c<i.length;c++){if(i[c]==e)return s;1==i[c].nodeType&&s++}return-1}static indexWithinGroup(e,i){let s=e.parentNode?e.parentNode.childNodes:[],c=0;for(var h=0;h<s.length;h++){if(s[h]==e)return c;s[h].attributes&&s[h].attributes[i]&&1==s[h].nodeType&&c++}return-1}static appendOverlay(e,i,s="self"){"self"!==s&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,s="self",c=!0){e&&i&&(c&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===s?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i){const s=B=>{if(B)return"relative"===getComputedStyle(B).getPropertyValue("position")?B:s(B.parentElement)},c=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),h=i.offsetHeight,d=i.getBoundingClientRect(),g=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),_=this.getViewport(),C=s(e)?.getBoundingClientRect()||{top:-1*g,left:-1*f};let x,b;d.top+h+c.height>_.height?(x=d.top-C.top-c.height,e.style.transformOrigin="bottom",d.top+x<0&&(x=-1*d.top)):(x=h+d.top-C.top,e.style.transformOrigin="top");const L=d.left+c.width-_.width;b=c.width>_.width?-1*(d.left-C.left):L>0?d.left-C.left-L:d.left-C.left,e.style.top=x+"px",e.style.left=b+"px"}static absolutePosition(e,i){const s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),c=s.height,h=s.width,d=i.offsetHeight,g=i.offsetWidth,f=i.getBoundingClientRect(),_=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),C=this.getViewport();let x,b;f.top+d+c>C.height?(x=f.top+_-c,e.style.transformOrigin="bottom",x<0&&(x=_)):(x=d+f.top+_,e.style.transformOrigin="top"),b=f.left+h>C.width?Math.max(0,f.left+y+g-h):f.left+y,e.style.top=x+"px",e.style.left=b+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let s=this.getParents(e);const c=/(auto|scroll)/,h=d=>{let g=window.getComputedStyle(d,null);return c.test(g.getPropertyValue("overflow"))||c.test(g.getPropertyValue("overflowX"))||c.test(g.getPropertyValue("overflowY"))};for(let d of s){let g=1===d.nodeType&&d.dataset.scrollselectors;if(g){let f=g.split(",");for(let _ of f){let y=this.findSingle(d,_);y&&h(y)&&i.push(y)}}9!==d.nodeType&&h(d)&&i.push(d)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let s=getComputedStyle(e).getPropertyValue("borderTopWidth"),c=s?parseFloat(s):0,h=getComputedStyle(e).getPropertyValue("paddingTop"),d=h?parseFloat(h):0,g=e.getBoundingClientRect(),_=i.getBoundingClientRect().top+document.body.scrollTop-(g.top+document.body.scrollTop)-c-d,y=e.scrollTop,C=e.clientHeight,x=this.getOuterHeight(i);_<0?e.scrollTop=y+_:_+x>C&&(e.scrollTop=y+_-C+x)}static fadeIn(e,i){e.style.opacity=0;let s=+new Date,c=0,h=function(){c=+e.style.opacity.replace(",",".")+((new Date).getTime()-s)/i,e.style.opacity=c,s=+new Date,+c<1&&(window.requestAnimationFrame&&requestAnimationFrame(h)||setTimeout(h,16))};h()}static fadeOut(e,i){var s=1,d=50/i;let g=setInterval(()=>{(s-=d)<=0&&(s=0,clearInterval(g)),e.style.opacity=s},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var s=Element.prototype;return(s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(h){return-1!==[].indexOf.call(document.querySelectorAll(h),this)}).call(e,i)}static getOuterWidth(e,i){let s=e.offsetWidth;if(i){let c=getComputedStyle(e);s+=parseFloat(c.marginLeft)+parseFloat(c.marginRight)}return s}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,s=getComputedStyle(e);return i+=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i}static width(e){let i=e.offsetWidth,s=getComputedStyle(e);return i-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,s=getComputedStyle(e);return i+=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),i}static getOuterHeight(e,i){let s=e.offsetHeight;if(i){let c=getComputedStyle(e);s+=parseFloat(c.marginTop)+parseFloat(c.marginBottom)}return s}static getHeight(e){let i=e.offsetHeight,s=getComputedStyle(e);return i-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,s=getComputedStyle(e);return i-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),i}static getViewport(){let e=window,i=document,s=i.documentElement,c=i.getElementsByTagName("body")[0];return{width:e.innerWidth||s.clientWidth||c.clientWidth,height:e.innerHeight||s.clientHeight||c.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let s=e.parentNode;if(!s)throw"Can't replace element";return s.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,s){e[i].apply(e,s)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableElements(e,i=""){let s=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`),c=[];for(let h of s)"none"!=getComputedStyle(h).display&&"hidden"!=getComputedStyle(h).visibility&&c.push(h);return c}static getFirstFocusableElement(e,i){const s=this.getFocusableElements(e,i);return s.length>0?s[0]:null}static getLastFocusableElement(e,i){const s=this.getFocusableElements(e,i);return s.length>0?s[s.length-1]:null}static getNextFocusableElement(e,i=!1){const s=n.getFocusableElements(e);let c=0;if(s&&s.length>0){const h=s.indexOf(s[0].ownerDocument.activeElement);i?c=-1==h||0===h?s.length-1:h-1:-1!=h&&h!==s.length-1&&(c=h+1)}return s[c]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const s=typeof e;if("string"===s)return document.querySelector(e);if("object"===s&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const h=(d=e)&&d.constructor&&d.call&&d.apply?e():e;return h&&9===h.nodeType||this.isExist(h)?h:null}var d}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){const s=e.getAttribute(i);return isNaN(s)?"true"===s||"false"===s?"true"===s:s:+s}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}}return n})();class _7{element;listener;scrollableParents;constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=oe.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}const z7=["*"];let gs=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const e=ft.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=r.In1({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[r.UHJ],ngContentSelectors:z7,decls:1,vars:0,template:function(i,s){1&i&&(r.kPM(),r._Xx(0))},encapsulation:2,changeDetection:0})}return n})(),$5=(()=>{class n extends gs{static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0),r.wR5(1,"path",1),r.C$Y()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})(),Bo=(()=>{class n extends gs{static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0),r.wR5(1,"path",1),r.C$Y()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})(),A2=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,s,c,h,d){this.document=e,this.platformId=i,this.renderer=s,this.el=c,this.zone=h,this.config=d}animationListener;mouseDownListener;timeout;ngAfterViewInit(){lt(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(oe.removeClass(i,"p-ink-active"),!oe.getHeight(i)&&!oe.getWidth(i)){let d=Math.max(oe.getOuterWidth(this.el.nativeElement),oe.getOuterHeight(this.el.nativeElement));i.style.height=d+"px",i.style.width=d+"px"}let s=oe.getOffset(this.el.nativeElement),c=e.pageX-s.left+this.document.body.scrollTop-oe.getWidth(i)/2,h=e.pageY-s.top+this.document.body.scrollLeft-oe.getHeight(i)/2;this.renderer.setStyle(i,"top",h+"px"),this.renderer.setStyle(i,"left",c+"px"),oe.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let d=this.getInk();d&&oe.removeClass(d,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&oe.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),oe.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,oe.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(r.GI1(X),r.GI1(r.AHE),r.GI1(r.q87),r.GI1(r.GMv),r.GI1(r.WW2),r.GI1(wl,8))};static \u0275dir=r.Sc5({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),O2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn]})}return n})(),sa=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Fs()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;constructor(e,i,s,c,h,d){this.platformId=e,this.el=i,this.zone=s,this.config=c,this.renderer=h,this.viewContainer=d}ngAfterViewInit(){lt(this.platformId)&&this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){(this.isAutoHide()||!(oe.hasClass(e.relatedTarget,"p-tooltip")||oe.hasClass(e.relatedTarget,"p-tooltip-text")||oe.hasClass(e.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?oe.appendChild(this.container,this.el.nativeElement):oe.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),oe.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?D2.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&D2.clear(this.container),this.remove()}updateText(){const e=this.getOption("tooltipLabel");if(e instanceof r.Yw2){const i=this.viewContainer.createEmbeddedView(e);i.detectChanges(),i.rootNodes.forEach(s=>this.tooltipText.appendChild(s))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+oe.getWindowScrollLeft(),top:e.top+oe.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+oe.getOuterWidth(this.el.nativeElement),s=e.top+(oe.getOuterHeight(this.el.nativeElement)-oe.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-oe.getOuterWidth(this.container),s=e.top+(oe.getOuterHeight(this.el.nativeElement)-oe.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(oe.getOuterWidth(this.el.nativeElement)-oe.getOuterWidth(this.container))/2,s=e.top-oe.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(oe.getOuterWidth(this.el.nativeElement)-oe.getOuterWidth(this.container))/2,s=e.top+oe.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return oe.hasClass(e,"p-inputwrapper")?oe.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,s=e.left,c=oe.getOuterWidth(this.container),h=oe.getOuterHeight(this.container),d=oe.getViewport();return s+c>d.width||s<0||i<0||i+h>d.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new _7(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):oe.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&D2.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(r.GI1(r.AHE),r.GI1(r.GMv),r.GI1(r.WW2),r.GI1(wl),r.GI1(r.q87),r.GI1(r.y8U))};static \u0275dir=r.Sc5({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,s){1&i&&r.qCj("keydown.escape",function(h){return s.onPressEscape(h)},!1,r.wLc)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",hideOnEscape:"hideOnEscape",content:[r.Wk5.None,"pTooltip","content"],disabled:[r.Wk5.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[r.SYr]})}return n})(),ui=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn]})}return n})();function ji(n,t){return Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))}function D7(n,t){return new Array(t).fill(n)}function ha(n,t=0){return n[n.length-1-t]}function Z1(n){return n.reduce((t,e)=>t+e,0)}function I4(n){return n.reduce((t,e)=>t.concat(Array.isArray(e)?I4(e):e),[])}Error;var i6=Object.defineProperty,G7=(n,t)=>{for(var e in t)i6(n,e,{get:t[e],enumerable:!0})},da=1e-6;function Ot(n,t,e=da){return!isNaN(n)&&!isNaN(t)&&Math.abs(n-t)<e}function $s(n,t,e,i=da){return t>e&&([t,e]=[e,t]),n>t+i&&n<e-i}function j7(n,t=1){return Math.round(n/t)*t}function ko(n,t=-1/0,e=1/0){return Math.min(e,Math.max(t,n))}function P4(n,t,e=.5){return n+(t-n)*e}function Ti(n){return n*n}function K7(n,t=0){const i=R4(n.slice(0));return t?i.filter(s=>s.length===t):i}function R4(n){if(1===n.length)return[[],n];const t=n.pop(),e=R4(n),i=[];for(const s of e)i.push(s,[...s,t]);return i}function Z7(n,t,e){return function ca(n,t,e){const i=[];for(let s=0;s<t;++s)i.push(D7(n,e));return i}(n,t,e)}function $w(n=2){const t=Z7(0,n,n);for(let e=0;e<n;++e)t[e][e]=1;return t}function jw(n){const t=Math.sin(n),e=Math.cos(n);return[[e,-t],[t,e]]}function Ww(n){return[[1,n],[0,1]]}function qw(n){const t=Math.sin(2*n),e=Math.cos(2*n);return[[e,t],[t,-e]]}function G4(...n){const[t,...e]=n,i=e.length>1?G4(...e):e[0];if(t.length!==i.length||t[0].length!==i[0].length)throw new Error("Matrix sizes don\u2019t match");const s=[];for(let c=0;c<t.length;++c){const h=[];for(let d=0;d<t[c].length;++d)h.push(t[c][d]+i[c][d]);s.push(h)}return s}function ma(n,t){return n.map(e=>e.map(i=>i*t))}function zl(...n){const[t,...e]=n,i=e.length>1?zl(...e):e[0];if(t[0].length!==i.length)throw new Error("Matrix sizes don\u2019t match.");const s=[];for(let c=0;c<t.length;++c){const h=[];for(let d=0;d<i[0].length;++d){let g=0;for(let f=0;f<i.length;++f)g+=t[c][f]*i[f][d];h.push(g)}s.push(h)}return s}function fa(n){const t=[];for(let e=0;e<n[0].length;++e){const i=[];for(let s=0;s<n.length;++s)i.push(n[s][e]);t.push(i)}return t}function X7(n){if(n.length!==n[0].length)throw new Error("Not a square matrix.");const t=n.length;if(1===t)return n[0][0];if(2===t)return n[0][0]*n[1][1]-n[0][1]*n[1][0];let e=0;for(let i=0;i<t;++i){let s=n[0][i],c=n[0][i];for(let h=1;h<t;++h)c*=n[h][(i+h)%t],s*=n[h][(i-h+t)%t];e+=c-s}return e}function yl(n){const t=n.length;if(t!==n[0].length)throw new Error("Not a square matrix.");const e=$w(t),i=function X5(n,t,e){const i=[];for(let s=0;s<t;++s){const c=[];for(let h=0;h<e;++h)c.push(n(s,h));i.push(c)}return i}((s,c)=>n[s][c],t,t);for(let s=0;s<t;++s){let c=i[s][s];if(Ot(c,0)){for(let h=s+1;h<t;++h)if(0!==i[h][s]){for(let d=0;d<t;++d)[i[h][d],i[s][d]]=[i[s][d],i[h][d]],[e[h][d],e[s][d]]=[e[s][d],e[h][d]];break}if(c=i[s][s],Ot(c,0))throw new Error("Matrix not invertible.")}for(let h=0;h<t;++h)i[s][h]=i[s][h]/c,e[s][h]=e[s][h]/c;for(let h=0;h<t;++h){if(h===s)continue;const d=i[h][s];for(let g=0;g<t;++g)i[h][g]-=d*i[s][g],e[h][g]-=d*e[s][g]}}return e}G7({},{determinant:()=>X7,fill:()=>Z7,identity:()=>$w,inverse:()=>yl,product:()=>zl,reflection:()=>qw,rotation:()=>jw,scalarProduct:()=>ma,shear:()=>Ww,sum:()=>G4,transpose:()=>fa});var U4={};function Kw(n){for(let t=(n=n.slice(0)).length-1;t>0;--t){const e=Math.floor(Math.random()*(t+1));[n[t],n[e]]=[n[e],n[t]]}return n}function pa(n,t){return(void 0===t?0:n)+Math.floor((void 0===t?n:t-n+1)*Math.random())}function a6(n){const t=Math.random()*Z1(n);let e=0;return n.findIndex(i=>(e+=i)>=t)}function Yw(n){return n[Math.floor(n.length*Math.random())]}G7(U4,{bernoulli:()=>J7,binomial:()=>Qw,cauchy:()=>j4,chiCDF:()=>t_,exponential:()=>h6,find:()=>Yw,geometric:()=>_a,integer:()=>pa,integrate:()=>q4,normal:()=>Jw,normalPDF:()=>W4,poisson:()=>Zw,shuffle:()=>Kw,smart:()=>$4,uniform:()=>Xw,weighted:()=>a6});var wa=new Map;function $4(n,t){t||(t=function Cw(n=10){return Math.random().toString(36).substr(2,n)}()),wa.has(t)||wa.set(t,D7(1,n));const e=wa.get(t),i=a6(e.map(s=>s*s));return e[i]-=1,e[i]<=0&&wa.set(t,e.map(s=>s+1)),i}function J7(n=.5){return Math.random()<n?1:0}function Qw(n=1,t=.5){let e=0;for(let i=0;i<n;++i)e+=J7(t);return e}function Zw(n=1){if(n<=0)return 0;const t=Math.exp(-n);let e=1,i=0;for(;e>t;++i)e*=Math.random();return i-1}function Xw(n=0,t=1){return n+(t-n)*Math.random()}function Jw(n=0,t=1){const e=Math.random(),i=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*i)*Math.sqrt(t)+n}function h6(n=1){return n<=0?0:-Math.log(Math.random())/n}function _a(n=.5){if(!(n<=0||n>1))return Math.floor(Math.log(Math.random())/Math.log(1-n))}function j4(){let n,t,e;do{t=2*Math.random()-1,e=2*Math.random()-1,n=t*t+e*e}while(n>=1);return t/e}function W4(n,t=1,e=0){return Math.exp(-((n-t)**2)/(2*e))/Math.sqrt(2*Math.PI*e)}var e_=7,ev=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7];function tv(n){if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*tv(1-n));n-=1;let t=ev[0];for(let i=1;i<e_+2;i++)t+=ev[i]/(n+i);const e=n+e_+.5;return Math.sqrt(2*Math.PI)*Math.pow(e,n+.5)*Math.exp(-e)*t}function q4(n,t,e,i=1){let s=0;for(let c=t;c<e;c+=i)s+=n(c)*i||0;return s}function t_(n,t){return 1-q4(i=>Math.pow(i,(t-2)/2)*Math.exp(-i/2),0,n)/Math.pow(2,t/2)/tv(t/2)}function n_(n,t){let e=1,i=n[0];for(let s=1;s<n.length;++s)e*=t,i+=e*n[s];return i}function i_(n,t=!1){let e=0,i=0,s=0,c=0;const h=n.length;for(let f=0;f<h;f++)e+=n[f][0],i+=n[f][1],s+=n[f][0]*n[f][0],c+=n[f][0]*n[f][1];if(t)return[0,c/s];const d=(h*c-e*i)/(h*s-e*e);return[i/h-d*e/h,d]}function iv(n){const t=[0,0,0,0,0,0];for(const c of n)t[0]+=c[0],t[1]+=c[1],t[2]+=c[0]*c[0]*c[1],t[3]+=c[1]*Math.log(c[1]),t[4]+=c[0]*c[1]*Math.log(c[1]),t[5]+=c[0]*c[1];const e=t[1]*t[2]-t[5]*t[5];return[Math.exp((t[2]*t[3]-t[5]*t[4])/e),(t[1]*t[4]-t[5]*t[3])/e]}function s_(n){const t=[0,0,0,0],e=n.length;for(const c of n)t[0]+=Math.log(c[0]),t[1]+=c[1]*Math.log(c[0]),t[2]+=c[1],t[3]+=Math.pow(Math.log(c[0]),2);const i=(e*t[1]-t[2]*t[0])/(e*t[3]-t[0]*t[0]);return[(t[2]-i*t[0])/e,i]}function o_(n){const t=[0,0,0,0],e=n.length;for(const c of n)t[0]+=Math.log(c[0]),t[1]+=Math.log(c[1])*Math.log(c[0]),t[2]+=Math.log(c[1]),t[3]+=Math.pow(Math.log(c[0]),2);const i=(e*t[1]-t[2]*t[0])/(e*t[3]-t[0]*t[0]);return[Math.exp((t[2]-i*t[0])/e),i]}function No(n,t=2){const e=n.map(g=>function aa(n,t,e=1){const i=[];if(void 0===t&&n>=0)for(let s=0;s<n;s+=e)i.push(s);else if(void 0===t)for(let s=0;s>n;s-=e)i.push(s);else if(n<=t)for(let s=n;s<=t;s+=e)i.push(s);else for(let s=n;s>=t;s-=e)i.push(s);return i}(t+1).map(f=>Math.pow(g[0],f))),i=fa(e),s=n.map(g=>[g[1]]),c=zl(i,e);return zl(yl(c),i,s).map(g=>g[0])}function K4(n,t){const i=n.reduce((h,d)=>h+d[1],0)/n.length,s=n.reduce((h,d)=>h+(d[1]-i)**2,0);return 1-n.reduce((h,d)=>h+(d[1]-t(d[0]))**2,0)/s}function r_(n,t=.85,e=8){if(!(n.length<=1))for(let i=1;i<e;++i){const s=No(n,i),c=d=>n_(s,d);if(K4(n,c)>=t)return{order:i,coefficients:s,fn:c}}}G7({},{bestPolynomial:()=>r_,coefficient:()=>K4,exponential:()=>iv,linear:()=>i_,logarithmic:()=>s_,polynomial:()=>No,power:()=>o_});var E1=2*Math.PI;function Fo(n,t){return function k4(n,t){return(n%t+t)%t}(Math.atan2(n.y-(t?t.y:0),n.x-(t?t.x:0)),E1)}function Ml(n,t){let e,i=1/0,s=-1;for(const[c,h]of t.entries()){const d=h.project(n),g=Ue.distance(n,d);g<i&&(e=d,i=g,s=c)}return e?[e,s]:void 0}var Ue=class En{constructor(t=0,e=0){this.x=t,this.y=e,this.type="point"}get unitVector(){return Ot(this.length,0)?new En(1,0):this.scale(1/this.length)}get length(){return Math.sqrt(this.x**2+this.y**2)}get inverse(){return new En(-this.x,-this.y)}get flip(){return new En(this.y,this.x)}get perpendicular(){return new En(-this.y,this.x)}get array(){return[this.x,this.y]}distanceFromLine(t){return En.distance(this,t.project(this))}clamp(t,e=0){const i=ko(this.x,t.xMin+e,t.xMax-e),s=ko(this.y,t.yMin+e,t.yMax-e);return new En(i,s)}changeCoordinates(t,e){return new En(e.xMin+(this.x-t.xMin)/t.dx*e.dx,e.yMin+(this.y-t.yMin)/t.dy*e.dy)}add(t){return En.sum(this,t)}subtract(t){return En.difference(this,t)}round(t=1){return new En(j7(this.x,t),j7(this.y,t))}floor(){return new En(Math.floor(this.x),Math.floor(this.y))}mod(t,e=t){return new En(this.x%t,this.y%e)}angle(t=Di){return Fo(this,t)}snap(t,e=5){return Ot(this.x,t.x,e)?new En(t.x,this.y):Ot(this.y,t.y,e)?new En(this.x,t.y):this}static average(...t){const e=Z1(t.map(s=>s.x))/t.length,i=Z1(t.map(s=>s.y))/t.length;return new En(e,i)}static dot(t,e){return t.x*e.x+t.y*e.y}static sum(t,e){return new En(t.x+e.x,t.y+e.y)}static difference(t,e){return new En(t.x-e.x,t.y-e.y)}static distance(t,e){return Math.sqrt(Ti(t.x-e.x)+Ti(t.y-e.y))}static manhattan(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}static interpolate(t,e,i=.5){return new En(P4(t.x,e.x,i),P4(t.y,e.y,i))}static interpolateList(t,e=.5){const i=t.length-1,s=Math.floor(ko(e,0,1)*i);return En.interpolate(t[s],t[s+1],i*e-s)}static fromPolar(t,e=1){return new En(e*Math.cos(t),e*Math.sin(t))}static random(t){const e=U4.uniform(t.xMin,t.xMax),i=U4.uniform(t.yMin,t.yMax);return new En(e,i)}static equals(t,e,i){return Ot(t.x,e.x,i)&&Ot(t.y,e.y,i)}static colinear(t,e,i,s){return Ot((t.x-e.x)*(e.y-i.y),(e.x-i.x)*(t.y-e.y),s)}transform(t){return new En(t[0][0]*this.x+t[0][1]*this.y+t[0][2],t[1][0]*this.x+t[1][1]*this.y+t[1][2])}rotate(t,e=Di){if(Ot(t,0))return this;const i=this.x-e.x,s=this.y-e.y,c=Math.cos(t),h=Math.sin(t);return new En(i*c-s*h+e.x,i*h+s*c+e.y)}reflect(t){const e=t.p2.x-t.p1.x,i=t.p2.y-t.p1.y,h=(e*(this.y-t.p1.y)-i*(this.x-t.p1.x))/(e*e+i*i);return new En(this.x+2*h*i,this.y-2*h*e)}scale(t,e=t){return new En(this.x*t,this.y*e)}shift(t,e=t){return new En(this.x+t,this.y+e)}translate(t){return this.shift(t.x,t.y)}equals(t,e){return En.equals(this,t,e)}toString(){return`point(${this.x},${this.y})`}},Di=new Ue(0,0);function u6(n){return["polygon","polyline","rectangle","triangle"].includes(n.type)}function xl(n){return["line","ray","segment"].includes(n.type)}function Dn(n){return"ray"===n.type}function Y4(n){return"segment"===n.type}function k2(n){return"circle"===n.type}function Q4(n){return"arc"===n.type}function za(n){return"angle"===n.type}var y1=class Uu{constructor(t,e){this.p1=t,this.p2=e,this.type="line"}get length(){return Ue.distance(this.p1,this.p2)}get lengthSquared(){return(this.p1.x-this.p2.x)**2+(this.p1.y-this.p2.y)**2}get midpoint(){return Ue.average(this.p1,this.p2)}get slope(){return(this.p2.y-this.p1.y)/(this.p2.x-this.p1.x)}get intercept(){return this.p1.y-this.slope*this.p1.x}get angle(){return Fo(this.p2,this.p1)}get unitVector(){return this.p2.subtract(this.p1).unitVector}get perpendicularVector(){return new Ue(this.p2.y-this.p1.y,this.p1.x-this.p2.x).unitVector}parallel(t){return new Uu(t,t.add(this.p2).subtract(this.p1))}perpendicular(t){const e=this.line.project(t);return Ue.equals(t,e)?new Uu(e,e.add(this.perpendicularVector.scale(this.length/2))):new Uu(e,t)}get perpendicularBisector(){return this.perpendicular(this.midpoint)}distanceSquared(t){const e=this.project(t);return(t.x-e.x)**2+(t.y-e.y)**2}get line(){return"line"===this.type?this:new Uu(this.p1,this.p2)}get ray(){return Dn(this)?this:new u_(this.p1,this.p2)}get segment(){return Y4(this)?this:new ya(this.p1,this.p2)}offset(t){const e=Ue.difference(this.p2,this.p1),i=Ue.difference(t,this.p1);return Ue.dot(e,i)/this.lengthSquared}project(t){return this.at(this.offset(t))}side(t,e){const i=Ue.difference(this.p2,this.p1),s=Ue.difference(t,this.p1),c=s.x*i.y-s.y*i.x;return Ot(c,0,e)?0:Math.sign(c)}contains(t,e){return 0===this.side(t,e)}at(t){return Ue.interpolate(this.p1,this.p2,t)}transform(t){return new this.constructor(this.p1.transform(t),this.p2.transform(t))}rotate(t,e=Di){return Ot(t,0)?this:new this.constructor(this.p1.rotate(t,e),this.p2.rotate(t,e))}reflect(t){return new this.constructor(this.p1.reflect(t),this.p2.reflect(t))}scale(t,e=t){return new this.constructor(this.p1.scale(t,e),this.p2.scale(t,e))}shift(t,e=t){return new this.constructor(this.p1.shift(t,e),this.p2.shift(t,e))}translate(t){return this.shift(t.x,t.y)}equals(t,e){return this.contains(t.p1,e)&&this.contains(t.p2,e)}toString(){return`line(${this.p1},${this.p2})`}},u_=class extends y1{constructor(){super(...arguments),this.type="ray"}equals(n,t){return!("ray"!==n.type||!this.p1.equals(n.p1,t))&&(!!this.p2.equals(n.p2,t)||n.contains(this.p2,t)||this.contains(n.p2,t))}contains(n,t){if(!super.contains(n,t))return!1;const e=this.offset(n);return Ot(e,0,t)||e>0}toString(){return`ray(${this.p1},${this.p2})`}},ya=class fH extends y1{constructor(){super(...arguments),this.type="segment"}contains(t,e){return!!super.contains(t,e)&&(!(!this.p1.equals(t,e)&&!this.p2.equals(t,e))||(Ot(this.p1.x,this.p2.x,e)?$s(t.y,this.p1.y,this.p2.y):$s(t.x,this.p1.x,this.p2.x)))}project(t){const e=Ue.difference(this.p2,this.p1),i=Ue.difference(t,this.p1),s=ko(Ue.dot(e,i)/this.lengthSquared,0,1);return this.p1.add(e.scale(s))}contract(t){return new fH(this.at(t),this.at(1-t))}equals(t,e,i=!1){return"segment"===t.type&&(this.p1.equals(t.p1,e)&&this.p2.equals(t.p2,e)||!i&&this.p1.equals(t.p2,e)&&this.p2.equals(t.p1,e))}toString(){return`segment(${this.p1},${this.p2})`}},Ai=class Lh{constructor(t=Di,e=1){this.c=t,this.r=e,this.type="circle"}get circumference(){return E1*this.r}get area(){return Math.PI*this.r**2}get arc(){const t=this.c.shift(this.r,0);return new R2(this.c,t,E1)}tangentAt(t){const e=this.at(t),i=this.c.rotate(Math.PI/2,e);return new y1(e,i)}collision(t){return Ue.distance(this.c,new Ue(this.c.x<t.p.x?t.p.x:this.c.x>t.p.x+t.w?t.p.x+t.w:this.c.x,this.c.y<t.p.y?t.p.y:this.c.y>t.p.y+t.h?t.p.y+t.h:this.c.y))<=this.r}project(t){const e=t.subtract(this.c).unitVector.scale(this.r);return Ue.sum(this.c,e)}at(t){const e=E1*t;return this.c.shift(this.r*Math.cos(e),this.r*Math.sin(e))}offset(t){return Fo(t,this.c)/E1}contains(t){return Ue.distance(t,this.c)<=this.r}transform(t){const e=Math.abs(t[0][0])+Math.abs(t[1][1]);return new Lh(this.c.transform(t),this.r*e/2)}rotate(t,e=Di){return Ot(t,0)?this:new Lh(this.c.rotate(t,e),this.r)}reflect(t){return new Lh(this.c.reflect(t),this.r)}scale(t,e=t){return new Lh(this.c.scale(t,e),this.r*(t+e)/2)}shift(t,e=t){return new Lh(this.c.shift(t,e),this.r)}translate(t){return this.shift(t.x,t.y)}equals(t,e){return Ot(this.r,t.r,e)&&this.c.equals(t.c,e)}toString(){return`circle(${this.c},${this.r})`}},R2=class{constructor(n,t,e){this.c=n,this.start=t,this.angle=e,this.type="arc"}get circle(){return new Ai(this.c,this.radius)}get radius(){return Ue.distance(this.c,this.start)}get end(){return this.start.rotate(this.angle,this.c)}get startAngle(){return Fo(this.start,this.c)}contract(n){return new this.constructor(this.c,this.at(n/2),this.angle*(1-n))}get minor(){return this.angle<=Math.PI?this:new this.constructor(this.c,this.end,E1-this.angle)}get major(){return this.angle>=Math.PI?this:new this.constructor(this.c,this.end,E1-this.angle)}get center(){return this.at(.5)}project(n){const t=this.startAngle,e=t+this.angle;let i=Fo(n,this.c);return e>E1&&i<e-E1&&(i+=E1),i=ko(i,t,e),this.c.shift(this.radius,0).rotate(i,this.c)}at(n){return this.start.rotate(this.angle*n,this.c)}offset(n){return new w6(this.start,this.c,n).rad/this.angle}contains(n){return n.equals(this.project(n))}transform(n){return new this.constructor(this.c.transform(n),this.start.transform(n),this.angle)}rotate(n,t=Di){return Ot(n,0)?this:new this.constructor(this.c.rotate(n,t),this.start.rotate(n,t),this.angle)}reflect(n){return new this.constructor(this.c.reflect(n),this.start.reflect(n),this.angle)}scale(n,t=n){return new this.constructor(this.c.scale(n,t),this.start.scale(n,t),this.angle)}shift(n,t=n){return new this.constructor(this.c.shift(n,t),this.start.shift(n,t),this.angle)}translate(n){return this.shift(n.x,n.y)}equals(){return!1}toString(){return`arc(${this.c},${this.start},${this.angle})`}},Z4=class extends R2{constructor(){super(...arguments),this.type="sector"}contains(n){return Ue.distance(n,this.c)<=this.radius&&new w6(this.start,this.c,n).rad<=this.angle}toString(){return`sector(${this.c},${this.start},${this.angle})`}},Go=.001;function X4(n,t,e){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)>=-Go}function v6(n,t,e){const s=e.x-t.x,h=e.y-t.y,d=(n.x-t.x)*s+(n.y-t.y)*h;return!(d<Go)&&d-(s*s+h*h)<=-Go}function g6(n,t){return Ot(n.x,t.x)?Ot(n.y,t.y)?0:n.y<t.y?-1:1:n.x<t.x?-1:1}function bl(n){return n<=-Go?-2:n<Go?-1:n-1<=-Go?0:n-1<Go?1:2}var vi=class{constructor(){this.root={root:!0,next:void 0}}exists(n){return void 0!==n&&n!==this.root}get head(){return this.root.next}insertBefore(n,t){let e=this.root,i=this.root.next;for(;i;){if(t(i))return n.prev=i.prev,n.next=i,i.prev.next=n,void(i.prev=n);e=i,i=i.next}e.next=n,n.prev=e,n.next=void 0}findTransition(n){let t=this.root,e=this.root.next;for(;e&&!n(e);)t=e,e=e.next;return{before:t===this.root?void 0:t,after:e,insert:i=>(i.prev=t,i.next=e,t.next=i,e&&(e.prev=i),i)}}static node(n){const t=n;return t.remove=()=>{t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev=t.next=void 0},t}};function El(n,t,e){return{start:n,end:t,myFill:{above:e.myFill.above,below:e.myFill.below}}}function Uo(n,t,e){n.insertBefore(t,i=>function av(n,t,e,i,s,c){const h=g6(t,s);return 0!==h?h:Ue.equals(e,c)?0:n!==i?n?1:-1:X4(e,i?s:c,i?c:s)?1:-1}(!!t.isStart,t.pt,e,!!i.isStart,i.pt,i.other.pt)<0)}function Sl(n,t,e){const i=function d_(n,t,e){const i=vi.node({isStart:!0,pt:t.start,seg:t,primary:e});return Uo(n,i,t.end),i}(n,t,e);return function v_(n,t,e,i){const s=vi.node({pt:e.end,seg:e,primary:i,other:t});t.other=s,Uo(n,s,t.pt)}(n,i,t,e),i}function h1(n,t,e){const i=El(e,t.seg.end,t.seg);return function hv(n,t,e){t.other.remove(),t.seg.end=e,t.other.pt=e,Uo(n,t.other,t.pt)}(n,t,e),Sl(n,i,!!t.primary)}function Ca(n,t){const e=n.seg.start,i=n.seg.end,s=t.seg.start,c=t.seg.end;return Ue.colinear(e,s,c)?Ue.colinear(i,s,c)||X4(i,s,c)?1:-1:X4(e,s,c)?1:-1}function uv(n,t,e){const i=t.seg,s=e.seg,c=i.start,h=i.end,d=s.start,g=s.end,f=function m6(n,t,e,i){const s=t.x-n.x,c=t.y-n.y,h=i.x-e.x,d=i.y-e.y,g=s*d-c*h;if(Ot(g,0))return!1;const f=n.x-e.x,_=n.y-e.y,y=(h*_-d*f)/g,C=(s*_-c*f)/g,x=new Ue(n.x+y*s,n.y+y*c);return{alongA:bl(y),alongB:bl(C),pt:x}}(c,h,d,g);if(!1===f){if(!Ue.colinear(c,h,d)||Ue.equals(c,g)||Ue.equals(h,d))return!1;const _=Ue.equals(c,d),y=Ue.equals(h,g);if(_&&y)return e;const C=!_&&v6(c,d,g),x=!y&&v6(h,d,g);if(_)return x?h1(n,e,h):h1(n,t,g),e;C&&(y||(x?h1(n,e,h):h1(n,t,g)),h1(n,e,c))}else 0===f.alongA&&(-1===f.alongB?h1(n,t,d):0===f.alongB?h1(n,t,f.pt):1===f.alongB&&h1(n,t,g)),0===f.alongB&&(-1===f.alongA?h1(n,e,c):0===f.alongA?h1(n,e,f.pt):1===f.alongA&&h1(n,e,h));return!1}function Ma(n,t){var e,i;const s=new vi,c=[];for(;n.head;){const d=n.head;if(d.isStart){let g=function(){if(_){const x=uv(n,d,_);if(x)return x}return!!y&&uv(n,d,y)};const f=s.findTransition(x=>Ca(d,x.ev)>0),_=null==(e=f.before)?void 0:e.ev,y=null==(i=f.after)?void 0:i.ev,C=g();if(C&&(t?(!d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(C.seg.myFill.above=!C.seg.myFill.above):C.seg.otherFill=d.seg.myFill,d.other.remove(),d.remove()),n.head!==d)continue;if(t){const x=!d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below;d.seg.myFill.below=!!y&&y.seg.myFill.above,d.seg.myFill.above=x?!d.seg.myFill.below:d.seg.myFill.below}else if(void 0===d.seg.otherFill){const x=!!y&&(d.primary===y.primary?y.seg.otherFill.above:y.seg.myFill.above);d.seg.otherFill={above:x,below:x}}d.other.status=f.insert(vi.node({ev:d}))}else{const g=d.status;if(void 0===g)throw new Error("[Euclid.js] Zero-length segment detected!");if(s.exists(g.prev)&&s.exists(g.next)&&uv(n,g.prev.ev,g.next.ev),g.remove(),!d.primary){const f=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=f}c.push(d.seg)}n.head.remove()}return c}function gv(n){const t=new vi;for(const e of n)for(let i=0;i<e.length;i++){const s=i?e[i-1]:ha(e),c=e[i],h=g6(s,c);0!==h&&Sl(t,{start:h<0?s:c,end:h<0?c:s,myFill:{}},!0)}return Ma(t,!0)}function J4(n,t,e){const i=new vi;for(const c of gv(n))Sl(i,El(c.start,c.end,c),!0);for(const c of gv(t))Sl(i,El(c.start,c.end,c),!1);const s=function vv(n,t){const e=[];for(const i of n){const s=(i.myFill.above?8:0)+(i.myFill.below?4:0)+(i.otherFill&&i.otherFill.above?2:0)+(i.otherFill&&i.otherFill.below?1:0);0!==t[s]&&e.push({start:i.start,end:i.end,myFill:{above:1===t[s],below:2===t[s]}})}return e}(Ma(i,!1),e);return function dv(n){const t=[],e=[];return n.forEach(i=>{const s=i.start,c=i.end;if(Ue.equals(s,c))return;const h={index:0,matchesHead:!1,matchesPt1:!1},d={index:0,matchesHead:!1,matchesPt1:!1};let g=h;function f(L,V,B){g.index=L,g.matchesHead=V,g.matchesPt1=B;const R=g===h;return g=R?d:void 0,!R}for(let L=0;L<t.length;L++){const V=t[L],B=V[0],R=ha(V);if(Ue.equals(B,s)){if(f(L,!0,!0))break}else if(Ue.equals(B,c)){if(f(L,!0,!1))break}else if(Ue.equals(R,s)){if(f(L,!1,!0))break}else if(Ue.equals(R,c)&&f(L,!1,!1))break}if(g===h)return void t.push([s,c]);if(g===d){const L=h.index,V=h.matchesPt1?c:s,B=h.matchesHead,R=t[L];let te=B?R[0]:R[R.length-1];const J=B?R[1]:R[R.length-2],ve=B?R[R.length-1]:R[0],ge=B?R[R.length-2]:R[1];return Ue.colinear(J,te,V)&&(B?R.shift():R.pop(),te=J),Ue.equals(ve,V)?(t.splice(L,1),Ue.colinear(ge,ve,te)&&(B?R.pop():R.shift()),void e.push(R)):void(B?R.unshift(V):R.push(V))}function _(L){t[L].reverse()}function y(L,V){const B=t[L],R=t[V];let te=B[B.length-1];const J=B[B.length-2],ve=R[0],ge=R[1];Ue.colinear(J,te,ve)&&(B.pop(),te=J),Ue.colinear(te,ve,ge)&&R.shift(),t[L]=B.concat(R),t.splice(V,1)}const C=h.index,x=d.index,b=t[C].length<t[x].length;h.matchesHead?d.matchesHead?b?(_(C),y(C,x)):(_(x),y(x,C)):y(x,C):d.matchesHead?y(C,x):b?(_(C),y(x,C)):(_(x),y(C,x))}),e}(s)}var xa=[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],g_=[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],m_=[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0];function z_(n,t){return Ot(n.p1.x,n.p2.x)?$s(t.y,n.p1.y,n.p2.y):$s(t.x,n.p1.x,n.p2.x)}function e3(n,t){return Ot(n.p1.x,n.p2.x)?(t.y-n.p1.y)/(n.p2.y-n.p1.y)>0:(t.x-n.p1.x)/(n.p2.x-n.p1.x)>0}function y_(n,t){return $s(n.offset(t),0,1)}function f6(n,t){const e=n.p2.x-n.p1.x,i=n.p2.y-n.p1.y,s=Ti(e)+Ti(i),c=t.c.x,h=t.c.y,d=(n.p1.x-c)*(n.p2.y-h)-(n.p2.x-c)*(n.p1.y-h),g=Ti(t.r)*s-Ti(d);if(g<0)return[];const f=d*i/s,_=-d*e/s;if(Ot(g,0))return[t.c.shift(f,_)];const y=e*(i<0?-1:1)*Math.sqrt(g)/s,C=Math.abs(i)*Math.sqrt(g)/s;return[t.c.shift(f+y,_+C),t.c.shift(f-y,_-C)]}function On(...n){if(n.length<2)return[];if(n.length>2)return I4(K7(n,2).map(i=>On(...i)));let[t,e]=n;if(za(t)&&(t=t.shape(!0)),za(e)&&(e=e.shape(!0)),u6(e)&&([t,e]=[e,t]),u6(t)){const i=xl(e)?t.points.filter(s=>e.contains(s)):[];for(const s of t.edges)i.push(...On(s,e));return i}return function p6(n,t){let e=[];const i=Q4(n)?n.circle:n,s=Q4(t)?t.circle:t;xl(n)&&xl(t)?e=function C_(n,t){const e=n.p1.x-n.p2.x,i=n.p1.y-n.p2.y,s=t.p1.x-t.p2.x,c=t.p1.y-t.p2.y,h=e*c-i*s;if(Ot(h,0))return[];const d=n.p1.x*n.p2.y-n.p1.y*n.p2.x,g=t.p1.x*t.p2.y-t.p1.y*t.p2.x;return[new Ue((d*s-e*g)/h,(d*c-i*g)/h)]}(n,t):xl(i)&&k2(s)?e=f6(i,s):k2(i)&&xl(s)?e=f6(s,i):k2(i)&&k2(s)&&(e=function mv(n,t){const e=Ue.distance(n.c,t.c);if(e>n.r+t.r)return[];if(e<Math.abs(n.r-t.r))return[];if(Ot(e,0)&&Ot(n.r,t.r))return[];if(Ot(e,n.r+t.r))return[new y1(n.c,t.c).midpoint];const i=(Ti(n.r)-Ti(t.r)+Ti(e))/(2*e),s=Math.sqrt(Ti(n.r)-Ti(i)),d=(t.c.x-n.c.x)*i/e-(t.c.y-n.c.y)*s/e+n.c.x,g=(t.c.y-n.c.y)*i/e+(t.c.x-n.c.x)*s/e+n.c.y;return[new Ue((t.c.x-n.c.x)*i/e+(t.c.y-n.c.y)*s/e+n.c.x,(t.c.y-n.c.y)*i/e-(t.c.x-n.c.x)*s/e+n.c.y),new Ue(d,g)]}(i,s));for(const c of[n,t])Y4(c)&&(e=e.filter(h=>z_(c,h))),Dn(c)&&(e=e.filter(h=>e3(c,h))),Q4(c)&&(e=e.filter(h=>y_(c,h)));return e}(t,e)}var N2=class mc{constructor(...t){this.type="polygon",this.points=t}get circumference(){if(this.points.length<=1)return 0;let t=Ue.distance(this.points[0],ha(this.points));for(let e=1;e<this.points.length;++e)t+=Ue.distance(this.points[e-1],this.points[e]);return t}get signedArea(){const t=this.points,e=t.length;let i=t[e-1].x*t[0].y-t[0].x*t[e-1].y;for(let s=1;s<e;++s)i+=t[s-1].x*t[s].y-t[s].x*t[s-1].y;return i/2}get area(){return Math.abs(this.signedArea)}get centroid(){const t=this.points,e=t.length;let i=0;for(let c=0;c<e;++c)i+=t[c].x;let s=0;for(let c=0;c<e;++c)s+=t[c].y;return new Ue(i/e,s/e)}get edges(){const t=this.points.length,e=[];for(let i=0;i<t;++i)e.push(new ya(this.points[i],this.points[(i+1)%t]));return e}get radius(){const t=this.centroid,e=this.points.map(i=>Ue.distance(i,t));return Math.max(...e)}get oriented(){if(this.signedArea>=0)return this;const t=[...this.points].reverse();return new this.constructor(...t)}cut(t){const e=this.radius/t.length*10,i=t.at(-e),s=t.at(e),c=t.perpendicularVector.scale(t.length*e),h=[i,s,s.add(c),i.add(c)],d=((n,t)=>J4([this.points],t,g_))(0,[h]),g=((n,t)=>J4([this.points],t,m_))(0,[h]);return[...d,...g].map(f=>new mc(...f))}static collision(t,e){if(t.points.some(i=>e.contains(i))||e.points.some(i=>t.contains(i)))return!0;for(const i of t.edges)for(const s of e.edges)if(On(i,s)[0])return!0;return!1}static union(...t){const[e,...i]=t;return i.length?((n,t)=>J4(n,t,xa))([e.points],i.length>1?mc.union(...i).map(h=>h.points):[t[1].points]).map(h=>new mc(...h)):[e]}static regular(t,e=1){const i=E1/t,s=Math.PI/2-i/2,c=function B2(n,t){const e=[];for(let i=0;i<t;++i)e.push(n(i));return e}(h=>Ue.fromPolar(s+i*h,e),t);return new mc(...c)}static interpolate(t,e,i=.5){const s=t.points.map((c,h)=>Ue.interpolate(c,e.points[h],i));return new mc(...s)}static convexHull(...t){if(t.length<=3)return new mc(...t);const e=t.sort((h,d)=>h.x!==d.x?h.x-d.x:h.y-d.y),i=e.slice(0).reverse(),s=[],c=[];for(const[h,d]of[[e,s],[i,c]]){for(const g of h){for(;d.length>=2;){const f=d[d.length-1],_=d[d.length-2];if(!((f.x-_.x)*(g.y-_.y)>=(g.x-_.x)*(f.y-_.y)))break;d.pop()}d.push(g)}d.pop()}return new mc(...s.concat(c))}contains(t){let e=!1;for(const i of this.edges){if(i.p1.equals(t)||i.contains(t))return!1;i.p1.y>t.y!=i.p2.y>t.y&&(t.x<(i.p2.x-i.p1.x)/(i.p2.y-i.p1.y)*(t.y-i.p1.y)+i.p1.x&&(e=!e))}return e}at(t){t<0&&(t+=Math.floor(t));const e=t*this.circumference;let i=0;for(const s of this.edges){const c=s.length;if(i+c>e)return s.at((e-i)/c);i+=c}return this.points[0]}offset(t){const e=this.edges,i=Ml(t,this.edges)||[this.points[0],0];let s=0;for(let c=0;c<i[1];++c)s+=e[c].length;return s+=e[i[1]].offset(t)*e[i[1]].length,s/this.circumference}project(t){const e=Ml(t,this.edges);return e?e[0]:this.points[0]}centerAt(t=Di){return this.translate(t.subtract(this.centroid))}transform(t){return new this.constructor(...this.points.map(e=>e.transform(t)))}rotate(t,e=Di){if(Ot(t,0))return this;const i=this.points.map(s=>s.rotate(t,e));return new this.constructor(...i)}reflect(t){const e=this.points.map(i=>i.reflect(t));return new this.constructor(...e)}scale(t,e=t){const i=this.points.map(s=>s.scale(t,e));return new this.constructor(...i)}shift(t,e=t){const i=this.points.map(s=>s.shift(t,e));return new this.constructor(...i)}translate(t){return this.shift(t.x,t.y)}equals(t,e,i){const s=this.points.length;if(s!==t.points.length)return!1;const c=i?this:this.oriented,h=i?t:t.oriented;for(let d=0;d<s;++d)if(c.points.every((g,f)=>g.equals(h.points[(f+d)%s],e)))return!0;return!1}toString(){return`polygon(${this.points.join(",")})`}},fv=class extends N2{constructor(){super(...arguments),this.type="polyline"}get circumference(){return this.length}get length(){let n=0;for(let t=1;t<this.points.length;++t)n+=Ue.distance(this.points[t-1],this.points[t]);return n}get edges(){const n=[];for(let t=0;t<this.points.length-1;++t)n.push(new ya(this.points[t],this.points[t+1]));return n}toString(){return`polyline(${this.points.join(",")})`}};Math,Math;var w6=class d2{constructor(t,e,i){this.a=t,this.b=e,this.c=i,this.type="angle"}static fromDegrees(t){return d2.fromRadians(t*(Math.PI/180))}static fromRadians(t){const e=new Ue(1,0),i=e.rotate(t);return new d2(e,Di,i)}static equals(t,e,i=Math.PI/360){return Ot(t.rad,e.rad,i)}get rad(){const t=Math.atan2(this.a.y-this.b.y,this.a.x-this.b.x);let i=Math.atan2(this.c.y-this.b.y,this.c.x-this.b.x)-t;return i<0&&(i+=E1),i}get deg(){return 180*this.rad/Math.PI}get isRight(){return Ot(this.rad,Math.PI/2,Math.PI/360)}get bisector(){if(this.b.equals(this.a)||this.b.equals(this.c))return;const t=Math.atan2(this.a.y-this.b.y,this.a.x-this.b.x),e=Math.atan2(this.c.y-this.b.y,this.c.x-this.b.x);let i=(t+e)/2;t>e&&(i+=Math.PI);const s=Math.cos(i)+this.b.x,c=Math.sin(i)+this.b.y;return new y1(this.b,new Ue(s,c))}get sup(){return this.rad<Math.PI?this:new d2(this.c,this.b,this.a)}get arc(){return new R2(this.b,this.a,this.rad)}get radius(){return 24+20*(1-ko(this.rad,0,Math.PI)/Math.PI)}shape(t=!0,e,i){if(this.a.equals(this.b)||this.c.equals(this.b))return new N2(Di);const s=this.isRight&&!i;e||(e=s?20:this.radius);const c=new ya(this.b,this.a),h=c.at(e/c.length);if(s){const d=Ue.difference(this.c,this.b).unitVector.scale(e);return t?new N2(this.b,h,h.add(d),this.b.add(d)):new fv(h,h.add(d),this.b.add(d))}return t?new Z4(this.b,h,this.rad):new R2(this.b,h,this.rad)}project(t){return this.contains(t)?t:this.shape(!0).project(t)}at(){return this.c}offset(){return 0}contains(t){return this.shape(!0).contains(t)}transform(t){return new d2(this.a.transform(t),this.b.transform(t),this.c.transform(t))}rotate(t,e){return Ot(t,0)?this:new d2(this.a.rotate(t,e),this.b.rotate(t,e),this.c.rotate(t,e))}reflect(t){return new d2(this.a.reflect(t),this.b.reflect(t),this.c.reflect(t))}scale(t,e=t){return new d2(this.a.scale(t,e),this.b.scale(t,e),this.c.scale(t,e))}shift(t,e=t){return new d2(this.a.shift(t,e),this.b.shift(t,e),this.c.shift(t,e))}translate(t){return new d2(this.a.translate(t),this.b.translate(t),this.c.translate(t))}equals(t,e){return d2.equals(t,this,e)}toString(){return`angle(${this.a},${this.b},${this.c})`}};function M6(n){const t=n.points.reduce((e,i)=>({xSum:e.xSum+i.x,ySum:e.ySum+i.y}),{xSum:0,ySum:0});return new Ue(t.xSum/n.points.length,t.ySum/n.points.length)}const ba=2*Math.PI;function xv(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);return new Ue(-i/s,e/s)}function bv(n,t){const e=xv(n,t);return new Ue(-e.x,-e.y)}function x6(n){const t=[];let e=n[0].x,i=n[0].y,s=e,c=i;for(let d=0;d<n.length;d++){const g=n[d],f=n[(d+1)%n.length],_=bv(g,f),y=xv(g,f);t.push({vertex1:g,vertex2:f,index:d,outwardNormal:_,inwardNormal:y});const x=n[d].x,b=n[d].y;e=Math.min(x,e),i=Math.min(b,i),s=Math.max(x,s),c=Math.max(b,c)}return{vertices:n,edges:t,minX:e,minY:i,maxX:s,maxY:c}}function i3(n,t){const e=(t.vertex2.y-t.vertex1.y)*(n.vertex2.x-n.vertex1.x)-(t.vertex2.x-t.vertex1.x)*(n.vertex2.y-n.vertex1.y);if(0==e)return null;const i=((t.vertex2.x-t.vertex1.x)*(n.vertex1.y-t.vertex1.y)-(t.vertex2.y-t.vertex1.y)*(n.vertex1.x-t.vertex1.x))/e,s=((n.vertex2.x-n.vertex1.x)*(n.vertex1.y-t.vertex1.y)-(n.vertex2.y-n.vertex1.y)*(n.vertex1.x-t.vertex1.x))/e;return{x:n.vertex1.x+i*(n.vertex2.x-n.vertex1.x),y:n.vertex1.y+i*(n.vertex2.y-n.vertex1.y),isIntersectionOutside:i<0||s<0||i>1||s>1}}function b6(n,t,e,i,s,c,h){let d=Math.atan2(s.y-e.y,s.x-e.x),g=Math.atan2(c.y-e.y,c.x-e.x);d<0&&(d+=ba),g<0&&(g+=ba);const f=d>g?d-g:d+ba-g,_=(h?-f:ba-f)/n;t.push(s);for(let y=1;y<n;++y){const C=d+_*y,x=new Ue(e.x+Math.cos(C)*i,e.y+Math.sin(C)*i);t.push(x)}t.push(c)}function E6(n,t,e){return{vertex1:new Ue(n.vertex1.x+t,n.vertex1.y+e),vertex2:new Ue(n.vertex2.x+t,n.vertex2.y+e)}}function Ll(n,t,e=0){const i=x6(n);return t>0?function Kb(n,t,e){const i=[];for(let h=0;h<n.edges.length;h++){const d=n.edges[h];i.push(E6(d,d.outwardNormal.x*t,d.outwardNormal.y*t))}const s=[];for(let h=0;h<i.length;h++){const d=i[h],g=i[(h+i.length-1)%i.length],f=i3(g,d);f&&(!f.isIntersectionOutside||e<1)?s.push(new Ue(f.x,f.y)):b6(e,s,n.edges[h].vertex1,t,g.vertex2,d.vertex1,!1)}const c=x6(s);return c.offsetEdges=i,c}(i,t,e).vertices:function Yb(n,t,e){const i=[];for(let h=0;h<n.edges.length;h++){const d=n.edges[h];i.push(E6(d,d.inwardNormal.x*t,d.inwardNormal.y*t))}const s=[];for(let h=0;h<i.length;h++){const d=i[h],g=i[(h+i.length-1)%i.length],f=i3(g,d);f&&(!f.isIntersectionOutside||e<1)?s.push(new Ue(f.x,f.y)):b6(e,s,n.edges[h].vertex1,t,g.vertex2,d.vertex1,!0)}const c=x6(s);return c.offsetEdges=i,c}(i,-t,e).vertices}function s3(n,t,e){const i=Ll(n,t),s=Ll(n,-t),c=new N2(...i),h=new N2(...s);let d,g;return c.area<h.area?(d=c,g=h):(d=h,g=c),e?g.points:d.points}class Qe extends Ue{constructor(t,e,i=0){super(t,e),this.s=i}equals(t,e=.05){return e?new Ai(this,e).contains(t):super.equals(t)}}function F2(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}Math;var qi=function(n){return n.codeError="codeError",n.dataError="dataError",n.unknownError="unknownError",n}(qi||{}),js=function(n){return n.points="points",n.segments="segments",n.data="data",n.unknown="unknown",n}(js||{});class Ki{constructor(t,e){this.code=t.code,this.type=t.type,this.msg=t.msg,e&&(this.meta=e)}}class xe{static equalNumbers(t,e,i=.01){return Math.abs(t-e)<=i}static getPointWithOffset(t,e,i){const h=new at(t,e).length-i,d=i/h;return 0===h?e:new Qe((t.x+d*e.x)/(1+d),(t.y+d*e.y)/(1+d))}static getMiddlePoint(t,e){const i=t.perpendicular(t.midpoint);return xe.getPointWithOffset(i.p1,i.p2,e)}static flatten(t){let e=[];for(let i=0;i<t.length;i++)Array.isArray(t[i])?e=e.concat(xe.flatten(t[i])):e.push(t[i]);return e}static sortPointsByLine(t){if(t.length<2)return t;let e=[];return e=xe.equalNumbers(t[0].x,t[1].x)?t.sort((i,s)=>i.y-s.y):t.sort((i,s)=>i.x-s.x),e}static sortPointsByCircle(t,e){const i="circle"===e.type?t[0]:e.start;if(null==i)return t;const s=[];return t.forEach(h=>{if(h.equals(i))return void s.push({point:h,angle:0});const y=On(new at(i,h).perpendicular(e.c),e).map(C=>new X1(i,C,h)).find(C=>C.start.equals(i));null!=y&&s.push({point:h,angle:y.angle})}),s.sort((h,d)=>h.angle-d.angle).map(h=>h.point)}static createSegments(t){const e=[];for(let i=0;i<t.length-1;i++)i%2==0&&e.push(new at(t[i],t[i+1]));return e}static createArcs(t,e){const i=[];for(let s=0;s<e.length-1;s++)s%2==0&&i.push(t.getChildArc(e[s],e[s+1]));return i}static getPointsOfEdge(t){switch(t.type){case"segment":return[t.p1,t.p2];case"arc":return[t.start,t.customEnd];default:return[]}}static getExtremePoints(t){const e=[];return t.forEach(i=>{const s=xe.getPointsOfEdge(i);e.push(...s)}),e}static breakDownEdgesByPoint(t,e){const i=[];return t.forEach(s=>{const c=xe.getPointsOfEdge(s),h=e.filter(f=>s.contains(f));if(0===h.length)return void i.push(s);const d=[...c,...h],g="segment"===s.type?this.sortPointsByLine(d):this.sortPointsByCircle(d,s);for(let f=0;f<g.length-1;f++)switch(s.type){case"segment":i.push(new at(g[f],g[f+1]));break;case"arc":{const _=s.getChildArc(g[f],g[f+1]);if(null==_)return;i.push(_);break}}}),i}static getPointKey(t){return`${t.x};${t.y}`}static createAdjacencyMatrix(t){const e={};function i(s,c){const h=e[xe.getPointKey(s)];h?h.push(c):e[xe.getPointKey(s)]=[c]}return t.forEach(s=>{switch(s.type){case"segment":{const c=s;i(c.p2,c.p1),i(c.p1,c.p2);break}case"arc":i(s.customEnd,s.start),i(s.start,s.customEnd)}}),e}static getEdgesByPoints(t,e){const i=new Yn(...e).centroid,s=e.map((h,d,g)=>{const f=new at(h,g[(d+1)%e.length]);return t.filter(_=>{switch(_.type){case"arc":return _.chord.equals(f);case"segment":return _.equals(f);default:return!1}})});return 2===e.length?s[0]:s.map(h=>{if(1===h.length)return h[0];let d,g;return h.forEach(f=>{let _;switch(f.type){case"segment":_=f.midpoint;break;case"arc":_=f.center}if(null==_)return;const y=ji(i,_);(null==g||y<g)&&(g=y,d=f)}),d})}static getPolygonPointsByEdges(t){const e=[];if(2===t.length){let i;return t.forEach(s=>{const[c,h]=xe.getPointsOfEdge(s),d=e.some(f=>f.equals(c))?h:c,g="arc"===s.type?s.getS(i):0;i=d.equals(c)?h:c,e.push(new Qe(d.x,d.y,g))}),e}return t.forEach((i,s,c)=>{const h=c[(s+1)%c.length],[d,g]=xe.getPointsOfEdge(i),_=xe.getPointsOfEdge(h).some(y=>y.equals(d))?g:d;e.push(new Qe(_.x,_.y,"s"in i?i.getS(_):void 0))}),e}static findLoops(t){const e=this.createAdjacencyMatrix(t),i=[];return function s(c){let h;if(Object.values(c).forEach(x=>{null==h&&x.length&&(h=x[0])}),!h)return;let d=[];if(function g(x,b){if(!(d.length&&x.length>=d.length)){if(null!=x[0]&&x[0].equals(b)){if(x.length<2)return;if(2===x.length){const L=t.filter(V=>{const[B,R]=xe.getPointsOfEdge(V);return!(!B||!R)&&new at(B,R).equals(new at(x[0],x[1]))});if(1===L.length||!L.some(V=>"segment"!==V.type))return;return void(d=x)}return void(d=x)}x.some(L=>L.equals(b))||c[xe.getPointKey(b)].forEach(L=>g([...x,b],L))}}([],h),0===d.length)return;const f=xe.getEdgesByPoints(t,d),_=xe.getPolygonPointsByEdges(f);i.push(new Yn(..._));const y=[];d.forEach(x=>{2===c[xe.getPointKey(x)].length&&y.push(x)});const C={...c};y.forEach(x=>{c[xe.getPointKey(x)].forEach(L=>{C[xe.getPointKey(L)]=C[xe.getPointKey(L)].filter(V=>!V.equals(x))}),C[xe.getPointKey(x)]=[]}),s(C)}(e),i}static findSegmentVariants(t,e){const i=[];return t.forEach(s=>{e.forEach(c=>{i.push(new at(s,c))})}),i}static findApproximateSegment(t,e,i){const{p1:s,p2:c}=t;let h,d,g,f;const _=this.findSegmentVariants(e,i);_.forEach(C=>{const{p1:x,p2:b}=C,L=ji(s,x),V=ji(c,b);(null==d||L<d)&&(h=x,d=L),(null==f||V<f)&&(g=b,f=V)});const y=_.find(C=>C.p1.equals(h)&&C.p2.equals(g)||C.p1.equals(g)&&C.p2.equals(h));if(null==y)throw new Ki({code:qi.codeError,type:js.segments,msg:"Helper.findApproximateSegment. \u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u044f\u043c\u0430\u044f"},{data:_});return y}static getApproximateEdges(t,e,i=!1){const s=s3(t.points,e,i),c=new Yn(...s).edges;return t.edgeArcs.map((h,d)=>{const g=new y1(c[d].p1,c[d].p2);switch(h.type){case"segment":return{element:g};case"arc":{const f=xe.getPointWithOffset(h.center,h.c,-e),_=xe.getPointWithOffset(h.center,h.c,e),y=new Ai(h.c,ji(h.c,f)),C=new Ai(h.c,ji(h.c,_)),[x,b]=this.getPointsOfEdge(h),L=t.points.find((V,B,R)=>{const te=R[(B+1)%R.length];return x.equals(V)&&b.equals(te)||x.equals(te)&&b.equals(V)});if(null!=L&&L.s)return{middlePoint:L.s<0!==i?f:_,element:L.s<0!==i?y:C};throw new Ki({code:qi.codeError,type:js.data,msg:"Helpers.getApproximateEdges. \u041f\u0440\u0438\u0431\u043b\u0438\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"},{circle1:y,circle2:C,line:g})}default:return}})}static getPointsByClockwise(t){let e=0;return t.forEach((s,c,h)=>{const d=h[(c+1)%h.length];e+=s.x*d.y-d.x*s.y}),e/2>0?t:[...t].reverse().map((s,c,h)=>{const d=h[(c+1)%h.length];return new Qe(s.x,s.y,d.s?-d.s:void 0)})}static intersect(t,e){const i=t.points.filter(L=>e.containArcs(L)),s=e.points.filter(L=>t.containArcs(L)),c=t.points.filter(L=>e.points.some(V=>L.equals(V))),h=t.points.filter(L=>e.edgeArcs.some(V=>V.contains(L))),d=e.points.filter(L=>t.edgeArcs.some(V=>V.contains(L))),g=[],f=t.edgeArcs,_=e.edgeArcs;f.forEach(L=>{_.forEach(V=>{g.push(...On(L,V))})});let y=[];[...h,...d,...i,...s,...c,...g].forEach(L=>{y.some(V=>V.equals(L))||y.push(L)});const C=y.length,x=[];return function b(L){x[L]=[];let V=y[0];y=y.filter(R=>!R.equals(V));const B=xe.flatten(x).length;for(;B!==C;){const R=[];if([...f,..._].forEach(ge=>{y.some(Re=>{if(ge.contains(V)&&ge.contains(Re)||"arc"===ge.type&&(ge.contains(V)&&ge.customEnd.equals(Re)||ge.contains(Re)&&ge.customEnd.equals(V))){let Te,Ne;switch(ge.type){case"segment":{const Mt=new at(V,Re);Te=Mt,Ne=Mt.midpoint;break}case"arc":{const Mt=ge.getChildArc(V,Re);Te=Mt,Ne=Mt.center;break}}const Ze=y.filter(Mt=>!Mt.equals(Re)),Xe=x[L],ot=Xe[Xe.length-1];let tt=!1;if(ot&&Te){const[Mt,xn]=xe.getPointsOfEdge(Te),[He,We]=xe.getPointsOfEdge(ot);He.equals(Mt)||He.equals(xn)?tt=Te.contains(We):We.equals(Mt)||We.equals(xn)?tt=Te.contains(He):Mt.equals(He)||Mt.equals(We)?tt=ot.contains(xn):(xn.equals(He)||xn.equals(We))&&(tt=ot.contains(Mt))}if(null!=Te&&!Ze.some(Mt=>Te.contains(Mt))&&null!=Ne&&t.containArcs(Ne)&&e.containArcs(Ne)&&!tt)return R.push(Te),!0}return!1})}),0===R.length){y.length>0&&b(L+1);break}0===x[L].length&&R.length>=2&&x[L].push(R[1]);const te=R[0];x[L].push(te);const[J,ve]=xe.getPointsOfEdge(te);V=V.equals(J)?ve:J,y=y.filter(ge=>!ge.equals(V))}}(0),x.map(L=>new Yn(...xe.getPointsByClockwise(xe.getPolygonPointsByEdges(L))))}static getBasePoint(t,e){const[i,s]=xe.getPointsOfEdge(e);return t.points.find((c,h,d)=>{const g=d[(h+1)%d.length];return i.equals(c)&&s.equals(g)||i.equals(g)&&s.equals(c)})}static matchPolygons(t,e){t.length!=e.length&&console.warn("\u0427\u0442\u043e-\u0442\u043e \u0441 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u0438 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u043f\u043e\u043b\u0438\u0433\u043e\u043d\u0430. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435 \u0440\u0430\u0432\u043d\u043e",e,t);const i=[];return t.forEach(s=>{const c=e.find(h=>h.points.every(d=>s.containArcs(d)));if(!c)throw new Ki({code:qi.dataError,type:js.data,msg:"Helpers.matchPolygons. \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u0438 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u043f\u043e\u043b\u0438\u0433\u043e\u043d\u0430"},{externalPolygon:s,internal:e});i.push({skeleton:s,internal:c})}),i}static matchMullions(t,e){t.length!=e.length&&console.warn("\u0427\u0442\u043e-\u0442\u043e \u0441 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u0438 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0438\u043c\u043f\u043e\u0441\u0442\u0430. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435 \u0440\u0430\u0432\u043d\u043e",e,t);const i=[];return t.forEach(s=>{const c=e.find(h=>{if(h.edge.type!==s.type)return!1;switch(h.edge.type){case"segment":return"segment"===this.intersectSegment(h.edge,s)?.type;case"arc":return"arc"===this.intersectArc(h.edge,s)?.type;default:return!1}});if(!c)throw new Ki({code:qi.dataError,type:js.data,msg:"Helpers.matchMullions. \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u0438 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0438\u043c\u043f\u043e\u0441\u0442\u0430"},{externalEdge:s,internal:e});i.push({edge:s,polygon:c.polygon})}),i}static intersectSegment(t,e){const i=xe.getPointsOfEdge(t),s=xe.getPointsOfEdge(e),c=[...i,...s.filter(f=>!i.some(_=>_===f))];let d,g;return xe.sortPointsByLine(c).forEach(f=>{[t,e].every(_=>_.contains(f)||_.p1.equals(f)||_.p2.equals(f))&&(null==d?d=f:g=f)}),null!=d&&null!=g?new at(d,g):null!=d?d:void 0}static intersectArc(t,e){if(t.start.equals(e.customEnd)&&e.start.equals(t.customEnd))return;const i=xe.getPointsOfEdge(t),s=xe.getPointsOfEdge(e),c=[...i,...s.filter(f=>!i.some(_=>_===f))];let d,g;if(xe.sortPointsByCircle(c,e.circle).forEach(f=>{[t,e].every(_=>_.contains(f)||_.start.equals(f)||_.customEnd.equals(f))&&(null==d?d=f:g=f)}),null!=d&&null!=g&&!d.equals(g)){const f=xe.getAngle(t.c,d,g),_=new Il(t.c,d,f);return new X1(d,_.center,g)}return null!=d?d:void 0}static getAngle(t,e,i){const s=ji(t,e),c=ji(e,i),h=ji(t,i);return Math.acos((s*s+h*h-c*c)/(2*s*h))}static getChildArcs(t,e,i){return On(new at(e,i).perpendicular(t.c),t).map(d=>new X1(e,d,i))}static getEdgeCenter(t){return"segment"===t.type?t.midpoint:t.center}}var dE=E(7152),Pv=E.n(dE);class Yn extends N2{constructor(...t){super(...t),this.fillColor="transparent"}get edgeArcs(){const t=this.points,e=t.length,i=[];for(let s=0;s<e;++s){const c=new at(t[s],t[(s+1)%e]);if(t[s].s){const h=c.getArc(t[s].s||0);i.push(h)}else i.push(c)}return 1===i.length&&"arc"===i[0].type&&i.push(new at(i[0].start,i[0].customEnd)),i}getCutLine(t,e=0){const i=this.edgeArcs;function s(f){const _=[],[y,C]=xe.getPointsOfEdge(f);return i.forEach(x=>{_.push(...On(x,f)),[y,C].forEach(b=>{x.contains(b)&&!_.some(L=>L.equals(b))&&_.push(b)})}),_}if(!e){const f=s(t);if(f.length<2)return;const _=xe.sortPointsByLine(f),y=[];for(let C=0;C<_.length-1;C++){const x=_[C],b=_[C+1],L=new at(x,b);this.containArcs(L.midpoint)&&y.push(...[x,b].filter(V=>!y.some(B=>B.equals(V))))}return y.length<2?void 0:new at(y[0],y[y.length-1])}const c=t.getArc(e),h=s(c);if(h.length<2)return;const d=xe.sortPointsByCircle(h,c),g=[];for(let f=0;f<d.length-1;f++){const _=d[f],y=d[f+1],C=c.getChildArc(_,y);this.containArcs(C.center)&&g.push(...[_,y].filter(x=>!g.some(b=>b.equals(x))))}return g.length<2?void 0:c.getChildArc(g[0],g[g.length-1])}getCutSegment_nearestIntersection(t){const e=new at(t.p1,t.p2),i=t.line,s=[];this.edgeArcs.forEach(g=>{s.push(...On(g,i))});const c=xe.sortPointsByLine(s),h=[],d=[];for(let g=0;g<c.length-1;g++){const f=new at(c[g],c[g+1]),_=xe.intersectSegment(e,f);null!=_&&"point"!==_.type&&(_.equals(e)||_.equals(f)?d.push(f):h.push(f))}return d.length>0?new at(d[0].p1,d[d.length-1].p2):h.length>0?new at(h[0].p1,h[h.length-1].p2):void 0}getCutArc_nearestIntersection(t){const e=t.circle,i=[];this.edgeArcs.forEach(g=>i.push(...On(g,e)));const s=xe.sortPointsByCircle(i,e),c=[],h=[];s.push(s[0]);for(let g=0;g<s.length-1;g++){const _=xe.getChildArcs(e,s[g],s[g+1]).find(x=>x.start.equals(s[g]));if(null==_){console.warn("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0434\u0443\u0433\u0430");continue}const y=xe.getEdgeCenter(_);if(!this.containArcs(y))continue;const C=xe.intersectArc(t,_);null!=C&&"point"!==C.type&&(C.customEquals(t)||C.customEquals(_)?h.push(_):c.push(_))}if(h.length>0){const g=function d(g){const f=[];return g.forEach(_=>{f.push(...xe.getPointsOfEdge(_))}),xe.sortPointsByCircle(f,g[0])}(h);return new X1(g[0],h[0].center,g[g.length-1])}if(c.length>0)return new X1(c[0].start,c[0].center,c[c.length-1].customEnd)}intersection(t){const e=[];if(this.edgeArcs.forEach(c=>{e.push(...On(c,t))}),xe.getExtremePoints([t]).forEach(c=>{this.edgeArcs.some(h=>h.contains(c))&&!e.some(h=>h.equals(c))&&e.push(c)}),e.length%2!=0&&console.warn("\u043d\u0435\u0447\u0435\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0447\u0435\u043a \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u044f",e),"segment"===t.type){const c=xe.sortPointsByLine(e);return xe.createSegments(c)}const s=xe.sortPointsByCircle(e,t);return xe.createArcs(t,s)}cutArcs(t){const e=[];Array.isArray(t)?t.forEach(h=>{e.push(...this.intersection(h))}):e.push(...this.intersection(t));const i=xe.getExtremePoints(e),c=[...xe.breakDownEdgesByPoint(this.edgeArcs,i),...e];return xe.findLoops(c)}getInnerPolygon(t,e=!1){const i=s3(this.points,t,e),s=new Yn(...i).edges,c=xe.getApproximateEdges(this,t,e),h=[],d=[];c.forEach((f,_,y)=>{if(null==f)return;if("line"===f?.element.type)return void h.push(f.element);if(null==f.middlePoint)return;const C=0===_?y[y.length-1]:y[_-1],x=y[(_+1)%y.length];if(null==C||null==x)return;const b=On(C.element,f.element);if(0==b.length)return void d.push([C.element,f.element]);const L=On(x.element,f.element);if(0==L.length)return void d.push([x.element,f.element]);const V=[];b.forEach(J=>{L.forEach(ve=>{try{V.push(new X1(J,f.middlePoint,ve))}catch{}})});const B=b.filter(J=>V.some(ve=>ve.customEnd.equals(J)||ve.start.equals(J))),R=L.filter(J=>V.some(ve=>ve.customEnd.equals(J)||ve.start.equals(J))),te=xe.findApproximateSegment(s[_],B,R);h.push(new X1(te.p1,f.middlePoint,te.p2))});const g=[];if(h.forEach((f,_,y)=>{if("arc"===f.type)return void g.push(f);const C=0===_?y[y.length-1]:y[_-1],x=y[(_+1)%y.length];if(null==C||null==x)return;let b=On(C,f);if("arc"===C.type){const B=xe.getPointsOfEdge(C).filter(R=>f.contains(R));B.length>0&&(b=B)}if(0==b.length)return void d.push(["arc"===C.type?C.circle:C,f]);let L=On(x,f);if("arc"===x.type){const B=xe.getPointsOfEdge(x).filter(R=>f.contains(R));B.length>0&&(L=B)}if(0==L.length)return void d.push(["arc"===x.type?x.circle:x,f]);const V=xe.findApproximateSegment(s[_],b,L);g.push(V)}),0!=d.length)throw new Ki({code:qi.dataError,type:js.data,msg:"Polygon.getInnerPolygon. \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043f\u043e\u043b\u0438\u0433\u043e\u043d"},d);return new Yn(...xe.getPolygonPointsByEdges(g))}getSkeletons(t){const e=[];return Array.isArray(t)?t.forEach(i=>{e.push(...this.intersection(i))}):e.push(...this.intersection(t)),{frames:this.cutArcs(e),edges:e}}getInnerZones(t,e=0){const i=[],s=[],c=Array.isArray(t)?t:[t],h=[];if(c.forEach(g=>{const f=Object.assign(this);switch(g.type){case"segment":{const{line1:_,line2:y}=g.getOffsetLines(e);[_,y].forEach(C=>{const b=new at(C.p1,C.p2).cut(this),L=null==b||Array.isArray(b)||"point"===b.type?C:b,V=this.getCutSegment_nearestIntersection(L);V&&h.push(V)});break}case"arc":{const{arc1:_,arc2:y}=g.getOffsetArcs(e);[_,y].forEach(C=>{const x=C.trimEdges(f),b=this.getCutArc_nearestIntersection(x);b&&h.push(b)})}}}),0===e||0===h.length||h.length%2!=0){const g=this.getSkeletons(t);return{frames:g.frames,mullions:g.edges.map(f=>({edge:f,polygon:new Yn}))}}return h.reduce((g,f)=>{const _=[];return g.forEach(y=>{_.push(...y.cutArcs(f))}),_},[this]).forEach(g=>{const f=c.find(_=>g.intersection(_).length);if(f){const _=g.intersection(f);0!=_.length&&i.push({edge:_[0],polygon:g})}else s.push(g)}),{mullions:i,frames:s}}containArcs(t){const e=this.edgeArcs;if(e.some(d=>d.contains(t)))return!0;if(2===this.points.length){const d=e.filter(_=>"arc"===_.type).length;if(0===d)return!1;if(1===d){const _=e.find(y=>"arc"===y.type);return null!=_&&_.containsToChord(t)}let f,g=1;if(e.forEach(_=>{g*=Math.sign(_.getS(f)),f=_.customEnd}),g>0)return e.some(_=>_.containsToChord(t));if(g<0){let y,x,_=1/0,C=-1/0;return e.forEach(b=>{const L=Math.abs(b.getS());L<_&&(_=L,y=b),L>C&&(C=L,x=b)}),null!=x&&null!=y&&x.containsToChord(t)&&!y.containsToChord(t)}return!1}const i=this.contains(t);if(e.every(d=>"segment"===d.type))return i;const s=new Yn(...xe.getPointsByClockwise([...this.points]));if(i){let d=!1,g=!1;return s.edgeArcs.forEach(f=>{if("segment"===f.type)return;const _=f;xe.getBasePoint(s,_).s>0||(d=!0,g=g||_.containsToChord(t))}),!d||!g}let c=!1,h=!1;return s.edgeArcs.forEach(d=>{if("segment"===d.type||h)return;const g=d;xe.getBasePoint(s,g).s<0||(c=!0,h=g.containsToChord(t))}),c&&h}containPoint(t,e){const i=this.points.map(s=>[Math.round(s.x),Math.round(s.y)]);return 1!==Pv()(i,[t,e])}}const Ws=1e9;class vE{static getAngleBetweenPoints(t,e,i){const s=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return Math.acos(Math.round((i*i+i*i-s*s)/(2*i*i)*Ws)/Ws)}static getArcParams(t,e,i){const s=e.x-t.x,c=e.y-t.y,h=i.x-t.x,d=i.y-t.y,g=s*(t.x+e.x)+c*(t.y+e.y),f=h*(t.x+i.x)+d*(t.y+i.y),_=2*(s*(i.y-e.y)-c*(i.x-e.x));if(0==_)throw new Ki({code:qi.dataError,type:js.points,msg:"Arc.getArcParams. \u0422\u043e\u0447\u043a\u0438 \u043b\u0435\u0436\u0430\u0442 \u043d\u0430 \u043e\u0434\u043d\u043e\u0439 \u043f\u0440\u044f\u043c\u043e\u0439 \u0438\u043b\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"},{points:[t,e,i]});const y=(d*g-c*f)/_,C=(s*f-h*g)/_,x=new Qe(y,C),b=Math.sqrt(Math.pow(t.x-y,2)+Math.pow(t.y-C,2)),L=this.getAngleBetweenPoints(t,e,b),V=this.getAngleBetweenPoints(e,i,b),B=new R2(x,t,L+V);if(B.contains(e)&&i.equals(B.end,1))return{center:x,radius:b,angle:L+V,start:t,end:i};const R=new R2(x,i,L+V);if(R.contains(e)&&t.equals(R.end,1))return{center:x,radius:b,angle:L+V,start:i,end:t};throw new Ki({code:qi.unknownError,type:js.unknown,msg:"Arc.getArcParams. \u041a\u0435\u0439\u0441 \u043f\u0440\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u0434\u0430\u043d\u043d\u0430\u044f \u0441\u0438\u0442\u0443\u0432\u0446\u0438\u044f \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d"})}}class Il extends R2{get length(){return this.radius*this.angle}}class X1 extends Il{constructor(t,e,i){const s=vE.getArcParams(t,e,i);super(s.center,s.start,s.angle);const c=new at(s.start,s.end),h=new Il(s.center,s.start,s.angle);this.s=Math.round(F2(c.midpoint,h.center)*Ws)/Ws,this.customEnd=s.end,this.chord=c}shift(t,e){return new this.constructor(this.start.shift(t,e),this.center.shift(t,e),this.customEnd.shift(t,e))}getChildArc(t,e){if(this.start.equals(t)&&this.customEnd.equals(e)||this.start.equals(e)&&this.customEnd.equals(t))return this;const i=xe.getChildArcs(this.circle,t,e),s=[];[this.start,this.customEnd,t,e].forEach(h=>{s.find(d=>d.equals(h))||s.push(h)});const c=i.filter(h=>2===s.filter(d=>h.contains(d)||h.start.equals(d)||h.customEnd.equals(d)).length);return 1!==c.length&&console.error("\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435 filteredArcs \u0434\u043b\u044f getChildArc",t,e,this,c),c[0]}containsToChord(t){if(this.contains(t)||this.chord.contains(t))return!0;const e=new Z4(this.c,this.start,this.angle),i=new Yn(this.start,this.c,this.customEnd);return!(!e.contains(t)&&!i.contains(t))&&On(this,new y1(this.start,t)).length>0}customEquals(t){return this.start.equals(t.start)&&this.c.equals(t.c)&&this.angle===t.angle}getOffsetArcs(t){function e(s,c){const g=(s.center.x-s.c.x)*c/s.radius+s.c.x,f=(s.center.y-s.c.y)*c/s.radius+s.c.y,_=(s.customEnd.x-s.c.x)*c/s.radius+s.c.x,y=(s.customEnd.y-s.c.y)*c/s.radius+s.c.y,C=new Qe((s.start.x-s.c.x)*c/s.radius+s.c.x,(s.start.y-s.c.y)*c/s.radius+s.c.y),x=new Qe(g,f),b=new Qe(_,y);return new X1(C,x,b)}const i=t/2;return{arc1:e(this,this.radius-i),arc2:e(this,this.radius+i)}}trimEdges(t){const e=xe.getPointsOfEdge(this),i=[];t.edgeArcs.forEach(h=>{i.push(...On(h,this))});const s=[...i];e.forEach(h=>{t.containArcs(h)&&!s.some(d=>d.equals(h))&&s.push(h)});const c=xe.sortPointsByCircle(s,this);return c.length>1?new X1(c[0],this.center,c[c.length-1]):this}getS(t="start"){let e;if(e="start"===t?this.start:"end"===t?this.customEnd:t,e.equals(this.start))return this.s;if(e.equals(this.customEnd))return-this.s;throw new Ki({code:qi.dataError,type:js.points,msg:"Arc.getS. \u0422\u043e\u0447\u043a\u0430 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"},{points:[this.start,this.customEnd]})}}class at extends ya{getArc(t){const e=xe.getMiddlePoint(this,t);return new X1(this.p1,e,this.p2)}getOffsetLines(t){const e=this.angle,i=t*Math.sin(e)/2,s=t*Math.cos(e)/2;return{line1:new y1(new Qe(this.p1.x-i,this.p1.y+s),new Qe(this.p2.x-i,this.p2.y+s)),line2:new y1(new Qe(this.p1.x+i,this.p1.y-s),new Qe(this.p2.x+i,this.p2.y-s))}}cut(t){const e=xe.getPointsOfEdge(this),i=[];t.edgeArcs.forEach(g=>{i.push(...On(g,this))});const s=[...i];e.forEach(g=>{t.containArcs(g)&&!s.some(f=>f.equals(g))&&s.push(g)});const c=xe.sortPointsByLine(s),h=[];for(let g=0;g<c.length-1;g++){const f=new at(c[g],c[g+1]);t.containArcs(f.midpoint)&&h.push(f)}const d=[];if(c.forEach(g=>{h.some(f=>f.p1.equals(g)||f.p2.equals(g))||d.push(g)}),0!==d.length||0!==h.length){if(1===d.length&&0===h.length)return d[0];if(d.length>0)return[...d,...h];if(h.length>1)return h;if(1===h.length)return h[0]}}}const Rv={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let gi;const Sa=new Uint8Array(16);function jn(){if(!gi&&(gi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gi(Sa)}const Bn=[];for(let n=0;n<256;++n)Bn.push((n+256).toString(16).slice(1));const qs=function Tl(n,t,e){if(Rv.randomUUID&&!t&&!n)return Rv.randomUUID();const i=(n=n||{}).random||(n.rng||jn)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(let s=0;s<16;++s)t[e+s]=i[s];return t}return function La(n,t=0){return Bn[n[t+0]]+Bn[n[t+1]]+Bn[n[t+2]]+Bn[n[t+3]]+"-"+Bn[n[t+4]]+Bn[n[t+5]]+"-"+Bn[n[t+6]]+Bn[n[t+7]]+"-"+Bn[n[t+8]]+Bn[n[t+9]]+"-"+Bn[n[t+10]]+Bn[n[t+11]]+Bn[n[t+12]]+Bn[n[t+13]]+Bn[n[t+14]]+Bn[n[t+15]]}(i)};class Wo extends Yn{constructor(t){super(...xe.getPointsByClockwise(t.points)),this.areas=[],this.dividers=[],this.id=qs(),this.innerPolygon=new Yn(...xe.getPointsByClockwise(t.innerPoints||t.points))}setAreas(t){this.areas=Object.assign([],t)}setDividers(t){this.dividers=Object.assign([],t)}getCutEdge(t,e=0,i=this){let s=i.getCutLine(t,e);return null==s&&i.areas.forEach(c=>{const h=this.getCutEdge(t,e,c);null!=h&&(s=h)}),s}getCutEdge_nearestIntersection(t,e=0,i=!1){const c=(i?this.getParentAreas():this.getAreas()).map(d=>e?void 0:d.getCutSegment_nearestIntersection(t)).filter(Boolean);if(0===c.length)return;const h=[];if(c.forEach(d=>{const g=xe.getPointsOfEdge(d).filter(f=>!h.some(_=>_.equals(f)));h.push(...g)}),!e){const d=xe.sortPointsByLine(h);return new at(d[0],d[d.length-1])}}divide(t,e=0,i=0,s=!1,c=!1){const h=c?this.getParentAreas():this.getAreas(),d=!e&&s?this.getCutEdge_nearestIntersection(t,e,c):this.getCutEdge(t,e);if(null==d)return[];const g=[],f=[];return h.forEach(_=>{const y=[],C=[];if(0===_.intersection(d).length)return;const x=_.getSkeletons(d),b=_.innerPolygon.getInnerZones(d,i),L=xe.matchPolygons(x.frames,b.frames),V=xe.matchMullions(x.edges,b.mullions);if(0===V.length)return;const B=V.map(R=>{const te=R.polygon;return{id:qs(),edge:R.edge,mullions:xe.intersect(te,_.innerPolygon),offset:i}});y.push(...B),L.forEach(R=>{const te=xe.intersect(R.internal,_.innerPolygon);te.length>1&&console.warn("\u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u043e\u0431\u043b\u0430\u0441\u0442\u0435\u0439 \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0439 \u0432\u043d\u0435\u0448\u043d\u0435\u0439");const J=new Wo({points:R.skeleton.points,innerPoints:te[0].points});c&&J.convertIntoFilling(),C.push(J)}),g.push(...C.map(R=>({parentId:_.id,area:R}))),f.push(...y.map(R=>({areaId:_.id,divider:R})))}),h.forEach(_=>{const y=g.filter(x=>x.parentId===_.id).map(x=>x.area),C=f.filter(x=>x.areaId===_.id).map(x=>x.divider);y.length&&C.length&&(_.setAreas(y),_.setDividers(C))}),f.map(_=>_.divider)}convertIntoFilling(){const t=this.innerPolygon.points,i=this.innerPolygon.getInnerPolygon(20).points,s=new Wo({points:t,innerPoints:i});return s.fillColor="yellow",this.areas.push(s),s}convertIntoWing(t){const e=this.innerPolygon.getInnerPolygon(8,!0),i=e.getInnerPolygon(t).points,s=new Wo({points:e.points,innerPoints:i});return s.fillColor="gray",this.areas=[],this.areas.push(s),s}getAreas(){const t=[];return this.areas.length>0?this.areas.forEach(e=>{t.push(...e.getAreas())}):t.push(this),t}getParentAreas(){const t=[];return 1!==this.areas.length||this.areas[0].areas.length?this.areas.forEach(e=>{t.push(...e.getParentAreas())}):t.push(this),t}deleteDividers(t){let e;if(function i(h){e||(h.dividers.some(d=>d.id===t)?e=h:h.areas.find(d=>i(d)))}(this),null==e)return;const s=[];let c;return e.dividers.forEach(h=>{h.id===t?c=h:s.push(h)}),e.dividers=[],e.areas=[],e.convertIntoFilling(),0===s.length||(s.forEach(h=>{const d="segment"===h.edge.type?h.edge:h.edge.chord,g="segment"===h.edge.type?0:h.edge.getS();e.divide(d,g,h.offset)}),e.areas=e.getAreas(),e.dividers=s),c}findDividerByCoords(t,e=this){const i=e.dividers.find(c=>c.mullions.some(h=>h.containArcs(t)));if(i)return i;let s;return e.areas.find(c=>{const h=this.findDividerByCoords(t,c);return h&&(s=h),h}),s}isStrokeIncludePoint(t){return this.containArcs(t)&&!this.innerPolygon.containArcs(t)}findDividerById(t,e=this){const i=e.dividers.find(c=>c.id===t);if(i)return i;let s;return e.areas.find(c=>{const h=this.findDividerById(t,c);return h&&(s=h),h}),s}findAreaByDividerId(t,e=this){if(e.dividers.find(c=>c.id===t))return e;let s;return e.areas.find(c=>{const h=this.findAreaByDividerId(t,c);return h&&(s=h),h}),s}findChildDividersByDividerId(t){const e=this.findAreaByDividerId(t);if(!e)return[];const i=[];return function s(c){c.areas.forEach(h=>{i.push(...h.dividers),s(h)})}(e),i}changeDivider(t,e){const i=this.findDividerById(t),s=this.findAreaByDividerId(t);if(null==i||null==s)return;const f=function h(J){let ve=J.edge;return null==e.segment?"arc"===J.edge.type&&(ve=J.edge.chord):ve="function"!=typeof e.segment?e.segment:"arc"===J.edge.type?J.edge.chord:J.edge,function c(J){const[ve,ge]=xe.getPointsOfEdge(J),Re=new Qe(0,0);return F2(Re,ve)<F2(Re,ge)?new at(ve,ge):new at(ge,ve)}(ve)}(i),_=function d(J,ve){if(null!=e.s){if("number"==typeof e.s)return e.s;if("arc"===J.edge.type){const[ge,Re]=xe.getPointsOfEdge(J.edge),Te=F2(ve,ge),Ne=F2(ve,Re);return e.s(J.edge.getS(Te>Ne?Re:ge))}return e.s(0)}return"arc"===J.edge.type?J.edge.getS():0}(i,f.p1),y=function g(J){return null!=e.offset?"number"==typeof e.offset?e.offset:e.offset(J.offset):J.offset}(i),C=this.getCutEdge(f,_);if(null==C)return;const x=s.dividers.filter(J=>J.id!=t).map(J=>J.edge),b=s.getSkeletons([...x,C]),L=s.innerPolygon.getInnerZones([...x,C],y),V=xe.matchPolygons(b.frames,L.frames),R=xe.matchMullions(b.edges,L.mullions).find(J=>!s.dividers.find(ve=>ve.mullions[0].equals(J.polygon)));R&&(i.edge=R.edge,i.mullions=[R.polygon],i.offset=y);const te=[];return V.forEach(J=>{const ve=s.areas.find(ge=>ge.equals(J.skeleton));if(ve){const ge=new Wo({points:J.skeleton.points,innerPoints:J.internal.points});ge.id=ve.id,te.push(ge)}}),s.setAreas(te),i}createWing(t,e){const s=this.getParentAreas().find(c=>c.containPoint(t,e));s&&(s.areas=[],s.convertIntoWing(58).convertIntoFilling())}redivide(){const t=[],e=[];(function i(h,d=0,g=0){t[d]?t[d].push(...h.dividers):t[d]=h.dividers,1===h.areas.length&&h.areas[0].areas.length?e[d]?e[d].push(M6(h.areas[0])):e.push([M6(h.areas[0])]):e[d]||e.push([]),h.areas.forEach((f,_)=>{i(f,d+1,_)})})(this),this.dividers=[],this.areas=[],this.convertIntoFilling();const s=[];function c(h,d){let g,f=0;switch(h.edge.type){case"segment":{const _=d.getCutSegment_nearestIntersection(h.edge);_&&(g=_);break}case"arc":{const y=d.getCutSegment_nearestIntersection(h.edge.chord);if(y){g=y;const[C,x]=xe.getPointsOfEdge(y),b=F2(h.edge.start,C),L=F2(h.edge.start,x);f=h.edge.getS(b<L?"start":"end")??0}break}}if(null!=g)return{segment:g,s:f,offset:h.offset}}return t.forEach((h,d)=>{const g=[],f=this.getAreas();h.forEach(_=>{let C,y=_.edge;"arc"===_.edge.type&&(y=_.edge.chord),f.some(x=>{const b=[];return x.innerPolygon.edgeArcs.forEach(L=>b.push(...On(L,y))),2===b.length&&(C=c(_,x)),null==C&&1===b.length&&(C=c(_,x)),b.length>2&&console.warn("changePoint - \u0447\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u043e \u0441 \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c \u0437\u043e\u043d\u044b \u0438 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044f",b),2===b.length}),C&&g.push(C)}),e[d]?.forEach(_=>{this.createWing(_.x,_.y)}),g.forEach(_=>{const y=this.divide(_.segment,_.s,_.offset,!0,!0);s.push(...y)})}),s}}class Pn extends Wo{constructor(t){const e=t.offset||0,i=new Yn(...xe.getPointsByClockwise(t.points)),s=i.getInnerPolygon(e);super({points:i.points,innerPoints:s?.points}),this.wireOffset=40,this.points=i.points,this.wireOffset=e}changePoint(t,e){return this.points=this.points.map(i=>i.equals(t)?e:i),this.innerPolygon=this.getInnerPolygon(this.wireOffset)??this,this.redivide()}changeImpostPoint(t,e,i){const s=this.findDividerById(t);if(null==s)return[];const c=this.findAreaByDividerId(t);if(null==c)return[];const h=xe.getPointsOfEdge(s.edge).find(g=>!g.equals(e));if(null==h)return[];const d=new at(h,i);switch(s.edge.type){case"segment":s.edge=d;break;case"arc":{const g=s.edge.getS(h),f=d.getArc(g),_=c.getCutArc_nearestIntersection(f);_&&(s.edge=_);break}}return c.redivide()}changeImpostPosition(t,e){const i=this.findDividerById(t);if(null==i)return[];const s=this.findAreaByDividerId(t);if(null==s)return[];const c=xe.getEdgeCenter(i.edge),h=i.edge.shift(e.x-c.x,e.y-c.y);switch(h.type){case"segment":{const d=s.getCutSegment_nearestIntersection(h);d&&(i.edge=d);break}case"arc":{const d=s.getCutArc_nearestIntersection(h);d&&(i.edge=d);break}}return s.redivide()}changePoints(t){return this.points=this.points.map(e=>{const i=t.find(({old:s})=>s.equals(e));return null==i?e:i.new}),this.innerPolygon=this.getInnerPolygon(this.wireOffset)??this,this.redivide()}changeArc(t,e){return xe.getBasePoint(this,t).s=e,this.innerPolygon=this.getInnerPolygon(this.wireOffset)??this,this.redivide()}}function Ks(n){return new Qe(n.x,n.y)}function c3(n){return new at(Ks(n.start),Ks(n.end))}function Nn(n,t){let e;const i=[],s=[];return function c(d){if(null!=e)return;const g=d.dividers.find(f=>f.id===n);if(g)return e=d,void i.push(g);d.areas.forEach(f=>{c(f)})}(t),0===i.length||null==e?{deleteImposts:[],deleteAreas:[]}:(e.areas.forEach(function h(d){s.push(d),i.push(...d.dividers),d.areas.forEach(h)}),{deleteImposts:i,deleteAreas:s})}const mi={profilesList:[{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"554008",name:"\u0420\u0430\u043c\u0430 60 Delight Design",type:"frame",a:60,b:32,c:40,d:45,w:70,w1:56,w2:56},{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"554018",type:"sash",name:"\u0421\u0442\u0432\u043e\u0440\u043a\u0430 58 Delight Design",a:78,b:50,c:58,d:63,e:20,w:70,w1:56,w2:56},{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"554018",type:"frame",name:"\u0421\u0442\u0432\u043e\u0440\u043a\u0430 58 Delight Design \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0440\u0430\u043c\u044b",a:78,b:50,c:58,d:63,w:70,w1:56,w2:56},{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"554018",type:"frame",name:"\u0421\u0442\u0432\u043e\u0440\u043a\u0430 58 Delight Design \u0441 \u043e\u0442\u0440\u0435\u0437\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u043b\u0430\u0432\u043e\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0444\u0443\u0440\u043d\u0438\u0442\u0443\u0440\u044b \u043f\u0430\u0437\u0430 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0440\u0430\u043c\u044b",a:58,b:30,c:38,d:43,w:70,w1:56,w2:56},{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"554028",type:"mullion",name:"\u0418\u043c\u043f\u043e\u0441\u0442 78 Delight Design",a:39,b:11,c:19,d:24,w:70,w1:56,w2:56},{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"546301",type:"coupling",name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 3/70",w:69,h:1.5},{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"560600",type:"glazing bead",name:"\u0428\u0442\u0430\u043f\u0438\u043a 14,5",w:14.5,h:18,h1:22},{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"546290",type:"coupling",name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 65/70",w:70,h:32.5},{vendor:"\u0420\u0435\u0445\u0430\u0443",article:"560303",type:"extension",name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u043e\u0431\u043e\u0440\u043d\u044b\u0439 40/70",w:70,h:40}],glazingList:[{vendor:"Common",article:"C-0001",name:"\u0421\u0442\u0435\u043a\u043b\u043e\u043f\u0430\u043a\u0435\u0442 4x16x4",thickness:24},{vendor:"Common",article:"C-0002",name:"\u0421\u0442\u0435\u043a\u043b\u043e\u043f\u0430\u043a\u0435\u0442 4x10x4x10x4",thickness:32}],hardwareList:[{vendor:"ROTO",system:"NT",type:"tilt and turn",name:"\u041f\u043e\u0432\u043e\u0440\u043e\u0442\u043d\u043e-\u043e\u0442\u043a\u0438\u0434\u043d\u0430\u044f ROTO NT (500-1000)x(500-1600)","width-from":500,"width-to":1e3,"height-from":500,"height-to":1600}],articles:{profileArticles:[{profileType:"frame",article:"554008"},{profileType:"mullion",article:"554028"},{profileType:"sash",article:"554018"}],glazingArticle:"C-0001"}},k6={...mi,construction:{name:"Construction First",elements:[{name:"Element 1",skeleton:{type:"plain",template:{type:"frame",area:{geometry:[[0,0,0],[0,0,1500],[1500,0,1500],[1500,0,0]],dividers:[{type:"mullion",mullion:{type:"simple-mullion"},geometry:[[300,0,0],[1500,0,1200]]}],components:[{type:"wing",wing:{type:"tilt-bottom"},openingOutside:!1,area:{geometry:[[0,0,0],[0,0,1500],[1500,0,1500],[1500,0,1200],[300,0,0]],dividers:[{type:"mullion",mullion:{type:"simple-mullion"},geometry:[[0,0,1100],[800,0,500]]}],components:[{type:"filling",area:{geometry:[[0,0,0],[0,0,1100],[800,0,500],[300,0,0]]},filling:{type:"glazing"}},{type:"filling",area:{geometry:[[0,0,1100],[0,0,1500],[1500,0,1500],[1500,0,1200],[800,0,500]]},filling:{type:"glazing"}}]},sides:[{type:"sash",handle:!0},{type:"sash"},{type:"sash",hinge:!0},{type:"sash"}]},{type:"wing",wing:{type:"tilt-bottom"},openingOutside:!1,area:{geometry:[[300,0,0],[1500,0,1200],[1500,0,0]],dividers:[{type:"mullion",mullion:{type:"simple-mullion"},geometry:[[900,0,0],[1300,0,1e3]]}],components:[{type:"filling",area:{geometry:[[300,0,0],[1300,0,1e3],[900,0,0]]},filling:{type:"glazing"}},{type:"filling",area:{geometry:[[900,0,0],[1300,0,1e3],[1500,0,1200],[1500,0,0]]},filling:{type:"glazing"}}]},sides:[{type:"sash",handle:!0},{type:"sash"},{type:"sash",hinge:!0},{type:"sash"}]}]},sides:[{type:"frame"},{type:"frame"},{type:"frame",hinge:!0},{type:"frame"}]}}}],roughOpening:[[10,10,10],[10,10,10],[10,10,10],[10,10,10]]}},R6={...mi,construction:{name:"Construction First",elements:[{name:"Element 1",skeleton:{type:"plain",template:{type:"frame",area:{geometry:[[0,0,0],[0,0,1e3],[1500,0,1e3],[1500,0,0]],dividers:[{type:"mullion",mullion:{type:"simple-mullion"},geometry:[[500,0,0],[500,0,1e3]]}],components:[{type:"filling",filling:{type:"glazing"},area:{geometry:[[0,0,0],[0,0,1e3],[500,0,1e3],[500,0,0]]}},{geometry:[[500,0,0],[500,0,1e3],[1500,0,1e3],[1500,0,0]],dividers:[{type:"mullion",mullion:{type:"simple-mullion"},geometry:[[1e3,0,0],[1e3,0,1e3]]}],components:[{type:"filling",filling:{type:"glazing"},area:{geometry:[[500,0,0],[500,0,1e3],[1e3,0,1e3],[1e3,0,0]]}},{type:"filling",filling:{type:"glazing"},area:{geometry:[[1e3,0,0],[1e3,0,1e3],[1500,0,1e3],[1500,0,0]]}}]}]},sides:[{type:"frame"},{type:"frame"},{type:"frame",hinge:!0},{type:"frame"}]}}}],roughOpening:[[10,10,10],[10,10,10],[10,10,10],[10,10,10]]}};var U2=function(n){return n.HOME="home",n.CONFIGURATOR="configurator",n.PLOTTER="plotter",n.NEW_CONCEPT="new-concept",n.CONVERTER="converter",n.TREE_CONVERTER="tree-converter",n}(U2||{}),qo=function(n){return n.select="select",n.tabs="tabs",n}(qo||{});let Ko=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-home"]],standalone:!0,features:[r.UHJ],decls:5,vars:0,consts:[[1,"container"]],template:function(i,s){1&i&&(r.I0R(0,"div",0)(1,"h3"),r.OEk(2,"Welcome"),r.C$Y(),r.I0R(3,"p"),r.OEk(4," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Accusantium voluptatum dolor molestiae perspiciatis ratione earum. Deleniti voluptatum aperiam amet, blanditiis, natus aliquid totam ipsa unde labore officia, delectus minus eveniet. Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum pariatur nesciunt quaerat. Corrupti repudiandae id molestiae debitis sint, eveniet illo laboriosam illum quasi, incidunt distinctio ad aut exercitationem consequatur possimus. "),r.C$Y()())},styles:[".container[_ngcontent-%COMP%]{width:500px;padding:10px 20px}"]})}return n})();var Ee=E(6284),It=function(n){return n[n.SimpleLine=0]="SimpleLine",n[n.PolygonLine=1]="PolygonLine",n[n.FrameBeamLine=2]="FrameBeamLine",n[n.GripsLine=3]="GripsLine",n[n.GridMajorLine=4]="GridMajorLine",n[n.GridMinorLine=5]="GridMinorLine",n[n.UCSAxisLine=6]="UCSAxisLine",n[n.DummyLine=7]="DummyLine",n[n.RandomLine=8]="RandomLine",n[n.CustomLine=9]="CustomLine",n}(It||{});class Dl{constructor(t,e){this.guiConfig=e,this.viewPort=t,this.setUnitScale()}setUnitScale(){this.unitScale=(this.viewPort.rb.x-this.viewPort.tl.x)/this.guiConfig.getUnitsConfig().width}setViewPort(t,e){this.viewPort={...t},this.setUnitScale(),e||this.drawGridInt(),this.drawUCSInt()}redraw(){this.drawGridInt(),this.drawUCSInt()}drawGridInt(){const t=(c,h)=>(c-c%h)/h,e=this.guiConfig.getGridConfig(),i=e.majorStep*e.minorStep,s={tl:new Qe(t(this.viewPort.tl.x,i)*i-2*i,t(this.viewPort.tl.y,i)*i-2*i),rb:new Qe(t(this.viewPort.rb.x,i)*i+3*i,t(this.viewPort.rb.y,i)*i+3*i)};this.drawGrid(s,e)}drawUCSInt(){const t=this.guiConfig.getUCSConfig(),e=t.origin.x>this.viewPort.tl.x&&t.origin.x<this.viewPort.rb.x&&t.origin.y>this.viewPort.tl.y&&t.origin.y<this.viewPort.rb.y?new Qe(t.origin.x,t.origin.y):new Qe(this.viewPort.tl.x+10,this.viewPort.tl.y+10);this.drawUCS(e,t)}}var h3=E(8192),$6=Math.PI/180;const Yo=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},et={_global:Yo,version:"8.4.3",isBrowser:function jv(){return typeof window<"u"&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle:n=>et.angleDeg?n*$6:n,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>et.DD.isDragging,isDragReady:()=>!!et.DD.node,releaseCanvasOnDestroy:!0,document:Yo.document,_injectGlobal(n){Yo.Konva=n}},kn=n=>{et[n.prototype.getClassName()]=n};et._injectGlobal(et);class fi{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new fi(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),i=Math.sin(t),c=this.m[1]*e+this.m[3]*i,h=this.m[0]*-i+this.m[2]*e,d=this.m[1]*-i+this.m[3]*e;return this.m[0]=this.m[0]*e+this.m[2]*i,this.m[1]=c,this.m[2]=h,this.m[3]=d,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var s=this.m[1]+this.m[3]*e,c=this.m[2]+this.m[0]*t,h=this.m[3]+this.m[1]*t;return this.m[0]=this.m[0]+this.m[2]*e,this.m[1]=s,this.m[2]=c,this.m[3]=h,this}multiply(t){var i=this.m[1]*t.m[0]+this.m[3]*t.m[1],s=this.m[0]*t.m[2]+this.m[2]*t.m[3],c=this.m[1]*t.m[2]+this.m[3]*t.m[3],h=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],d=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=this.m[0]*t.m[0]+this.m[2]*t.m[1],this.m[1]=i,this.m[2]=s,this.m[3]=c,this.m[4]=h,this.m[5]=d,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),i=-this.m[1]*t,s=-this.m[2]*t,c=this.m[0]*t,h=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),d=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*t,this.m[1]=i,this.m[2]=s,this.m[3]=c,this.m[4]=h,this.m[5]=d,this}getMatrix(){return this.m}decompose(){var t=this.m[0],e=this.m[1],i=this.m[2],s=this.m[3],d=t*s-e*i;let g={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=e){var f=Math.sqrt(t*t+e*e);g.rotation=e>0?Math.acos(t/f):-Math.acos(t/f),g.scaleX=f,g.scaleY=d/f,g.skewX=(t*i+e*s)/d,g.skewY=0}else if(0!=i||0!=s){var _=Math.sqrt(i*i+s*s);g.rotation=Math.PI/2-(s>0?Math.acos(-i/_):-Math.acos(i/_)),g.scaleX=d/_,g.scaleY=_,g.skewX=0,g.skewY=(t*i+e*s)/d}return g.rotation=se._getRotation(g.rotation),g}}var q_=Math.PI/180,qv=180/Math.PI,d3="Konva error: ",W6={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Q_=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,v3=[];const Z_=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,60)},se={_isElement:n=>!(!n||1!=n.nodeType),_isFunction:n=>!!(n&&n.constructor&&n.call&&n.apply),_isPlainObject:n=>!!n&&n.constructor===Object,_isArray:n=>"[object Array]"===Object.prototype.toString.call(n),_isNumber:n=>"[object Number]"===Object.prototype.toString.call(n)&&!isNaN(n)&&isFinite(n),_isString:n=>"[object String]"===Object.prototype.toString.call(n),_isBoolean:n=>"[object Boolean]"===Object.prototype.toString.call(n),isObject:n=>n instanceof Object,isValidSelector(n){if("string"!=typeof n)return!1;var t=n[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:n=>0===n||n>0?1:-1,requestAnimFrame(n){v3.push(n),1===v3.length&&Z_(function(){const t=v3;v3=[],t.forEach(function(e){e()})})},createCanvasElement(){var n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement:()=>document.createElement("img"),_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,t){var e=se.createImageElement();e.onload=function(){t(e)},e.src=n},_rgbToHex:(n,t,e)=>((1<<24)+(n<<16)+(t<<8)+e).toString(16).slice(1),_hexToRgb(n){n=n.replace("#","");var t=parseInt(n,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){for(var n=(16777215*Math.random()<<0).toString(16);n.length<6;)n="0"+n;return"#"+n},getRGB(n){var t;return n in W6?{r:(t=W6[n])[0],g:t[1],b:t[2]}:"#"===n[0]?this._hexToRgb(n.substring(1)):"rgb("===n.substr(0,4)?(t=Q_.exec(n.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:n=>se._namedColorToRBA(n=n||"black")||se._hex3ColorToRGBA(n)||se._hex4ColorToRGBA(n)||se._hex6ColorToRGBA(n)||se._hex8ColorToRGBA(n)||se._rgbColorToRGBA(n)||se._rgbaColorToRGBA(n)||se._hslColorToRGBA(n),_namedColorToRBA(n){var t=W6[n.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(n){if(0===n.indexOf("rgb(")){var t=(n=n.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(n){if(0===n.indexOf("rgba(")){var t=(n=n.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((e,i)=>"%"===e.slice(-1)?3===i?parseInt(e)/100:parseInt(e)/100*255:Number(e));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(n){if("#"===n[0]&&9===n.length)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:parseInt(n.slice(7,9),16)/255}},_hex6ColorToRGBA(n){if("#"===n[0]&&7===n.length)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex4ColorToRGBA(n){if("#"===n[0]&&5===n.length)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:parseInt(n[4]+n[4],16)/255}},_hex3ColorToRGBA(n){if("#"===n[0]&&4===n.length)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){const[t,...e]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),i=Number(e[0])/360,s=Number(e[1])/100,c=Number(e[2])/100;let h,d,g;if(0===s)return g=255*c,{r:Math.round(g),g:Math.round(g),b:Math.round(g),a:1};h=c<.5?c*(1+s):c+s-c*s;const f=2*c-h,_=[0,0,0];for(let y=0;y<3;y++)d=i+1/3*-(y-1),d<0&&d++,d>1&&d--,g=6*d<1?f+6*(h-f)*d:2*d<1?h:3*d<2?f+(h-f)*(2/3-d)*6:f,_[y]=255*g;return{r:Math.round(_[0]),g:Math.round(_[1]),b:Math.round(_[2]),a:1}}},haveIntersection:(n,t)=>!(t.x>n.x+n.width||t.x+t.width<n.x||t.y>n.y+n.height||t.y+t.height<n.y),cloneObject(n){var t={};for(var e in n)t[e]=this._isPlainObject(n[e])?this.cloneObject(n[e]):this._isArray(n[e])?this.cloneArray(n[e]):n[e];return t},cloneArray:n=>n.slice(0),degToRad:n=>n*q_,radToDeg:n=>n*qv,_degToRad:n=>(se.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),se.degToRad(n)),_radToDeg:n=>(se.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),se.radToDeg(n)),_getRotation:n=>et.angleDeg?se.radToDeg(n):n,_capitalize:n=>n.charAt(0).toUpperCase()+n.slice(1),throw(n){throw new Error(d3+n)},error(n){console.error(d3+n)},warn(n){et.showWarnings&&console.warn("Konva warning: "+n)},each(n,t){for(var e in n)t(e,n[e])},_inRange:(n,t,e)=>t<=n&&n<e,_getProjectionToSegment(n,t,e,i,s,c){var h,d,g,f=(n-e)*(n-e)+(t-i)*(t-i);if(0==f)h=n,d=t,g=(s-e)*(s-e)+(c-i)*(c-i);else{var _=((s-n)*(e-n)+(c-t)*(i-t))/f;_<0?(h=n,d=t,g=(n-s)*(n-s)+(t-c)*(t-c)):_>1?(h=e,d=i,g=(e-s)*(e-s)+(i-c)*(i-c)):g=((h=n+_*(e-n))-s)*(h-s)+((d=t+_*(i-t))-c)*(d-c)}return[h,d,g]},_getProjectionToLine(n,t,e){var i=se.cloneObject(n),s=Number.MAX_VALUE;return t.forEach(function(c,h){if(e||h!==t.length-1){var d=t[(h+1)%t.length],g=se._getProjectionToSegment(c.x,c.y,d.x,d.y,n.x,n.y),_=g[1],y=g[2];y<s&&(i.x=g[0],i.y=_,s=y)}}),i},_prepareArrayForTween(n,t,e){var i,s=[],c=[];if(n.length>t.length){var h=t;t=n,n=h}for(i=0;i<n.length;i+=2)s.push({x:n[i],y:n[i+1]});for(i=0;i<t.length;i+=2)c.push({x:t[i],y:t[i+1]});var d=[];return c.forEach(function(g){var f=se._getProjectionToLine(g,s,e);d.push(f.x),d.push(f.y)}),d},_prepareToStringify(n){var t;for(var e in n.visitedByCircularReferenceRemoval=!0,n)if(n.hasOwnProperty(e)&&n[e]&&"object"==typeof n[e])if(t=Object.getOwnPropertyDescriptor(n,e),n[e].visitedByCircularReferenceRemoval||se._isElement(n[e])){if(!t.configurable)return null;delete n[e]}else if(null===se._prepareToStringify(n[e])){if(!t.configurable)return null;delete n[e]}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,t){for(var e in t)n[e]=t[e];return n},_getFirstPointerId:n=>n.touches?n.changedTouches[0].identifier:n.pointerId||999,releaseCanvas(...n){et.releaseCanvasOnDestroy&&n.forEach(t=>{t.width=0,t.height=0})},drawRoundedRectPath(n,t,e,i){let s=0,c=0,h=0,d=0;"number"==typeof i?s=c=h=d=Math.min(i,t/2,e/2):(s=Math.min(i[0]||0,t/2,e/2),c=Math.min(i[1]||0,t/2,e/2),d=Math.min(i[2]||0,t/2,e/2),h=Math.min(i[3]||0,t/2,e/2)),n.moveTo(s,0),n.lineTo(t-c,0),n.arc(t-c,c,c,3*Math.PI/2,0,!1),n.lineTo(t,e-d),n.arc(t-d,e-d,d,0,Math.PI/2,!1),n.lineTo(h,e),n.arc(h,e-h,h,Math.PI/2,Math.PI,!1),n.lineTo(0,s),n.arc(s,s,s,Math.PI,3*Math.PI/2,!1)}};function Ys(n){return se._isString(n)?'"'+n+'"':"[object Number]"===Object.prototype.toString.call(n)||se._isBoolean(n)?n:Object.prototype.toString.call(n)}function Kv(n){return n>255?255:n<0?0:Math.round(n)}function $e(){if(et.isUnminified)return function(n,t){return se._isNumber(n)||se.warn(Ys(n)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),n}}function q6(n){if(et.isUnminified)return function(t,e){let i=se._isNumber(t),s=se._isArray(t)&&t.length==n;return!i&&!s&&se.warn(Ys(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or Array<number>('+n+")"),t}}function K6(){if(et.isUnminified)return function(n,t){return se._isNumber(n)||"auto"===n||se.warn(Ys(n)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),n}}function Ol(){if(et.isUnminified)return function(n,t){return se._isString(n)||se.warn(Ys(n)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),n}}function Yv(){if(et.isUnminified)return function(n,t){const e=se._isString(n),i="[object CanvasGradient]"===Object.prototype.toString.call(n)||n&&n.addColorStop;return e||i||se.warn(Ys(n)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),n}}function Qi(){if(et.isUnminified)return function(n,t){return!0===n||!1===n||se.warn(Ys(n)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),n}}var Bl="get",Oi="set";const F={addGetterSetter(n,t,e,i,s){F.addGetter(n,t,e),F.addSetter(n,t,i,s),F.addOverloadedGetterSetter(n,t)},addGetter(n,t,e){var i=Bl+se._capitalize(t);n.prototype[i]=n.prototype[i]||function(){var s=this.attrs[t];return void 0===s?e:s}},addSetter(n,t,e,i){var s=Oi+se._capitalize(t);n.prototype[s]||F.overWriteSetter(n,t,e,i)},overWriteSetter(n,t,e,i){var s=Oi+se._capitalize(t);n.prototype[s]=function(c){return e&&null!=c&&(c=e.call(this,c,t)),this._setAttr(t,c),i&&i.call(this),this}},addComponentsGetterSetter(n,t,e,i,s){var f,_,c=e.length,h=se._capitalize,d=Bl+h(t),g=Oi+h(t);n.prototype[d]=function(){var C={};for(f=0;f<c;f++)C[_=e[f]]=this.getAttr(t+h(_));return C};var y=function Qv(n){if(et.isUnminified)return function(t,e){return null==t||se.isObject(t)||se.warn(Ys(t)+' is a not valid value for "'+e+'" attribute. The value should be an object with properties '+n),t}}(e);n.prototype[g]=function(C){var b,x=this.attrs[t];for(b in i&&(C=i.call(this,C)),y&&y.call(this,C,t),C)C.hasOwnProperty(b)&&this._setAttr(t+h(b),C[b]);return C||e.forEach(L=>{this._setAttr(t+h(L),void 0)}),this._fireChangeEvent(t,x,C),s&&s.call(this),this},F.addOverloadedGetterSetter(n,t)},addOverloadedGetterSetter(n,t){var e=se._capitalize(t),i=Oi+e,s=Bl+e;n.prototype[t]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(n,t,e,i){se.error("Adding deprecated "+t);var s=Bl+se._capitalize(t),c=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[s]=function(){se.error(c);var h=this.attrs[t];return void 0===h?e:h},F.addSetter(n,t,i,function(){se.error(c)}),F.addOverloadedGetterSetter(n,t)},backCompat(n,t){se.each(t,function(e,i){var s=n.prototype[i],c=Bl+se._capitalize(e),h=Oi+se._capitalize(e);function d(){s.apply(this,arguments),se.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}n.prototype[e]=d,n.prototype[c]=d,n.prototype[h]=d})},afterSetFilter(){this._filterUpToDate=!1}};var Zs,Qo=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class Qs{constructor(t){this.canvas=t,et.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var h,d,g,f,i=this.traceArr,s=i.length,c="";for(h=0;h<s;h++)(g=(d=i[h]).method)?(f=d.args,c+=g,t?c+="()":se._isArray(f[0])?c+="(["+f.join(",")+"])":(e&&(f=f.map(_=>"number"==typeof _?Math.floor(_):_)),c+="("+f.join(",")+")")):(c+=d.property,t||(c+="="+d.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){const e=t.attrs.lineCap;e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){const e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,i,s,c,h){this._context.arc(t,e,i,s,c,h)}arcTo(t,e,i,s,c){this._context.arcTo(t,e,i,s,c)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,i,s,c,h){this._context.bezierCurveTo(t,e,i,s,c,h)}clearRect(t,e,i,s){this._context.clearRect(t,e,i,s)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var i=arguments;return 2===i.length?this._context.createImageData(t,e):1===i.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,i,s){return this._context.createLinearGradient(t,e,i,s)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,i,s,c,h){return this._context.createRadialGradient(t,e,i,s,c,h)}drawImage(t,e,i,s,c,h,d,g,f){var _=arguments,y=this._context;3===_.length?y.drawImage(t,e,i):5===_.length?y.drawImage(t,e,i,s,c):9===_.length&&y.drawImage(t,e,i,s,c,h,d,g,f)}ellipse(t,e,i,s,c,h,d,g){this._context.ellipse(t,e,i,s,c,h,d,g)}isPointInPath(t,e,i,s){return i?this._context.isPointInPath(i,t,e,s):this._context.isPointInPath(t,e,s)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,i,s){this._context.fillRect(t,e,i,s)}strokeRect(t,e,i,s){this._context.strokeRect(t,e,i,s)}fillText(t,e,i,s){s?this._context.fillText(t,e,i,s):this._context.fillText(t,e,i)}measureText(t){return this._context.measureText(t)}getImageData(t,e,i,s){return this._context.getImageData(t,e,i,s)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,i,s){this._context.rect(t,e,i,s)}putImageData(t,e,i){this._context.putImageData(t,e,i)}quadraticCurveTo(t,e,i,s){this._context.quadraticCurveTo(t,e,i,s)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,i,s,c,h){this._context.setTransform(t,e,i,s,c,h)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,i,s){this._context.strokeText(t,e,i,s)}transform(t,e,i,s,c,h){this._context.transform(t,e,i,s,c,h)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var s,c,t=this,e=Qo.length,i=this.setAttr,h=function(d){var f,g=t[d];t[d]=function(){return c=function J_(n){var s,c,t=[],e=n.length,i=se;for(s=0;s<e;s++)i._isNumber(c=n[s])?c=Math.round(1e3*c)/1e3:i._isString(c)||(c+=""),t.push(c);return t}(Array.prototype.slice.call(arguments,0)),f=g.apply(t,arguments),t._trace({method:d,args:c}),f}};for(s=0;s<e;s++)h(Qo[s]);t.setAttr=function(){i.apply(t,arguments);var d=arguments[0],g=arguments[1];("shadowOffsetX"===d||"shadowOffsetY"===d||"shadowBlur"===d)&&(g/=this.canvas.getPixelRatio()),t._trace({property:d,val:g})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(n){Object.defineProperty(Qs.prototype,n,{get(){return this._context[n]},set(t){this._context[n]=t}})});class Fl extends Qs{constructor(t){super(t),this._context=t._canvas.getContext("2d")}_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){const e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){const e=t.fill(),i=t.getFillPriority();if(e&&"color"===i)return void this._fillColor(t);const s=t.getFillPatternImage();if(s&&"pattern"===i)return void this._fillPattern(t);const c=t.getFillLinearGradientColorStops();if(c&&"linear-gradient"===i)return void this._fillLinearGradient(t);const h=t.getFillRadialGradientColorStops();h&&"radial-gradient"===i?this._fillRadialGradient(t):e?this._fillColor(t):s?this._fillPattern(t):c?this._fillLinearGradient(t):h&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const e=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),s=t.getStrokeLinearGradientColorStops(),c=this.createLinearGradient(e.x,e.y,i.x,i.y);if(s){for(var h=0;h<s.length;h+=2)c.addColorStop(s[h],s[h+1]);this.setAttr("strokeStyle",c)}}_stroke(t){var e=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}}_applyShadow(t){var e,i,s,c=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",h=null!==(i=t.getShadowBlur())&&void 0!==i?i:5,d=null!==(s=t.getShadowOffset())&&void 0!==s?s:{x:0,y:0},g=t.getAbsoluteScale(),f=this.canvas.getPixelRatio(),_=g.x*f,y=g.y*f;this.setAttr("shadowColor",c),this.setAttr("shadowBlur",h*Math.min(Math.abs(_),Math.abs(y))),this.setAttr("shadowOffsetX",d.x*_),this.setAttr("shadowOffsetY",d.y*y)}}class Gl extends Qs{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const c=t.getStrokeScaleEnabled();if(!c){this.save();var e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(t);var i=t.hitStrokeWidth(),s="auto"===i?t.strokeWidth():i;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),c||this.restore()}}}class Xs{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var i=(t||{}).pixelRatio||et.pixelRatio||function Ul(){if(Zs)return Zs;var n=se.createCanvasElement(),t=n.getContext("2d");return Zs=(et._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),se.releaseCanvas(n),Zs}();this.pixelRatio=i,this._canvas=se.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch{try{return this._canvas.toDataURL()}catch(s){return se.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}F.addGetterSetter(Xs,"pixelRatio",void 0,$e());class Zo extends Xs{constructor(t={width:0,height:0}){super(t),this.context=new Fl(this),this.setSize(t.width,t.height)}}class g3 extends Xs{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new Gl(this),this.setSize(t.width,t.height)}}const Kt={get isDragging(){var n=!1;return Kt._dragElements.forEach(t=>{"dragging"===t.dragStatus&&(n=!0)}),n},justDragged:!1,get node(){var n;return Kt._dragElements.forEach(t=>{n=t.node}),n},_dragElements:new Map,_drag(n){const t=[];Kt._dragElements.forEach((e,i)=>{const{node:s}=e,c=s.getStage();c.setPointersPositions(n),void 0===e.pointerId&&(e.pointerId=se._getFirstPointerId(n));const h=c._changedPointerPositions.find(f=>f.id===e.pointerId);if(h){if("dragging"!==e.dragStatus){var d=s.dragDistance();if(Math.max(Math.abs(h.x-e.startPointerPos.x),Math.abs(h.y-e.startPointerPos.y))<d||(s.startDrag({evt:n}),!s.isDragging()))return}s._setDragPosition(n,e),t.push(s)}}),t.forEach(e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:n},!0)})},_endDragBefore(n){const t=[];Kt._dragElements.forEach(e=>{const{node:i}=e,s=i.getStage();if(n&&s.setPointersPositions(n),!s._changedPointerPositions.find(d=>d.id===e.pointerId))return;("dragging"===e.dragStatus||"stopped"===e.dragStatus)&&(Kt.justDragged=!0,et._mouseListenClick=!1,et._touchListenClick=!1,et._pointerListenClick=!1,e.dragStatus="stopped");const h=e.node.getLayer()||e.node instanceof et.Stage&&e.node;h&&-1===t.indexOf(h)&&t.push(h)}),t.forEach(e=>{e.draw()})},_endDragAfter(n){Kt._dragElements.forEach((t,e)=>{"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:n},!0),"dragging"!==t.dragStatus&&Kt._dragElements.delete(e)})}};et.isBrowser&&(window.addEventListener("mouseup",Kt._endDragBefore,!0),window.addEventListener("touchend",Kt._endDragBefore,!0),window.addEventListener("mousemove",Kt._drag),window.addEventListener("touchmove",Kt._drag),window.addEventListener("mouseup",Kt._endDragAfter,!1),window.addEventListener("touchend",Kt._endDragAfter,!1));var Da="absoluteOpacity",Aa="allEventListeners",fs="absoluteTransform",X6="absoluteScale",$2="canvas",J6="listening",e9="mouseenter",f3="mouseleave",Xo="transform",e8="visible",n9=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" ");let nz=1;class Le{constructor(t){this._id=nz++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){t!==Xo&&t!==fs||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){var i=this._cache.get(t);return(void 0===i||(t===Xo||t===fs)&&!0===i.dirty)&&(i=e.call(this),this._cache.set(t,i)),i}_calculate(t,e,i){if(!this._attachedDepsListeners.get(t)){const s=e.map(c=>c+"Change.konva").join(" ");this.on(s,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)}_getCanvasCache(){return this._cache.get($2)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===fs&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has($2)){const{scene:t,filter:e,hit:i}=this._cache.get($2);se.releaseCanvas(t,e,i),this._cache.delete($2)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},i={};(void 0===e.x||void 0===e.y||void 0===e.width||void 0===e.height)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var s=Math.ceil(e.width||i.width),c=Math.ceil(e.height||i.height),h=e.pixelRatio,d=void 0===e.x?Math.floor(i.x):e.x,g=void 0===e.y?Math.floor(i.y):e.y,f=e.offset||0,_=e.drawBorder||!1,y=e.hitCanvasPixelRatio||1;if(s&&c){d-=f,g-=f;var C=new Zo({pixelRatio:h,width:s+=2*f+1,height:c+=2*f+1}),x=new Zo({pixelRatio:h,width:0,height:0}),b=new g3({pixelRatio:y,width:s,height:c}),L=C.getContext(),V=b.getContext();return b.isCache=!0,C.isCache=!0,this._cache.delete($2),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(C.getContext()._context.imageSmoothingEnabled=!1,x.getContext()._context.imageSmoothingEnabled=!1),L.save(),V.save(),L.translate(-d,-g),V.translate(-d,-g),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Da),this._clearSelfAndDescendantCache(X6),this.drawScene(C,this),this.drawHit(b,this),this._isUnderCache=!1,L.restore(),V.restore(),_&&(L.save(),L.beginPath(),L.rect(0,0,s,c),L.closePath(),L.setAttr("strokeStyle","red"),L.setAttr("lineWidth",5),L.stroke(),L.restore()),this._cache.set($2,{scene:C,filter:x,hit:b,x:d,y:g}),this._requestDraw(),this}se.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has($2)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var s,c,h,d,i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],g=this.getAbsoluteTransform(e);return i.forEach(function(f){var _=g.point(f);void 0===s&&(s=h=_.x,c=d=_.y),s=Math.min(s,_.x),c=Math.min(c,_.y),h=Math.max(h,_.x),d=Math.max(d,_.y)}),{x:s,y:c,width:h-s,height:d-c}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var i=this._getCachedSceneCanvas(),s=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/s,i.height/s),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),i=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),t.restore()}_getCachedSceneCanvas(){var h,d,g,f,t=this.filters(),e=this._getCanvasCache(),i=e.scene,s=e.filter,c=s.getContext();if(t){if(!this._filterUpToDate){var _=i.pixelRatio;s.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(h=t.length,c.clear(),c.drawImage(i._canvas,0,0,i.getWidth()/_,i.getHeight()/_),d=c.getImageData(0,0,s.getWidth(),s.getHeight()),g=0;g<h;g++)"function"==typeof(f=t[g])?(f.call(this,d),c.putImageData(d,0,0)):se.error("Filter should be type of function, but got "+typeof f+" instead. Please check correct filters")}catch(y){se.error("Unable to apply filter. "+y.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return i}on(t,e){if(this._cache&&this._cache.delete(Aa),3===arguments.length)return this._delegate.apply(this,arguments);var c,d,g,f,i=t.split(" "),s=i.length;for(c=0;c<s;c++)f=(d=i[c].split("."))[1]||"",this.eventListeners[g=d[0]]||(this.eventListeners[g]=[]),this.eventListeners[g].push({name:f,handler:e});return this}off(t,e){var c,h,g,f,_,i=(t||"").split(" "),s=i.length;if(this._cache&&this._cache.delete(Aa),!t)for(h in this.eventListeners)this._off(h);for(c=0;c<s;c++)if(_=(g=i[c].split("."))[1],f=g[0])this.eventListeners[f]&&this._off(f,_,e);else for(h in this.eventListeners)this._off(h,_,e);return this}dispatchEvent(t){return this.fire(t.type,{target:this,type:t.type,evt:t}),this}addEventListener(t,e){return this.on(t,function(i){e.call(this,i.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,i){var s=this;this.on(t,function(c){for(var h=c.target.findAncestors(e,!0,s),d=0;d<h.length;d++)(c=se.cloneObject(c)).currentTarget=h[d],i.call(h[d],c)})}remove(){return this.isDragging()&&this.stopDrag(),Kt._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(fs),this._clearSelfAndDescendantCache(Da),this._clearSelfAndDescendantCache(X6),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(e8),this._clearSelfAndDescendantCache(J6)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var e="get"+se._capitalize(t);return se._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{var e,i;if(!t)return this;for(e in t)"children"!==e&&(i="set"+se._capitalize(e),se._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]))}),this}isListening(){return this._getCache(J6,this._isListening)}_isListening(t){if(!this.listening())return!1;const i=this.getParent();return!i||i===t||this===t||i._isListening(t)}isVisible(){return this._getCache(e8,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const i=this.getParent();return!i||i===t||this===t||i._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var i=this.getLayer(),s=!1;Kt._dragElements.forEach(h=>{"dragging"===h.dragStatus&&("Stage"===h.node.nodeType||h.node.getLayer()===i)&&(s=!0)});var c=!e&&!et.hitOnDragEnabled&&s;return this.isListening()&&this.isVisible()&&!c}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var s,c,h,d,t=this.getDepth(),e=this,i=0;return"Stage"!==e.nodeType&&function g(f){for(s=[],c=f.length,h=0;h<c;h++)i++,"Shape"!==(d=f[h]).nodeType&&(s=s.concat(d.getChildren().slice())),d._id===e._id&&(h=c);s.length>0&&s[0].getDepth()<=t&&g(s)}(e.getStage().getChildren()),i}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Xo),this._clearSelfAndDescendantCache(fs)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,i=this.parent;for(;i;){if(i.isCached()){e=!0;break}i=i.parent}e&&!t&&(t=!0);var s=this.getAbsoluteTransform(t).getMatrix(),c=new fi,h=this.offset();return c.m=s.slice(),c.translate(h.x,h.y),c.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(Xo);var i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(t.x,t.y),t={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(Xo),this._clearSelfAndDescendantCache(fs),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,i=t.y,s=this.x(),c=this.y();return void 0!==e&&(s+=e),void 0!==i&&(c+=i),this.setPosition({x:s,y:c}),this}_eachAncestorReverse(t,e){var c,h,i=[],s=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);s&&(!e||s._id!==e._id);)i.unshift(s),s=s.parent;for(c=i.length,h=0;h<c;h++)t(i[h])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return se.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return se.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return se.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return se.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){return this.parent?((t<0||t>=this.parent.children.length)&&se.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+"."),this.parent.children.splice(this.index,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this):(se.warn("Node has no parent. zIndex parameter is ignored."),this)}getAbsoluteOpacity(){return this._getCache(Da,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var i,s,c,h,t={},e=this.getAttrs();for(i in t.attrs={},e)(!se.isObject(s=e[i])||se._isPlainObject(s)||se._isArray(s))&&(c="function"==typeof this[i]&&this[i],delete e[i],h=c?c.call(this):null,e[i]=s,h!==s&&(t.attrs[i]=s));return t.className=this.getClassName(),se._prepareToStringify(t)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,i){var s=[];e&&this._isMatch(t)&&s.push(this);for(var c=this.parent;c;){if(c===i)return s;c._isMatch(t)&&s.push(c),c=c.parent}return s}isAncestorOf(t){return!1}findAncestor(t,e,i){return this.findAncestors(t,e,i)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);var s,c,e=t.replace(/ /g,"").split(","),i=e.length;for(s=0;s<i;s++)if(se.isValidSelector(c=e[s])||(se.warn('Selector "'+c+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),se.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),se.warn("Konva is awesome, right?")),"#"===c.charAt(0)){if(this.id()===c.slice(1))return!0}else if("."===c.charAt(0)){if(this.hasName(c.slice(1)))return!0}else if(this.className===c||this.nodeType===c)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache("stage",this._getStage)}_getStage(){var t=this.getParent();if(t)return t.getStage()}fire(t,e={},i){return e.target=e.target||this,i?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(fs,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new fi,this._eachAncestorReverse(function(s){var c=s.transformsEnabled();"all"===c?e.multiply(s.getTransform()):"position"===c&&e.translate(s.x()-s.offsetX(),s.y()-s.offsetY())},t),e;e=this._cache.get(fs)||new fi,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var i=this.transformsEnabled();return"all"===i?e.multiply(this.getTransform()):"position"===i&&e.translate((this.attrs.x||0)-(this.attrs.offsetX||0),(this.attrs.y||0)-(this.attrs.offsetY||0)),e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const s=this.getAbsoluteTransform(t).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Xo,this._getTransform)}_getTransform(){var t,e,i=this._cache.get(Xo)||new fi;i.reset();var s=this.x(),c=this.y(),h=et.getAngle(this.rotation()),d=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,g=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,f=this.attrs.skewX||0,_=this.attrs.skewY||0,y=this.attrs.offsetX||0,C=this.attrs.offsetY||0;return(0!==s||0!==c)&&i.translate(s,c),0!==h&&i.rotate(h),(0!==f||0!==_)&&i.skew(f,_),(1!==d||1!==g)&&i.scale(d,g),(0!==y||0!==C)&&i.translate(-1*y,-1*C),i.dirty=!1,i}clone(t){var i,s,c,h,d,e=se.cloneObject(this.attrs);for(i in t)e[i]=t[i];var g=new this.constructor(e);for(i in this.eventListeners)for(c=(s=this.eventListeners[i]).length,h=0;h<c;h++)(d=s[h]).name.indexOf("konva")<0&&(g.eventListeners[i]||(g.eventListeners[i]=[]),g.eventListeners[i].push(d));return g}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),i=this.getStage(),s=void 0!==t.x?t.x:Math.floor(e.x),c=void 0!==t.y?t.y:Math.floor(e.y),h=t.pixelRatio||1,d=new Zo({width:t.width||Math.ceil(e.width)||(i?i.width():0),height:t.height||Math.ceil(e.height)||(i?i.height():0),pixelRatio:h}),g=d.getContext();return!1===t.imageSmoothingEnabled&&(g._context.imageSmoothingEnabled=!1),g.save(),(s||c)&&g.translate(-1*s,-1*c),this.drawScene(d),g.restore(),d}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,s=this._toKonvaCanvas(t).toDataURL(e,i);return t.callback&&t.callback(s),s}toImage(t){return new Promise((e,i)=>{try{const s=t?.callback;s&&delete t.callback,se._urlToImage(this.toDataURL(t),function(c){e(c),s?.(c)})}catch(s){i(s)}})}toBlob(t){return new Promise((e,i)=>{try{const s=t?.callback;s&&delete t.callback,this.toCanvas(t).toBlob(c=>{e(c),s?.(c)})}catch(s){i(s)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():et.dragDistance}_off(t,e,i){var c,h,s=this.eventListeners[t];for(c=0;c<s.length;c++)if(!("konva"===(h=s[c].name)&&"konva"!==e||e&&h!==e||i&&i!==s[c].handler)){if(s.splice(c,1),0===s.length){delete this.eventListeners[t];break}c--}}_fireChangeEvent(t,e,i){this._fire(t+"Change",{oldVal:e,newVal:i})}addName(t){if(!this.hasName(t)){var e=this.name();this.name(e?e+" "+t:t)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){var e=(this.name()||"").split(/\s/g),i=e.indexOf(t);return-1!==i&&(e.splice(i,1),this.name(e.join(" "))),this}setAttr(t,e){var i=this["set"+se._capitalize(t)];return se._isFunction(i)?i.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(et.autoDrawEnabled){const t=this.getLayer()||this.getStage();t?.batchDraw()}}_setAttr(t,e){var i=this.attrs[t];i===e&&!se.isObject(e)||(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,e),this._requestDraw())}_setComponentAttr(t,e,i){var s;void 0!==i&&((s=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,s,i))}_fireAndBubble(t,e,i){if(e&&"Shape"===this.nodeType&&(e.target=this),t!==e9&&t!==f3||!(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||"Stage"===this.nodeType&&!i)){this._fire(t,e);var c=(t===e9||t===f3)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!c&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){let e=this._cache.get(Aa);if(!e){e={};let s=Object.getPrototypeOf(this);for(;s;)if(s.eventListeners){for(var i in s.eventListeners)e[i]=s.eventListeners[i].concat(e[i]||[]);s=Object.getPrototypeOf(s)}else s=Object.getPrototypeOf(s);this._cache.set(Aa,e)}return e[t]}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const i=this._getProtoListeners(t);if(i)for(var s=0;s<i.length;s++)i[s].handler.call(this,e);const c=this.eventListeners[t];if(c)for(s=0;s<c.length;s++)c[s].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,i=this.getStage(),s=this.getAbsolutePosition(),c=i._getPointerById(e)||i._changedPointerPositions[0]||s;Kt._dragElements.set(this._id,{node:this,startPointerPos:c,offset:{x:c.x-s.x,y:c.y-s.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){Kt._dragElements.has(this._id)||this._createDragElement(t),Kt._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const i=this.getStage()._getPointerById(e.pointerId);if(i){var s={x:i.x-e.offset.x,y:i.y-e.offset.y},c=this.dragBoundFunc();if(void 0!==c){const h=c.call(this,s,t);h?s=h:se.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}}stopDrag(t){const e=Kt._dragElements.get(this._id);e&&(e.dragStatus="stopped"),Kt._endDragBefore(t),Kt._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=Kt._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){if((void 0===t.evt.button||et.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var s=!1;Kt._dragElements.forEach(c=>{this.isAncestorOf(c.node)&&(s=!0)}),s||this._createDragElement(t)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=Kt._dragElements.get(this._id),s=e&&"ready"===e.dragStatus;e&&"dragging"===e.dragStatus?this.stopDrag():s&&Kt._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const i={x:-t.x,y:-t.y,width:e.width()+2*t.x,height:e.height()+2*t.y};return se.haveIntersection(i,this.getClientRect())}static create(t,e){return se._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var c,h,d,i=Le.prototype.getClassName.call(t),s=t.children;if(e&&(t.attrs.container=e),et[i]||(se.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape"),c=new(0,et[i])(t.attrs),s)for(h=s.length,d=0;d<h;d++)c.add(Le._createNode(s[d]));return c}}Le.prototype.nodeType="Node",Le.prototype._attrsAffectingSize=[],Le.prototype.eventListeners={},Le.prototype.on.call(Le.prototype,n9,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(Xo),this._clearSelfAndDescendantCache(fs))}),Le.prototype.on.call(Le.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(e8)}),Le.prototype.on.call(Le.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(J6)}),Le.prototype.on.call(Le.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Da)});const gn=F.addGetterSetter;gn(Le,"zIndex"),gn(Le,"absolutePosition"),gn(Le,"position"),gn(Le,"x",0,$e()),gn(Le,"y",0,$e()),gn(Le,"globalCompositeOperation","source-over",Ol()),gn(Le,"opacity",1,$e()),gn(Le,"name","",Ol()),gn(Le,"id","",Ol()),gn(Le,"rotation",0,$e()),F.addComponentsGetterSetter(Le,"scale",["x","y"]),gn(Le,"scaleX",1,$e()),gn(Le,"scaleY",1,$e()),F.addComponentsGetterSetter(Le,"skew",["x","y"]),gn(Le,"skewX",0,$e()),gn(Le,"skewY",0,$e()),F.addComponentsGetterSetter(Le,"offset",["x","y"]),gn(Le,"offsetX",0,$e()),gn(Le,"offsetY",0,$e()),gn(Le,"dragDistance",null,$e()),gn(Le,"width",0,$e()),gn(Le,"height",0,$e()),gn(Le,"listening",!0,Qi()),gn(Le,"preventDefault",!0,Qi()),gn(Le,"filters",null,function(n){return this._filterUpToDate=!1,n}),gn(Le,"visible",!0,Qi()),gn(Le,"transformsEnabled","all",Ol()),gn(Le,"size"),gn(Le,"dragBoundFunc"),gn(Le,"draggable",!1,Qi()),F.backCompat(Le,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class pi extends Le{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];var i=[];return(this.children||[]).forEach(function(s){t(s)&&i.push(s)}),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(0===t.length)return this;if(t.length>1){for(var e=0;e<t.length;e++)this.add(t[e]);return this}const i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var i=[];return this._descendants(s=>{const c=s._isMatch(t);return c&&i.push(s),!(!c||!e)}),i}_descendants(t){let e=!1;const i=this.getChildren();for(const s of i){if(e=t(s),e)return!0;if(s.hasChildren()&&(e=s._descendants(t),e))return!0}return!1}toObject(){var t=Le.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(e=>{t.children.push(e.toObject())}),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=Le.prototype.clone.call(this,t);return this.getChildren().forEach(function(i){e.add(i.clone())}),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach(function(i){i.isVisible()&&i.intersects(t)&&e.push(i)}),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),!this.isCached()&&(null===(e=this.children)||void 0===e||e.forEach(function(i){i._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach(function(e,i){e.index=i}),this._requestDraw()}drawScene(t,e){var i=this.getLayer(),s=t||i&&i.getCanvas(),c=s&&s.getContext(),h=this._getCanvasCache(),d=h&&h.scene,g=s&&s.isCache;if(!this.isVisible()&&!g)return this;if(d){c.save();var f=this.getAbsoluteTransform(e).getMatrix();c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",s,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var i=this.getLayer(),s=t||i&&i.hitCanvas,c=s&&s.getContext(),h=this._getCanvasCache();if(h&&h.hit){c.save();var g=this.getAbsoluteTransform(e).getMatrix();c.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(c),c.restore()}else this._drawChildren("drawHit",s,e);return this}_drawChildren(t,e,i){var s,c=e&&e.getContext(),h=this.clipWidth(),d=this.clipHeight(),g=this.clipFunc(),f=h&&d||g;const _=i===this;if(f){c.save();var y=this.getAbsoluteTransform(i),C=y.getMatrix();if(c.transform(C[0],C[1],C[2],C[3],C[4],C[5]),c.beginPath(),g)g.call(this,c,this);else{var x=this.clipX(),b=this.clipY();c.rect(x,b,h,d)}c.clip(),C=y.copy().invert().getMatrix(),c.transform(C[0],C[1],C[2],C[3],C[4],C[5])}var L=!_&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;L&&(c.save(),c._applyGlobalCompositeOperation(this)),null===(s=this.children)||void 0===s||s.forEach(function(V){V[t](e,i)}),L&&c.restore(),f&&c.restore()}getClientRect(t){var e,c,h,d,g,f,i=(t=t||{}).skipTransform,s=t.relativeTo,_=this;null===(e=this.children)||void 0===e||e.forEach(function(L){if(L.visible()){var V=L.getClientRect({relativeTo:_,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===V.width&&0===V.height||(void 0===c?(c=V.x,h=V.y,d=V.x+V.width,g=V.y+V.height):(c=Math.min(c,V.x),h=Math.min(h,V.y),d=Math.max(d,V.x+V.width),g=Math.max(g,V.y+V.height)))}});for(var y=this.find("Shape"),C=!1,x=0;x<y.length;x++)if(y[x]._isVisible(this)){C=!0;break}return f=C&&void 0!==c?{x:c,y:h,width:d-c,height:g-h}:{x:0,y:0,width:0,height:0},i?f:this._transformedRect(f,s)}}F.addComponentsGetterSetter(pi,"clip",["x","y","width","height"]),F.addGetterSetter(pi,"clipX",void 0,$e()),F.addGetterSetter(pi,"clipY",void 0,$e()),F.addGetterSetter(pi,"clipWidth",void 0,$e()),F.addGetterSetter(pi,"clipHeight",void 0,$e()),F.addGetterSetter(pi,"clipFunc");const Oa=new Map,t8=void 0!==et._global.PointerEvent;function n8(n){return Oa.get(n)}function w3(n){return{evt:n,pointerId:n.pointerId}}function i8(n,t){return Oa.get(n)===t}function Jo(n,t){Ba(n),t.getStage()&&(Oa.set(n,t),t8&&t._fire("gotpointercapture",w3(new PointerEvent("gotpointercapture"))))}function Ba(n,t){const e=Oa.get(n);e&&(e.getStage(),Oa.delete(n),t8&&e._fire("lostpointercapture",w3(new PointerEvent("lostpointercapture"))))}var sz="mouseleave",_3="mouseover",z3="mouseenter",y3="mousemove",C3="mousedown",Bi="mouseup",Pa="pointermove",Wl="pointerdown",A1="pointerup",O1="pointercancel",ka="pointerout",Ra="pointerleave",M3="pointerover",x3="pointerenter",s8="contextmenu",r9="touchstart",b3="touchend",ql="touchmove",l9="touchcancel",E3="wheel",rz=[[z3,"_pointerenter"],[C3,"_pointerdown"],[y3,"_pointermove"],[Bi,"_pointerup"],[sz,"_pointerleave"],[r9,"_pointerdown"],[ql,"_pointermove"],[b3,"_pointerup"],[l9,"_pointercancel"],[_3,"_pointerover"],[E3,"_wheel"],[s8,"_contextmenu"],[Wl,"_pointerdown"],[Pa,"_pointermove"],[A1,"_pointerup"],[O1,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const S3={mouse:{[ka]:"mouseout",[Ra]:sz,[M3]:_3,[x3]:z3,[Pa]:y3,[Wl]:C3,[A1]:Bi,[O1]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[ka]:"touchout",[Ra]:"touchleave",[M3]:"touchover",[x3]:"touchenter",[Pa]:ql,[Wl]:r9,[A1]:b3,[O1]:l9,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[ka]:ka,[Ra]:Ra,[M3]:M3,[x3]:x3,[Pa]:Pa,[Wl]:Wl,[A1]:A1,[O1]:O1,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Kl=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",Js=n=>{const t=Kl(n);return"pointer"===t?et.pointerEventsEnabled&&S3.pointer:"touch"===t?S3.touch:"mouse"===t?S3.mouse:void 0};function c9(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&se.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}const L3=[];class Na extends pi{constructor(t){super(c9(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),L3.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{c9(this.attrs)}),this._checkVisibility()}_validateAdd(t){const e="Layer"===t.getType(),i="FastLayer"===t.getType();e||i||se.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var i;i="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(i)}if(!t)throw"Can not find container in document with id "+i}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var i,t=this.children,e=t.length;for(i=0;i<e;i++)t[i].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),pi.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&se._isInDocument(t)&&this.container().removeChild(t);var e=L3.indexOf(this);return e>-1&&L3.splice(e,1),se.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(se.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find(e=>e.id===t)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new Zo({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),i=e.getContext()._context,s=this.children;return(t.x||t.y)&&i.translate(-1*t.x,-1*t.y),s.forEach(function(c){if(c.isVisible()){var h=c._toKonvaCanvas(t);i.drawImage(h._canvas,t.x,t.y,h.getWidth()/h.getPixelRatio(),h.getHeight()/h.getPixelRatio())}}),e}getIntersection(t){if(!t)return null;var c,e=this.children;for(c=e.length-1;c>=0;c--){const h=e[c].getIntersection(t);if(h)return h}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach(i=>{i.setSize({width:t,height:e}),i.draw()})}add(t,...e){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(t);var s=this.children.length;return s>5&&se.warn("The stage has "+s+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),et.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return i8(t,this)}setPointerCapture(t){Jo(t,this)}releaseCapture(t){Ba(t)}getLayers(){return this.children}_bindContentEvents(){et.isBrowser&&rz.forEach(([t,e])=>{this.content.addEventListener(t,i=>{this[e](i)},{passive:!1})})}_pointerenter(t){this.setPointersPositions(t);const e=Js(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=Js(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=Js(t.type),i=Kl(t.type);if(e){this.setPointersPositions(t);var s=this._getTargetShape(i),c=!Kt.isDragging||et.hitOnDragEnabled;s&&c?(s._fireAndBubble(e.pointerout,{evt:t}),s._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[i+"targetShape"]=null):c&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=Js(t.type),i=Kl(t.type);if(e){this.setPointersPositions(t);var s=!1;this._changedPointerPositions.forEach(c=>{var h=this.getIntersection(c);if(Kt.justDragged=!1,et["_"+i+"ListenClick"]=!0,!h||!h.isListening())return;et.capturePointerEventsEnabled&&h.setPointerCapture(c.id),this[i+"ClickStartShape"]=h,h._fireAndBubble(e.pointerdown,{evt:t,pointerId:c.id}),s=!0;const g=t.type.indexOf("touch")>=0;h.preventDefault()&&t.cancelable&&g&&t.preventDefault()}),s||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=Js(t.type),i=Kl(t.type);if(!e)return;if(Kt.isDragging&&Kt.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),Kt.isDragging&&!et.hitOnDragEnabled)return;var c={};let h=!1;var d=this._getTargetShape(i);this._changedPointerPositions.forEach(g=>{const f=n8(g.id)||this.getIntersection(g),_=g.id,y={evt:t,pointerId:_};var C=d!==f;if(C&&d&&(d._fireAndBubble(e.pointerout,Object.assign({},y),f),d._fireAndBubble(e.pointerleave,Object.assign({},y),f)),f){if(c[f._id])return;c[f._id]=!0}f&&f.isListening()?(h=!0,C&&(f._fireAndBubble(e.pointerover,Object.assign({},y),d),f._fireAndBubble(e.pointerenter,Object.assign({},y),d),this[i+"targetShape"]=f),f._fireAndBubble(e.pointermove,Object.assign({},y))):d&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:_}),this[i+"targetShape"]=null)}),h||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=Js(t.type),i=Kl(t.type);if(!e)return;this.setPointersPositions(t);const s=this[i+"ClickStartShape"],c=this[i+"ClickEndShape"];var h={};let d=!1;this._changedPointerPositions.forEach(g=>{const f=n8(g.id)||this.getIntersection(g);if(f){if(f.releaseCapture(g.id),h[f._id])return;h[f._id]=!0}const _=g.id,y={evt:t,pointerId:_};let C=!1;et["_"+i+"InDblClickWindow"]?(C=!0,clearTimeout(this[i+"DblTimeout"])):Kt.justDragged||(et["_"+i+"InDblClickWindow"]=!0,clearTimeout(this[i+"DblTimeout"])),this[i+"DblTimeout"]=setTimeout(function(){et["_"+i+"InDblClickWindow"]=!1},et.dblClickWindow),f&&f.isListening()?(d=!0,this[i+"ClickEndShape"]=f,f._fireAndBubble(e.pointerup,Object.assign({},y)),et["_"+i+"ListenClick"]&&s&&s===f&&(f._fireAndBubble(e.pointerclick,Object.assign({},y)),C&&c&&c===f&&f._fireAndBubble(e.pointerdblclick,Object.assign({},y)))):(this[i+"ClickEndShape"]=null,et["_"+i+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:_}),C&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:_}))}),d||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),et["_"+i+"ListenClick"]=!1,t.cancelable&&"touch"!==i&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(s8,{evt:t}):this._fire(s8,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(E3,{evt:t}):this._fire(E3,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=n8(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(A1,w3(t)),Ba(t.pointerId)}_lostpointercapture(t){Ba(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),i=null,s=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,c=>{this._pointerPositions.push({id:c.identifier,x:(c.clientX-e.left)/e.scaleX,y:(c.clientY-e.top)/e.scaleY})}),Array.prototype.forEach.call(t.changedTouches||t.touches,c=>{this._changedPointerPositions.push({id:c.identifier,x:(c.clientX-e.left)/e.scaleX,y:(c.clientY-e.top)/e.scaleY})})):(this.pointerPos={x:i=(t.clientX-e.left)/e.scaleX,y:s=(t.clientY-e.top)/e.scaleY},this._pointerPositions=[{x:i,y:s,id:se._getFirstPointerId(t)}],this._changedPointerPositions=[{x:i,y:s,id:se._getFirstPointerId(t)}])}_setPointerPosition(t){se.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Zo({width:this.width(),height:this.height()}),this.bufferHitCanvas=new g3({pixelRatio:1,width:this.width(),height:this.height()}),et.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return se.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(t){t.batchDraw()}),this}}Na.prototype.nodeType="Stage",kn(Na),F.addGetterSetter(Na,"container");var h9="hasShadow",u9="shadowRGBA",d9="patternImage",v9="linearGradient",g9="radialGradient";let V3;function o8(){return V3||(V3=se.createCanvasElement().getContext("2d"),V3)}const Fa={};class Oe extends Le{constructor(t){let e;for(super(t);e=se.getRandomColor(),!e||e in Fa;);this.colorKey=e,Fa[e]=this}getContext(){return se.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return se.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h9,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d9,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=o8().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const i=new fi;i.translate(this.fillPatternX(),this.fillPatternY()),i.rotate(et.getAngle(this.fillPatternRotation())),i.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),i.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=i.getMatrix(),c=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);e.setTransform(c)}return e}}_getLinearGradient(){return this._getCache(v9,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=o8(),i=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),c=e.createLinearGradient(i.x,i.y,s.x,s.y),h=0;h<t.length;h+=2)c.addColorStop(t[h],t[h+1]);return c}}_getRadialGradient(){return this._getCache(g9,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=o8(),i=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),c=e.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius()),h=0;h<t.length;h+=2)c.addColorStop(t[h],t[h+1]);return c}}getShadowRGBA(){return this._getCache(u9,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=se.colorToRGBA(this.shadowColor());if(t)return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var i=this.getStage().bufferHitCanvas;return i.getContext().clear(),this.drawHit(i,null,!0),i.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return Le.prototype.destroy.call(this),delete Fa[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage()||null!==(e=this.attrs.perfectDrawEnabled)&&void 0!==e&&!e)return!1;const s=t||this.hasFill(),c=this.hasStroke(),h=1!==this.getAbsoluteOpacity();if(s&&c&&h)return!0;const d=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(s&&c&&d&&g)}setStrokeHitEnabled(t){se.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),this.hitStrokeWidth(t?"auto":0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,i=t.relativeTo,s=this.getSelfRect(),h=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,d=s.width+h,g=s.height+h,f=!t.skipShadow&&this.hasShadow(),_=f?this.shadowOffsetX():0,y=f?this.shadowOffsetY():0,C=d+Math.abs(_),x=g+Math.abs(y),b=f&&this.shadowBlur()||0,B={width:C+2*b,height:x+2*b,x:-(h/2+b)+Math.min(_,0)+s.x,y:-(h/2+b)+Math.min(y,0)+s.y};return e?B:this._transformedRect(B,i)}drawScene(t,e){var _,y,i=this.getLayer(),s=t||i.getCanvas(),c=s.getContext(),h=this._getCanvasCache(),d=this.getSceneFunc(),g=this.hasShadow(),C=s.isCache,x=e===this;if(!this.isVisible()&&!x)return this;if(h){c.save();var b=this.getAbsoluteTransform(e).getMatrix();return c.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedSceneCanvas(c),c.restore(),this}if(!d)return this;if(c.save(),this._useBufferCanvas()&&!C){(y=(_=this.getStage().bufferCanvas).getContext()).clear(),y.save(),y._applyLineJoin(this);var L=this.getAbsoluteTransform(e).getMatrix();y.transform(L[0],L[1],L[2],L[3],L[4],L[5]),d.call(this,y,this),y.restore();var V=_.pixelRatio;g&&c._applyShadow(this),c._applyOpacity(this),c._applyGlobalCompositeOperation(this),c.drawImage(_._canvas,0,0,_.width/V,_.height/V)}else c._applyLineJoin(this),x||(L=this.getAbsoluteTransform(e).getMatrix(),c.transform(L[0],L[1],L[2],L[3],L[4],L[5]),c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),g&&c._applyShadow(this),d.call(this,c,this);return c.restore(),this}drawHit(t,e,i=!1){if(!this.shouldDrawHit(e,i))return this;var s=this.getLayer(),c=t||s.hitCanvas,h=c&&c.getContext(),d=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),f=g&&g.hit;if(this.colorKey||se.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),f){h.save();var _=this.getAbsoluteTransform(e).getMatrix();return h.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(h),h.restore(),this}if(!d)return this;if(h.save(),h._applyLineJoin(this),this!==e){var C=this.getAbsoluteTransform(e).getMatrix();h.transform(C[0],C[1],C[2],C[3],C[4],C[5])}return d.call(this,h,this),h.restore(),this}drawHitFromCache(t=0){var g,f,_,y,C,e=this._getCanvasCache(),i=this._getCachedSceneCanvas(),s=e.hit,c=s.getContext(),h=s.getWidth(),d=s.getHeight();c.clear(),c.drawImage(i._canvas,0,0,h,d);try{for(_=(f=(g=c.getImageData(0,0,h,d)).data).length,y=se._hexToRgb(this.colorKey),C=0;C<_;C+=4)f[C+3]>t?(f[C]=y.r,f[C+1]=y.g,f[C+2]=y.b,f[C+3]=255):f[C+3]=0;c.putImageData(g,0,0)}catch(b){se.error("Unable to draw hit graph from cached scene canvas. "+b.message)}return this}hasPointerCapture(t){return i8(t,this)}setPointerCapture(t){Jo(t,this)}releaseCapture(t){Ba(t)}}Oe.prototype._fillFunc=function lz(n){n.fill()},Oe.prototype._strokeFunc=function r8(n){n.stroke()},Oe.prototype._fillFuncHit=function cz(n){n.fill()},Oe.prototype._strokeFuncHit=function l8(n){n.stroke()},Oe.prototype._centroid=!1,Oe.prototype.nodeType="Shape",kn(Oe),Oe.prototype.eventListeners={},Oe.prototype.on.call(Oe.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function m9(){this._clearCache(h9)}),Oe.prototype.on.call(Oe.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function f9(){this._clearCache(u9)}),Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function p9(){this._clearCache(d9)}),Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function w9(){this._clearCache(v9)}),Oe.prototype.on.call(Oe.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function az(){this._clearCache(g9)}),F.addGetterSetter(Oe,"stroke",void 0,Yv()),F.addGetterSetter(Oe,"strokeWidth",2,$e()),F.addGetterSetter(Oe,"fillAfterStrokeEnabled",!1),F.addGetterSetter(Oe,"hitStrokeWidth","auto",K6()),F.addGetterSetter(Oe,"strokeHitEnabled",!0,Qi()),F.addGetterSetter(Oe,"perfectDrawEnabled",!0,Qi()),F.addGetterSetter(Oe,"shadowForStrokeEnabled",!0,Qi()),F.addGetterSetter(Oe,"lineJoin"),F.addGetterSetter(Oe,"lineCap"),F.addGetterSetter(Oe,"sceneFunc"),F.addGetterSetter(Oe,"hitFunc"),F.addGetterSetter(Oe,"dash"),F.addGetterSetter(Oe,"dashOffset",0,$e()),F.addGetterSetter(Oe,"shadowColor",void 0,Ol()),F.addGetterSetter(Oe,"shadowBlur",0,$e()),F.addGetterSetter(Oe,"shadowOpacity",1,$e()),F.addComponentsGetterSetter(Oe,"shadowOffset",["x","y"]),F.addGetterSetter(Oe,"shadowOffsetX",0,$e()),F.addGetterSetter(Oe,"shadowOffsetY",0,$e()),F.addGetterSetter(Oe,"fillPatternImage"),F.addGetterSetter(Oe,"fill",void 0,Yv()),F.addGetterSetter(Oe,"fillPatternX",0,$e()),F.addGetterSetter(Oe,"fillPatternY",0,$e()),F.addGetterSetter(Oe,"fillLinearGradientColorStops"),F.addGetterSetter(Oe,"strokeLinearGradientColorStops"),F.addGetterSetter(Oe,"fillRadialGradientStartRadius",0),F.addGetterSetter(Oe,"fillRadialGradientEndRadius",0),F.addGetterSetter(Oe,"fillRadialGradientColorStops"),F.addGetterSetter(Oe,"fillPatternRepeat","repeat"),F.addGetterSetter(Oe,"fillEnabled",!0),F.addGetterSetter(Oe,"strokeEnabled",!0),F.addGetterSetter(Oe,"shadowEnabled",!0),F.addGetterSetter(Oe,"dashEnabled",!0),F.addGetterSetter(Oe,"strokeScaleEnabled",!0),F.addGetterSetter(Oe,"fillPriority","color"),F.addComponentsGetterSetter(Oe,"fillPatternOffset",["x","y"]),F.addGetterSetter(Oe,"fillPatternOffsetX",0,$e()),F.addGetterSetter(Oe,"fillPatternOffsetY",0,$e()),F.addComponentsGetterSetter(Oe,"fillPatternScale",["x","y"]),F.addGetterSetter(Oe,"fillPatternScaleX",1,$e()),F.addGetterSetter(Oe,"fillPatternScaleY",1,$e()),F.addComponentsGetterSetter(Oe,"fillLinearGradientStartPoint",["x","y"]),F.addComponentsGetterSetter(Oe,"strokeLinearGradientStartPoint",["x","y"]),F.addGetterSetter(Oe,"fillLinearGradientStartPointX",0),F.addGetterSetter(Oe,"strokeLinearGradientStartPointX",0),F.addGetterSetter(Oe,"fillLinearGradientStartPointY",0),F.addGetterSetter(Oe,"strokeLinearGradientStartPointY",0),F.addComponentsGetterSetter(Oe,"fillLinearGradientEndPoint",["x","y"]),F.addComponentsGetterSetter(Oe,"strokeLinearGradientEndPoint",["x","y"]),F.addGetterSetter(Oe,"fillLinearGradientEndPointX",0),F.addGetterSetter(Oe,"strokeLinearGradientEndPointX",0),F.addGetterSetter(Oe,"fillLinearGradientEndPointY",0),F.addGetterSetter(Oe,"strokeLinearGradientEndPointY",0),F.addComponentsGetterSetter(Oe,"fillRadialGradientStartPoint",["x","y"]),F.addGetterSetter(Oe,"fillRadialGradientStartPointX",0),F.addGetterSetter(Oe,"fillRadialGradientStartPointY",0),F.addComponentsGetterSetter(Oe,"fillRadialGradientEndPoint",["x","y"]),F.addGetterSetter(Oe,"fillRadialGradientEndPointX",0),F.addGetterSetter(Oe,"fillRadialGradientEndPointY",0),F.addGetterSetter(Oe,"fillPatternRotation",0),F.backCompat(Oe,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var _9=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],vz=_9.length;class ps extends pi{constructor(t){super(t),this.canvas=new Zo,this.hitCanvas=new g3({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Le.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Le.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content||(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(Le.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Le.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Le.prototype.remove.call(this),t&&t.parentNode&&se._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&se.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),Le.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.canvas._canvas.style.display=this.visible()?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){se.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){se.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,se.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,i=!1;;){for(let s=0;s<vz;s++){const c=_9[s],h=this._getIntersection({x:t.x+c.x*e,y:t.y+c.y*e}),d=h.shape;if(d)return d;if(i=!!h.antialiased,!h.antialiased)break}if(!i)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,s=i[3];if(255===s){const c=se._rgbToHex(i[0],i[1],i[2]),h=Fa["#"+c];return h?{shape:h}:{antialiased:!0}}return s>0?{antialiased:!0}:{}}drawScene(t,e){var i=this.getLayer(),s=t||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),pi.prototype.drawScene.call(this,s,e),this._fire("draw",{node:this}),this}drawHit(t,e){var i=this.getLayer(),s=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),pi.prototype.drawHit.call(this,s,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){se.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return se.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var t=this.parent;this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return se.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}ps.prototype.nodeType="Layer",kn(ps),F.addGetterSetter(ps,"imageSmoothingEnabled",!0),F.addGetterSetter(ps,"clearBeforeDraw",!0),F.addGetterSetter(ps,"hitGraphEnabled",!0,Qi());class e2 extends pi{_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&se.throw("You may only add groups and shapes to groups.")}}function c8(n,t,e,i,s,c,h){var d=Math.sqrt(Math.pow(e-n,2)+Math.pow(i-t,2)),g=Math.sqrt(Math.pow(s-e,2)+Math.pow(c-i,2)),f=h*d/(d+g),_=h*g/(d+g);return[e-f*(s-n),i-f*(c-t),e+_*(s-n),i+_*(c-t)]}function H3(n,t){var s,c,e=n.length,i=[];for(s=2;s<e-2;s+=2)c=c8(n[s-2],n[s-1],n[s],n[s+1],n[s+2],n[s+3],t),!isNaN(c[0])&&(i.push(c[0]),i.push(c[1]),i.push(n[s]),i.push(n[s+1]),i.push(c[2]),i.push(c[3]));return i}e2.prototype.nodeType="Group",kn(e2);class J1 extends Oe{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){var d,g,f,e=this.points(),i=e.length,s=this.tension(),c=this.closed(),h=this.bezier();if(i){if(t.beginPath(),t.moveTo(e[0],e[1]),0!==s&&i>4){for(g=(d=this.getTensionPoints()).length,f=c?0:4,c||t.quadraticCurveTo(d[0],d[1],d[2],d[3]);f<g-2;)t.bezierCurveTo(d[f++],d[f++],d[f++],d[f++],d[f++],d[f++]);c||t.quadraticCurveTo(d[g-2],d[g-1],e[i-2],e[i-1])}else if(h)for(f=2;f<i;)t.bezierCurveTo(e[f++],e[f++],e[f++],e[f++],e[f++],e[f++]);else for(f=2;f<i;f+=2)t.lineTo(e[f],e[f+1]);c?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():H3(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,i=this.tension(),s=c8(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),c=c8(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),h=H3(t,i);return[s[2],s[3]].concat(h).concat([c[0],c[1],t[e-2],t[e-1],c[2],c[3],s[0],s[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var h,d,e=(t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points())[0],i=t[0],s=t[1],c=t[1],g=0;g<t.length/2;g++)h=t[2*g],d=t[2*g+1],e=Math.min(e,h),i=Math.max(i,h),s=Math.min(s,d),c=Math.max(c,d);return{x:e,y:s,width:i-e,height:c-s}}}J1.prototype.className="Line",J1.prototype._attrsAffectingSize=["points","bezier","tension"],kn(J1),F.addGetterSetter(J1,"closed",!1),F.addGetterSetter(J1,"bezier",!1),F.addGetterSetter(J1,"tension",0,$e()),F.addGetterSetter(J1,"points",[],function X_(){if(et.isUnminified)return function(n,t){const e=Int8Array?Object.getPrototypeOf(Int8Array):null;return e&&n instanceof e||(se._isArray(n)?n.forEach(function(i){se._isNumber(i)||se.warn('"'+t+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):se.warn(Ys(n)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),n}}());class wi extends Oe{_sceneFunc(t){var e=et.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,i),t.arc(0,0,this.innerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),i=this.clockwise(),s=et.getAngle(i?360-this.angle():this.angle()),c=Math.cos(Math.min(s,Math.PI)),d=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),g=Math.sin(Math.min(s,Math.PI/2)),f=c*(c>0?t:e),y=d*(d>0?t:e),C=g*(g>0?e:t);return{x:f,y:i?-1*C:y,width:1*e-f,height:C-y}}}wi.prototype._centroid=!0,wi.prototype.className="Arc",wi.prototype._attrsAffectingSize=["innerRadius","outerRadius"],kn(wi),F.addGetterSetter(wi,"innerRadius",0,$e()),F.addGetterSetter(wi,"outerRadius",0,$e()),F.addGetterSetter(wi,"angle",0,$e()),F.addGetterSetter(wi,"clockwise",!1,Qi());class Xi extends Oe{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}Xi.prototype._centroid=!0,Xi.prototype.className="Circle",Xi.prototype._attrsAffectingSize=["radius"],kn(Xi),F.addGetterSetter(Xi,"radius",0,$e());class W2 extends Oe{_sceneFunc(t){var e=this.cornerRadius(),i=this.width(),s=this.height();t.beginPath(),e?se.drawRoundedRectPath(t,i,s,e):t.rect(0,0,i,s),t.closePath(),t.fillStrokeShape(this)}}function a8(n){return Array.from(n)}W2.prototype.className="Rect",kn(W2),F.addGetterSetter(W2,"cornerRadius",0,q6(4));var B3,Yl="auto",Ga="justify",v8=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],yE=v8.length;function g8(){return B3||(B3=se.createCanvasElement().getContext("2d"))}class mn extends Oe{constructor(t){super(function zz(n){return!(n=n||{}).fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<yE;e++)this.on(v8[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,i=e.length;if(this.text()){var V,s=this.padding(),c=this.fontSize(),h=this.lineHeight()*c,d=this.verticalAlign(),g=0,f=this.align(),_=this.getWidth(),y=this.letterSpacing(),C=this.fill(),x=this.textDecoration(),b=-1!==x.indexOf("underline"),L=-1!==x.indexOf("line-through"),B=0,R=(B=h/2,0),te=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===d?g=(this.getHeight()-i*h-2*s)/2:"bottom"===d&&(g=this.getHeight()-i*h-2*s),t.translate(s,g+s),V=0;V<i;V++){R=0,te=0;var Te,Ne,Ze,J=e[V],ve=J.text,ge=J.width,Re=J.lastInParagraph;if(t.save(),"right"===f?R+=_-ge-2*s:"center"===f&&(R+=(_-ge-2*s)/2),b){t.save(),t.beginPath(),t.moveTo(R,B+te+Math.round(c/2)),Ne=0==(Te=ve.split(" ").length-1),Ze=f!==Ga||Re?ge:_-2*s,t.lineTo(R+Math.round(Ze),B+te+Math.round(c/2)),t.lineWidth=c/15;const He=this._getLinearGradient();t.strokeStyle=He||C,t.stroke(),t.restore()}if(L){t.save(),t.beginPath(),t.moveTo(R,B+te),Ne=0==(Te=ve.split(" ").length-1),Ze=f===Ga&&Re&&!Ne?_-2*s:ge,t.lineTo(R+Math.round(Ze),B+te),t.lineWidth=c/15;const He=this._getLinearGradient();t.strokeStyle=He||C,t.stroke(),t.restore()}if(0!==y||f===Ga){Te=ve.split(" ").length-1;for(var Xe=a8(ve),ot=0;ot<Xe.length;ot++){var tt=Xe[ot];" "===tt&&!Re&&f===Ga&&(R+=(_-2*s-ge)/Te),this._partialTextX=R,this._partialTextY=B+te,this._partialText=tt,t.fillStrokeShape(this),R+=this.measureSize(tt).width+y}}else this._partialTextX=R,this._partialTextY=B+te,this._partialText=ve,t.fillStrokeShape(this);t.restore(),i>1&&(B+=h)}}}_hitFunc(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=se._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this}getWidth(){return this.attrs.width===Yl||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===Yl||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return se.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var s,e=g8(),i=this.fontSize();return e.save(),e.font=this._getContextFont(),s=e.measureText(t),e.restore(),{width:s.width,height:i}}_getContextFont(){return this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+function Zl(n){return n.split(",").map(t=>{const e=(t=t.trim()).indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!i&&(t=`"${t}"`),t}).join(", ")}(this.fontFamily())}_addTextLine(t){this.align()===Ga&&(t=t.trim());var i=this._getTextWidth(t);return this.textArr.push({text:t,width:i,lastInParagraph:!1})}_getTextWidth(t){var e=this.letterSpacing(),i=t.length;return g8().measureText(t).width+(i?e*(i-1):0)}_setTextData(){var t=this.text().split("\n"),e=+this.fontSize(),i=0,s=this.lineHeight()*e,c=this.attrs.width,h=this.attrs.height,d=c!==Yl&&void 0!==c,g=h!==Yl&&void 0!==h,f=this.padding(),_=c-2*f,y=h-2*f,C=0,x=this.wrap(),L="char"!==x&&"none"!==x,V=this.ellipsis();this.textArr=[],g8().font=this._getContextFont();for(var B=V?this._getTextWidth("\u2026"):0,R=0,te=t.length;R<te;++R){var J=t[R],ve=this._getTextWidth(J);if(d&&ve>_)for(;J.length>0;){for(var ge=0,Re=J.length,Te="",Ne=0;ge<Re;){var Ze=ge+Re>>>1,Xe=J.slice(0,Ze+1),ot=this._getTextWidth(Xe)+B;ot<=_?(ge=Ze+1,Te=Xe,Ne=ot):Re=Ze}if(!Te)break;if(L){var tt,Mt=J[Te.length];(tt=(" "===Mt||"-"===Mt)&&Ne<=_?Te.length:Math.max(Te.lastIndexOf(" "),Te.lastIndexOf("-"))+1)>0&&(Te=Te.slice(0,ge=tt),Ne=this._getTextWidth(Te))}if(Te=Te.trimRight(),this._addTextLine(Te),i=Math.max(i,Ne),this._shouldHandleEllipsis(C+=s)){this._tryToAddEllipsisToLastLine();break}if((J=(J=J.slice(ge)).trimLeft()).length>0&&(ve=this._getTextWidth(J))<=_){this._addTextLine(J),C+=s,i=Math.max(i,ve);break}}else this._addTextLine(J),C+=s,i=Math.max(i,ve),this._shouldHandleEllipsis(C)&&R<te-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&C+s>y)break}this.textHeight=e,this.textWidth=i}_shouldHandleEllipsis(t){var e=+this.fontSize(),i=this.lineHeight()*e,s=this.attrs.height,c=s!==Yl&&void 0!==s,d=s-2*this.padding();return!("none"!==this.wrap())||c&&t+i>d}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,e=t!==Yl&&void 0!==t,s=t-2*this.padding(),c=this.ellipsis(),h=this.textArr[this.textArr.length-1];h&&c&&(e&&(this._getTextWidth(h.text+"\u2026")<s||(h.text=h.text.slice(0,h.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(h.text+"\u2026"))}getStrokeScaleEnabled(){return!0}}mn.prototype._fillFunc=function _z(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)},mn.prototype._strokeFunc=function Xl(n){n.strokeText(this._partialText,this._partialTextX,this._partialTextY)},mn.prototype.className="Text",mn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],kn(mn),F.overWriteSetter(mn,"width",K6()),F.overWriteSetter(mn,"height",K6()),F.addGetterSetter(mn,"fontFamily","Arial"),F.addGetterSetter(mn,"fontSize",12,$e()),F.addGetterSetter(mn,"fontStyle","normal"),F.addGetterSetter(mn,"fontVariant","normal"),F.addGetterSetter(mn,"padding",0,$e()),F.addGetterSetter(mn,"align","left"),F.addGetterSetter(mn,"verticalAlign","top"),F.addGetterSetter(mn,"lineHeight",1,$e()),F.addGetterSetter(mn,"wrap","word"),F.addGetterSetter(mn,"ellipsis",!1,Qi()),F.addGetterSetter(mn,"letterSpacing",0,$e()),F.addGetterSetter(mn,"text","",Ol()),F.addGetterSetter(mn,"textDecoration","");class P3{constructor(t,e,i){this.layer=e,this.config=i,this.group=new e2({id:qs()}),this.xLine=new J1({...i.xLine,points:[t.x,t.y,t.x+i.xLength,t.y]}),this.group.add(this.xLine),this.yLine=new J1({...i.xLine,points:[t.x,t.y,t.x,t.y+i.yLength]}),this.group.add(this.yLine),this.xText=new mn({x:t.x+i.xLength-10,y:t.y+5,text:"X",fontSize:12,fill:"black"}),this.group.add(this.xText),this.yText=new mn({x:t.x+5,y:t.y+i.yLength-10,text:"Y",fontSize:12,fill:"black"}),this.group.add(this.yText),this.layer.add(this.group)}scale(){const t=this.layer.getStage();this.group.setAttrs({scaleX:1/t.scaleX(),scaleY:1/t.scaleY()})}}class ei{constructor(t,e,i,s,c){this.viewPort=t,this.unitScale=e,this.stageScale=i,this.layer=s,this.config=c,this.group=new e2({id:qs()});let h=t.tl.x;for(;h<=t.rb.x;){const g=(h-t.tl.x)/c.minorStep%c.majorStep==0?c.majorLine:c.minorLine,f=new J1({points:this.scalePoints([h,t.tl.y,h,t.rb.y]),...g,strokeScaleEnabled:!1});this.group.add(f),h+=c.minorStep}let d=t.tl.y;for(;d<=t.rb.y;){const g=(d-t.tl.y)/c.minorStep%c.majorStep==0?c.majorLine:c.minorLine,f=new J1({points:this.scalePoints([t.tl.x,d,t.rb.x,d]),...g,strokeScaleEnabled:!1});this.group.add(f),d+=c.minorStep}this.layer.add(this.group)}scalePoints(t){return t.map(e=>e*this.unitScale/this.stageScale)}}class k3 extends ps{constructor(t){super(t),this.listening(!1),se.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}k3.prototype.nodeType="FastLayer",kn(k3);var R3=Yo.performance&&Yo.performance.now?function(){return Yo.performance.now()}:function(){return(new Date).getTime()};let m8=(()=>{class n{constructor(e,i){this.id=n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:R3(),frameRate:0},this.func=e,this.setLayers(i)}setLayers(e){return this.layers=e?e.length>0?e:[e]:[],this}getLayers(){return this.layers}addLayer(e){var c,i=this.layers,s=i.length;for(c=0;c<s;c++)if(i[c]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var c,i=n.animations,s=i.length;for(c=0;c<s;c++)if(i[c].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=R3(),n._addAnimation(this),this}stop(){return n._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var h,i=e.id,s=this.animations,c=s.length;for(h=0;h<c;h++)if(s[h].id===i){this.animations.splice(h,1);break}}static _runFrames(){var s,c,h,d,g,f,_,y,e={},i=this.animations;for(d=0;d<i.length;d++)if(c=(s=i[d]).layers,h=s.func,s._updateFrameObject(R3()),f=c.length,!h||!1!==h.call(s,s.frame))for(g=0;g<f;g++)void 0!==(_=c[g])._id&&(e[_._id]=_);for(y in e)e.hasOwnProperty(y)&&e[y].batchDraw()}static _animationLoop(){var e=n;e.animations.length?(e._runFrames(),se.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,se.requestAnimFrame(this._animationLoop))}}return n.animations=[],n.animIdCounter=0,n.animRunning=!1,n})();var C9={node:1,duration:1,easing:1,onFinish:1,yoyo:1},yz=0,x9=["fill","stroke","shadowColor"];class Cz{constructor(t,e,i,s,c,h,d){this.prop=t,this.propFunc=e,this.begin=s,this._pos=s,this.duration=h,this._change=0,this.prevPos=0,this.yoyo=d,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=c-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}let Jl=(()=>{class n{constructor(e){var h,f,i=this,s=e.node,c=s._id,d=e.easing||Ua.Linear,g=!!e.yoyo;h=typeof e.duration>"u"?.3:0===e.duration?.001:e.duration,this.node=s,this._id=yz++;var _=s.getLayer()||(s instanceof et.Stage?s.getLayers():null);for(f in _||se.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new m8(function(){i.tween.onEnterFrame()},_),this.tween=new Cz(f,function(y){i._tweenFunc(y)},d,0,1,1e3*h,g),this._addListeners(),n.attrs[c]||(n.attrs[c]={}),n.attrs[c][this._id]||(n.attrs[c][this._id]={}),n.tweens[c]||(n.tweens[c]={}),e)void 0===C9[f]&&this._addAttr(f,e[f]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,i){var h,d,g,f,_,y,C,x,s=this.node,c=s._id;if((g=n.tweens[c][e])&&delete n.attrs[c][g][e],h=s.getAttr(e),se._isArray(i))if(d=[],_=Math.max(i.length,h.length),"points"===e&&i.length!==h.length&&(i.length>h.length?(C=h,h=se._prepareArrayForTween(h,i,s.closed())):(y=i,i=se._prepareArrayForTween(i,h,s.closed()))),0===e.indexOf("fill"))for(f=0;f<_;f++)if(f%2==0)d.push(i[f]-h[f]);else{var b=se.colorToRGBA(h[f]);x=se.colorToRGBA(i[f]),h[f]=b,d.push({r:x.r-b.r,g:x.g-b.g,b:x.b-b.b,a:x.a-b.a})}else for(f=0;f<_;f++)d.push(i[f]-h[f]);else-1!==x9.indexOf(e)?(h=se.colorToRGBA(h),d={r:(x=se.colorToRGBA(i)).r-h.r,g:x.g-h.g,b:x.b-h.b,a:x.a-h.a}):d=i-h;n.attrs[c][this._id][e]={start:h,diff:d,end:i,trueEnd:y,trueStart:C},n.tweens[c][e]=this._id}_tweenFunc(e){var c,h,d,g,f,_,y,C,i=this.node,s=n.attrs[i._id][this._id];for(c in s){if(g=(h=s[c]).diff,C=h.end,se._isArray(d=h.start))if(f=[],y=Math.max(d.length,C.length),0===c.indexOf("fill"))for(_=0;_<y;_++)f.push(_%2==0?(d[_]||0)+g[_]*e:"rgba("+Math.round(d[_].r+g[_].r*e)+","+Math.round(d[_].g+g[_].g*e)+","+Math.round(d[_].b+g[_].b*e)+","+(d[_].a+g[_].a*e)+")");else for(_=0;_<y;_++)f.push((d[_]||0)+g[_]*e);else f=-1!==x9.indexOf(c)?"rgba("+Math.round(d.r+g.r*e)+","+Math.round(d.g+g.g*e)+","+Math.round(d.b+g.b*e)+","+(d.a+g.a*e)+")":d+g*e;i.setAttr(c,f)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,i=n.attrs[e._id][this._id];i.points&&i.points.trueEnd&&e.setAttr("points",i.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,i=n.attrs[e._id][this._id];i.points&&i.points.trueStart&&e.points(i.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var c,e=this.node._id,i=this._id,s=n.tweens[e];for(c in this.pause(),s)delete n.tweens[e][c];delete n.attrs[e][i]}}return n.attrs={},n.tweens={},n})();Le.prototype.to=function(n){var t=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),t&&t()},new Jl(n).play()};const Ua={BackEaseIn(n,t,e,i){var s=1.70158;return e*(n/=i)*n*((s+1)*n-s)+t},BackEaseOut(n,t,e,i){var s=1.70158;return e*((n=n/i-1)*n*((s+1)*n+s)+1)+t},BackEaseInOut(n,t,e,i){var s=1.70158;return(n/=i/2)<1?e/2*(n*n*((1+(s*=1.525))*n-s))+t:e/2*((n-=2)*n*((1+(s*=1.525))*n+s)+2)+t},ElasticEaseIn(n,t,e,i,s,c){var h=0;return 0===n?t:1==(n/=i)?t+e:(c||(c=.3*i),!s||s<Math.abs(e)?(s=e,h=c/4):h=c/(2*Math.PI)*Math.asin(e/s),-s*Math.pow(2,10*(n-=1))*Math.sin((n*i-h)*(2*Math.PI)/c)+t)},ElasticEaseOut(n,t,e,i,s,c){var h=0;return 0===n?t:1==(n/=i)?t+e:(c||(c=.3*i),!s||s<Math.abs(e)?(s=e,h=c/4):h=c/(2*Math.PI)*Math.asin(e/s),s*Math.pow(2,-10*n)*Math.sin((n*i-h)*(2*Math.PI)/c)+e+t)},ElasticEaseInOut(n,t,e,i,s,c){var h=0;return 0===n?t:2==(n/=i/2)?t+e:(c||(c=i*(.3*1.5)),!s||s<Math.abs(e)?(s=e,h=c/4):h=c/(2*Math.PI)*Math.asin(e/s),n<1?s*Math.pow(2,10*(n-=1))*Math.sin((n*i-h)*(2*Math.PI)/c)*-.5+t:s*Math.pow(2,-10*(n-=1))*Math.sin((n*i-h)*(2*Math.PI)/c)*.5+e+t)},BounceEaseOut:(n,t,e,i)=>(n/=i)<1/2.75?e*(7.5625*n*n)+t:n<2/2.75?e*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?e*(7.5625*(n-=2.25/2.75)*n+.9375)+t:e*(7.5625*(n-=2.625/2.75)*n+.984375)+t,BounceEaseIn:(n,t,e,i)=>e-Ua.BounceEaseOut(i-n,0,e,i)+t,BounceEaseInOut:(n,t,e,i)=>n<i/2?.5*Ua.BounceEaseIn(2*n,0,e,i)+t:.5*Ua.BounceEaseOut(2*n-i,0,e,i)+.5*e+t,EaseIn:(n,t,e,i)=>e*(n/=i)*n+t,EaseOut:(n,t,e,i)=>-e*(n/=i)*(n-2)+t,EaseInOut:(n,t,e,i)=>(n/=i/2)<1?e/2*n*n+t:-e/2*(--n*(n-2)-1)+t,StrongEaseIn:(n,t,e,i)=>e*(n/=i)*n*n*n*n+t,StrongEaseOut:(n,t,e,i)=>e*((n=n/i-1)*n*n*n*n+1)+t,StrongEaseInOut:(n,t,e,i)=>(n/=i/2)<1?e/2*n*n*n*n*n+t:e/2*((n-=2)*n*n*n*n+2)+t,Linear:(n,t,e,i)=>e*n/i+t},b9=se._assign(et,{Util:se,Transform:fi,Node:Le,Container:pi,Stage:Na,stages:L3,Layer:ps,FastLayer:k3,Group:e2,DD:Kt,Shape:Oe,shapes:Fa,Animation:m8,Tween:Jl,Easings:Ua,Context:Qs,Canvas:Xs});class Jt extends Oe{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=Jt.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength;this.on("dataChange.konva",function(){this.dataArray=Jt.parsePathData(this.data()),this.pathLength=0;for(var i=0;i<this.dataArray.length;++i)this.pathLength+=this.dataArray[i].pathLength})}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var i=!1,s=0;s<e.length;s++){var h=e[s].points;switch(e[s].command){case"L":t.lineTo(h[0],h[1]);break;case"M":t.moveTo(h[0],h[1]);break;case"C":t.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"Q":t.quadraticCurveTo(h[0],h[1],h[2],h[3]);break;case"A":var d=h[0],g=h[1],f=h[2],_=h[3],y=h[4],C=h[5],x=h[6],b=h[7],L=f>_?f:_,V=f>_?1:f/_,B=f>_?_/f:1;t.translate(d,g),t.rotate(x),t.scale(V,B),t.arc(0,0,L,y,y+C,1-b),t.scale(1/V,1/B),t.rotate(-x),t.translate(-d,-g);break;case"z":i=!0,t.closePath()}}i||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach(function(f){if("A"===f.command){var _=f.points[4],y=f.points[5],C=f.points[4]+y,x=Math.PI/180;if(Math.abs(_-C)<x&&(x=Math.abs(_-C)),y<0)for(let b=_-x;b>C;b-=x){const L=Jt.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],b,0);t.push(L.x,L.y)}else for(let b=_+x;b<C;b+=x){const L=Jt.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],b,0);t.push(L.x,L.y)}}else if("C"===f.command)for(let b=0;b<=1;b+=.01){const L=Jt.getPointOnCubicBezier(b,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);t.push(L.x,L.y)}else t=t.concat(f.points)});for(var h,d,e=t[0],i=t[0],s=t[1],c=t[1],g=0;g<t.length/2;g++)h=t[2*g],d=t[2*g+1],isNaN(h)||(e=Math.min(e,h),i=Math.max(i,h)),isNaN(d)||(s=Math.min(s,d),c=Math.max(c,d));return{x:e,y:s,width:i-e,height:c-s}}getLength(){return this.pathLength}getPointAtLength(t){var e,i=0,s=this.dataArray.length;if(!s)return null;for(;i<s&&t>this.dataArray[i].pathLength;)t-=this.dataArray[i].pathLength,++i;if(i===s)return{x:(e=this.dataArray[i-1].points.slice(-2))[0],y:e[1]};if(t<.01)return{x:(e=this.dataArray[i].points.slice(0,2))[0],y:e[1]};var c=this.dataArray[i],h=c.points;switch(c.command){case"L":return Jt.getPointOnLine(t,c.start.x,c.start.y,h[0],h[1]);case"C":return Jt.getPointOnCubicBezier(t/c.pathLength,c.start.x,c.start.y,h[0],h[1],h[2],h[3],h[4],h[5]);case"Q":return Jt.getPointOnQuadraticBezier(t/c.pathLength,c.start.x,c.start.y,h[0],h[1],h[2],h[3]);case"A":var y=h[4];return Jt.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],y+=h[5]*t/c.pathLength,h[6])}return null}static getLineLength(t,e,i,s){return Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))}static getPointOnLine(t,e,i,s,c,h,d){void 0===h&&(h=e),void 0===d&&(d=i);var g=(c-i)/(s-e+1e-8),f=Math.sqrt(t*t/(1+g*g));s<e&&(f*=-1);var y,_=g*f;if(s===e)y={x:h,y:d+_};else if((d-i)/(h-e+1e-8)===g)y={x:h+f,y:d+_};else{var C,x,b=this.getLineLength(e,i,s,c),L=(h-e)*(s-e)+(d-i)*(c-i),V=this.getLineLength(h,d,C=e+(L/=b*b)*(s-e),x=i+L*(c-i)),B=Math.sqrt(t*t-V*V);f=Math.sqrt(B*B/(1+g*g)),s<e&&(f*=-1),y={x:C+f,y:x+(_=g*f)}}return y}static getPointOnCubicBezier(t,e,i,s,c,h,d,g,f){function _(V){return V*V*V}function y(V){return 3*V*V*(1-V)}function C(V){return 3*V*(1-V)*(1-V)}function x(V){return(1-V)*(1-V)*(1-V)}return{x:g*_(t)+h*y(t)+s*C(t)+e*x(t),y:f*_(t)+d*y(t)+c*C(t)+i*x(t)}}static getPointOnQuadraticBezier(t,e,i,s,c,h,d){function g(x){return x*x}function f(x){return 2*x*(1-x)}function _(x){return(1-x)*(1-x)}return{x:h*g(t)+s*f(t)+e*_(t),y:d*g(t)+c*f(t)+i*_(t)}}static getPointOnEllipticalArc(t,e,i,s,c,h){var d=Math.cos(h),g=Math.sin(h),f_x=i*Math.cos(c),f_y=s*Math.sin(c);return{x:t+(f_x*d-f_y*g),y:e+(f_x*g+f_y*d)}}static parsePathData(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var s=0;s<i.length;s++)e=e.replace(new RegExp(i[s],"g"),"|"+i[s]);var y,c=e.split("|"),h=[],d=[],g=0,f=0,_=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(s=1;s<c.length;s++){var C=c[s],x=C.charAt(0);for(C=C.slice(1),d.length=0;y=_.exec(C);)d.push(y[0]);for(var b=[],L=0,V=d.length;L<V;L++)if("00"!==d[L]){var B=parseFloat(d[L]);isNaN(B)?b.push(0):b.push(B)}else b.push(0,0);for(;b.length>0&&!isNaN(b[0]);){var ge,Re,Te,Ne,Ze,Xe,ot,tt,Mt,xn,R=null,te=[],J=g,ve=f;switch(x){case"l":g+=b.shift(),f+=b.shift(),R="L",te.push(g,f);break;case"L":g=b.shift(),f=b.shift(),te.push(g,f);break;case"m":var He=b.shift(),We=b.shift();if(g+=He,f+=We,R="M",h.length>2&&"z"===h[h.length-1].command)for(var nt=h.length-2;nt>=0;nt--)if("M"===h[nt].command){g=h[nt].points[0]+He,f=h[nt].points[1]+We;break}te.push(g,f),x="l";break;case"M":g=b.shift(),f=b.shift(),R="M",te.push(g,f),x="L";break;case"h":g+=b.shift(),R="L",te.push(g,f);break;case"H":g=b.shift(),R="L",te.push(g,f);break;case"v":f+=b.shift(),R="L",te.push(g,f);break;case"V":f=b.shift(),R="L",te.push(g,f);break;case"C":te.push(b.shift(),b.shift(),b.shift(),b.shift()),g=b.shift(),f=b.shift(),te.push(g,f);break;case"c":te.push(g+b.shift(),f+b.shift(),g+b.shift(),f+b.shift()),g+=b.shift(),f+=b.shift(),R="C",te.push(g,f);break;case"S":Re=g,Te=f,"C"===(ge=h[h.length-1]).command&&(Re=g+(g-ge.points[2]),Te=f+(f-ge.points[3])),te.push(Re,Te,b.shift(),b.shift()),g=b.shift(),f=b.shift(),R="C",te.push(g,f);break;case"s":Re=g,Te=f,"C"===(ge=h[h.length-1]).command&&(Re=g+(g-ge.points[2]),Te=f+(f-ge.points[3])),te.push(Re,Te,g+b.shift(),f+b.shift()),g+=b.shift(),f+=b.shift(),R="C",te.push(g,f);break;case"Q":te.push(b.shift(),b.shift()),g=b.shift(),f=b.shift(),te.push(g,f);break;case"q":te.push(g+b.shift(),f+b.shift()),g+=b.shift(),f+=b.shift(),R="Q",te.push(g,f);break;case"T":Re=g,Te=f,"Q"===(ge=h[h.length-1]).command&&(Re=g+(g-ge.points[0]),Te=f+(f-ge.points[1])),g=b.shift(),f=b.shift(),R="Q",te.push(Re,Te,g,f);break;case"t":Re=g,Te=f,"Q"===(ge=h[h.length-1]).command&&(Re=g+(g-ge.points[0]),Te=f+(f-ge.points[1])),g+=b.shift(),f+=b.shift(),R="Q",te.push(Re,Te,g,f);break;case"A":Ne=b.shift(),Ze=b.shift(),Xe=b.shift(),ot=b.shift(),tt=b.shift(),Mt=g,xn=f,g=b.shift(),f=b.shift(),R="A",te=this.convertEndpointToCenterParameterization(Mt,xn,g,f,ot,tt,Ne,Ze,Xe);break;case"a":Ne=b.shift(),Ze=b.shift(),Xe=b.shift(),ot=b.shift(),tt=b.shift(),Mt=g,xn=f,g+=b.shift(),f+=b.shift(),R="A",te=this.convertEndpointToCenterParameterization(Mt,xn,g,f,ot,tt,Ne,Ze,Xe)}h.push({command:R||x,points:te,start:{x:J,y:ve},pathLength:this.calcLength(J,ve,R||x,te)})}("z"===x||"Z"===x)&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(t,e,i,s){var c,h,d,g,f=Jt;switch(i){case"L":return f.getLineLength(t,e,s[0],s[1]);case"C":for(c=0,h=f.getPointOnCubicBezier(0,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),g=.01;g<=1;g+=.01)d=f.getPointOnCubicBezier(g,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),c+=f.getLineLength(h.x,h.y,d.x,d.y),h=d;return c;case"Q":for(c=0,h=f.getPointOnQuadraticBezier(0,t,e,s[0],s[1],s[2],s[3]),g=.01;g<=1;g+=.01)d=f.getPointOnQuadraticBezier(g,t,e,s[0],s[1],s[2],s[3]),c+=f.getLineLength(h.x,h.y,d.x,d.y),h=d;return c;case"A":c=0;var _=s[4],y=s[5],C=s[4]+y,x=Math.PI/180;if(Math.abs(_-C)<x&&(x=Math.abs(_-C)),h=f.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],_,0),y<0)for(g=_-x;g>C;g-=x)d=f.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],g,0),c+=f.getLineLength(h.x,h.y,d.x,d.y),h=d;else for(g=_+x;g<C;g+=x)d=f.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],g,0),c+=f.getLineLength(h.x,h.y,d.x,d.y),h=d;return d=f.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],C,0),c+f.getLineLength(h.x,h.y,d.x,d.y)}return 0}static convertEndpointToCenterParameterization(t,e,i,s,c,h,d,g,f){var _=f*(Math.PI/180),y=Math.cos(_)*(t-i)/2+Math.sin(_)*(e-s)/2,C=-1*Math.sin(_)*(t-i)/2+Math.cos(_)*(e-s)/2,x=y*y/(d*d)+C*C/(g*g);x>1&&(d*=Math.sqrt(x),g*=Math.sqrt(x));var b=Math.sqrt((d*d*(g*g)-d*d*(C*C)-g*g*(y*y))/(d*d*(C*C)+g*g*(y*y)));c===h&&(b*=-1),isNaN(b)&&(b=0);var L=b*d*C/g,V=b*-g*y/d,B=(t+i)/2+Math.cos(_)*L-Math.sin(_)*V,R=(e+s)/2+Math.sin(_)*L+Math.cos(_)*V,te=function(Ze){return Math.sqrt(Ze[0]*Ze[0]+Ze[1]*Ze[1])},J=function(Ze,Xe){return(Ze[0]*Xe[0]+Ze[1]*Xe[1])/(te(Ze)*te(Xe))},ve=function(Ze,Xe){return(Ze[0]*Xe[1]<Ze[1]*Xe[0]?-1:1)*Math.acos(J(Ze,Xe))},ge=ve([1,0],[(y-L)/d,(C-V)/g]),Re=[(y-L)/d,(C-V)/g],Te=[(-1*y-L)/d,(-1*C-V)/g],Ne=ve(Re,Te);return J(Re,Te)<=-1&&(Ne=Math.PI),J(Re,Te)>=1&&(Ne=0),0===h&&Ne>0&&(Ne-=2*Math.PI),1===h&&Ne<0&&(Ne+=2*Math.PI),[B,R,d,g,ge,Ne,_,h]}}Jt.prototype.className="Path",Jt.prototype._attrsAffectingSize=["data"],kn(Jt),F.addGetterSetter(Jt,"data");class K2 extends J1{_sceneFunc(t){super._sceneFunc(t);var e=2*Math.PI,i=this.points(),s=i,c=0!==this.tension()&&i.length>4;c&&(s=this.getTensionPoints());var g,f,h=this.pointerLength(),d=i.length;if(c){const C=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],i[d-2],i[d-1]],x=Jt.calcLength(s[s.length-4],s[s.length-3],"C",C),b=Jt.getPointOnQuadraticBezier(Math.min(1,1-h/x),C[0],C[1],C[2],C[3],C[4],C[5]);g=i[d-2]-b.x,f=i[d-1]-b.y}else g=i[d-2]-i[d-4],f=i[d-1]-i[d-3];var _=(Math.atan2(f,g)+e)%e,y=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(i[d-2],i[d-1]),t.rotate(_),t.moveTo(0,0),t.lineTo(-h,y/2),t.lineTo(-h,-y/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(i[0],i[1]),c?(g=(s[0]+s[2])/2-i[0],f=(s[1]+s[3])/2-i[1]):(g=i[2]-i[0],f=i[3]-i[1]),t.rotate((Math.atan2(-f,-g)+e)%e),t.moveTo(0,0),t.lineTo(-h,y/2),t.lineTo(-h,-y/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}K2.prototype.className="Arrow",kn(K2),F.addGetterSetter(K2,"pointerLength",10,$e()),F.addGetterSetter(K2,"pointerWidth",10,$e()),F.addGetterSetter(K2,"pointerAtBeginning",!1),F.addGetterSetter(K2,"pointerAtEnding",!0);class t2 extends Oe{_sceneFunc(t){var e=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),e!==i&&t.scale(1,i/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}t2.prototype.className="Ellipse",t2.prototype._centroid=!0,t2.prototype._attrsAffectingSize=["radiusX","radiusY"],kn(t2),F.addComponentsGetterSetter(t2,"radius",["x","y"]),F.addGetterSetter(t2,"radiusX",0,$e()),F.addGetterSetter(t2,"radiusY",0,$e());class _i extends Oe{constructor(t){super(t),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),i=this.getHeight(),s=this.cornerRadius(),c=this.attrs.image;let h;if(c){const d=this.attrs.cropWidth,g=this.attrs.cropHeight;h=d&&g?[c,this.cropX(),this.cropY(),d,g,0,0,e,i]:[c,0,0,e,i]}(this.hasFill()||this.hasStroke()||s)&&(t.beginPath(),s?se.drawRoundedRectPath(t,e,i,s):t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)),c&&(s&&t.clip(),t.drawImage.apply(t,h))}_hitFunc(t){var e=this.width(),i=this.height(),s=this.cornerRadius();t.beginPath(),s?se.drawRoundedRectPath(t,e,i,s):t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e,i=null){var s=se.createImageElement();s.onload=function(){var c=new _i({image:s});e(c)},s.onerror=i,s.crossOrigin="Anonymous",s.src=t}}_i.prototype.className="Image",kn(_i),F.addGetterSetter(_i,"cornerRadius",0,q6(4)),F.addGetterSetter(_i,"image"),F.addComponentsGetterSetter(_i,"crop",["x","y","width","height"]),F.addGetterSetter(_i,"cropX",0,$e()),F.addGetterSetter(_i,"cropY",0,$e()),F.addGetterSetter(_i,"cropWidth",0,$e()),F.addGetterSetter(_i,"cropHeight",0,$e());var E9=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],_8="right",z8="down",N3="left",S9=E9.length;class F3 extends e2{constructor(t){super(t),this.on("add.konva",function(e){this._addListeners(e.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var i,e=this,s=function(){e._sync()};for(i=0;i<S9;i++)t.on(E9[i]+"Change.konva",s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var i,s,c,h,d,g,f,t=this.getText(),e=this.getTag();if(t&&e){switch(i=t.width(),s=t.height(),c=e.pointerDirection(),h=e.pointerWidth(),f=e.pointerHeight(),d=0,g=0,c){case"up":d=i/2,g=-1*f;break;case _8:d=i+h,g=s/2;break;case z8:d=i/2,g=s+f;break;case N3:d=-1*h,g=s/2}e.setAttrs({x:-1*d,y:-1*g,width:i,height:s}),t.setAttrs({x:-1*d,y:-1*g})}}}F3.prototype.className="Label",kn(F3);class er extends Oe{_sceneFunc(t){var e=this.width(),i=this.height(),s=this.pointerDirection(),c=this.pointerWidth(),h=this.pointerHeight(),d=this.cornerRadius();let g=0,f=0,_=0,y=0;"number"==typeof d?g=f=_=y=Math.min(d,e/2,i/2):(g=Math.min(d[0]||0,e/2,i/2),f=Math.min(d[1]||0,e/2,i/2),y=Math.min(d[2]||0,e/2,i/2),_=Math.min(d[3]||0,e/2,i/2)),t.beginPath(),t.moveTo(g,0),"up"===s&&(t.lineTo((e-c)/2,0),t.lineTo(e/2,-1*h),t.lineTo((e+c)/2,0)),t.lineTo(e-f,0),t.arc(e-f,f,f,3*Math.PI/2,0,!1),s===_8&&(t.lineTo(e,(i-h)/2),t.lineTo(e+c,i/2),t.lineTo(e,(i+h)/2)),t.lineTo(e,i-y),t.arc(e-y,i-y,y,0,Math.PI/2,!1),s===z8&&(t.lineTo((e+c)/2,i),t.lineTo(e/2,i+h),t.lineTo((e-c)/2,i)),t.lineTo(_,i),t.arc(_,i-_,_,Math.PI/2,Math.PI,!1),s===N3&&(t.lineTo(0,(i+h)/2),t.lineTo(-1*c,i/2),t.lineTo(0,(i-h)/2)),t.lineTo(0,g),t.arc(g,g,g,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,i=this.pointerWidth(),s=this.pointerHeight(),c=this.pointerDirection(),h=this.width(),d=this.height();return"up"===c?(e-=s,d+=s):c===z8?d+=s:c===N3?(t-=1.5*i,h+=i):c===_8&&(h+=1.5*i),{x:t,y:e,width:h,height:d}}}er.prototype.className="Tag",kn(er),F.addGetterSetter(er,"pointerDirection","none"),F.addGetterSetter(er,"pointerWidth",0,$e()),F.addGetterSetter(er,"pointerHeight",0,$e()),F.addGetterSetter(er,"cornerRadius",0,q6(4));class Y2 extends Oe{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,i=[];for(var s=0;s<t;s++)i.push({x:e*Math.sin(2*s*Math.PI/t),y:-1*e*Math.cos(2*s*Math.PI/t)});return i}getSelfRect(){const t=this._getPoints();var e=t[0].x,i=t[0].y,s=t[0].x,c=t[0].y;return t.forEach(h=>{e=Math.min(e,h.x),i=Math.max(i,h.x),s=Math.min(s,h.y),c=Math.max(c,h.y)}),{x:e,y:s,width:i-e,height:c-s}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}Y2.prototype.className="RegularPolygon",Y2.prototype._centroid=!0,Y2.prototype._attrsAffectingSize=["radius"],kn(Y2),F.addGetterSetter(Y2,"radius",0,$e()),F.addGetterSetter(Y2,"sides",0,$e());var L9=2*Math.PI;class tr extends Oe{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,L9,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),L9,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}tr.prototype.className="Ring",tr.prototype._centroid=!0,tr.prototype._attrsAffectingSize=["innerRadius","outerRadius"],kn(tr),F.addGetterSetter(tr,"innerRadius",0,$e()),F.addGetterSetter(tr,"outerRadius",0,$e());class n2 extends Oe{constructor(t){super(t),this._updated=!0,this.anim=new m8(()=>{var e=this._updated;return this._updated=!1,e}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){var e=this.animation(),i=this.frameIndex(),s=4*i,c=this.animations()[e],h=this.frameOffsets(),d=c[s+0],g=c[s+1],f=c[s+2],_=c[s+3],y=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,f,_),t.closePath(),t.fillStrokeShape(this)),y)if(h){var C=h[e],x=2*i;t.drawImage(y,d,g,f,_,C[x+0],C[x+1],f,_)}else t.drawImage(y,d,g,f,_,0,0,f,_)}_hitFunc(t){var e=this.animation(),i=this.frameIndex(),s=4*i,c=this.animations()[e],h=this.frameOffsets(),d=c[s+2],g=c[s+3];if(t.beginPath(),h){var f=h[e],_=2*i;t.rect(f[_+0],f[_+1],d,g)}else t.rect(0,0,d,g);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation(),i=this.animations();this.frameIndex(t<i[e].length/4-1?t+1:0)}}n2.prototype.className="Sprite",kn(n2),F.addGetterSetter(n2,"animation"),F.addGetterSetter(n2,"animations"),F.addGetterSetter(n2,"frameOffsets"),F.addGetterSetter(n2,"image"),F.addGetterSetter(n2,"frameIndex",0,$e()),F.addGetterSetter(n2,"frameRate",17,$e()),F.backCompat(n2,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class nr extends Oe{_sceneFunc(t){var e=this.innerRadius(),i=this.outerRadius(),s=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var c=1;c<2*s;c++){var h=c%2==0?i:e,d=h*Math.sin(c*Math.PI/s),g=-1*h*Math.cos(c*Math.PI/s);t.lineTo(d,g)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}function y8(n){n.fillText(this.partialText,0,0)}function Wa(n){n.strokeText(this.partialText,0,0)}nr.prototype.className="Star",nr.prototype._centroid=!0,nr.prototype._attrsAffectingSize=["innerRadius","outerRadius"],kn(nr),F.addGetterSetter(nr,"numPoints",5,$e()),F.addGetterSetter(nr,"innerRadius",0,$e()),F.addGetterSetter(nr,"outerRadius",0,$e());class r1 extends Oe{constructor(t){super(t),this.dummyCanvas=se.createCanvasElement(),this.dataArray=[],this.dataArray=Jt.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Jt.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),i=this.fill(),s=this.fontSize(),c=this.glyphInfo;"underline"===e&&t.beginPath();for(var h=0;h<c.length;h++){t.save();var d=c[h].p0;t.translate(d.x,d.y),t.rotate(c[h].rotation),this.partialText=c[h].text,t.fillStrokeShape(this),"underline"===e&&(0===h&&t.moveTo(0,s/2+1),t.lineTo(s,s/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=i,t.lineWidth=s/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var i=e[0].p0;t.moveTo(i.x,i.y)}for(var s=0;s<e.length;s++){var c=e[s].p1;t.lineTo(c.x,c.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return se.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return mn.prototype.setText.call(this,t)}_getContextFont(){return mn.prototype._getContextFont.call(this)}_getTextSize(t){var i=this.dummyCanvas.getContext("2d");i.save(),i.font=this._getContextFont();var s=i.measureText(t);return i.restore(),{width:s.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,e=this._getTextSize(this.attrs.text),i=this.letterSpacing(),s=this.align(),c=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var h=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);this.glyphInfo=[];for(var d=0,g=0;g<t.dataArray.length;g++)t.dataArray[g].pathLength>0&&(d+=t.dataArray[g].pathLength);var f=0;"center"===s&&(f=Math.max(0,d/2-h/2)),"right"===s&&(f=Math.max(0,d-h));for(var C,x,b,_=a8(this.text()),y=this.text().split(" ").length-1,L=-1,V=0,B=function(){V=0;for(var ot=t.dataArray,tt=L+1;tt<ot.length;tt++){if(ot[tt].pathLength>0)return L=tt,ot[tt];"M"===ot[tt].command&&(C={x:ot[tt].points[0],y:ot[tt].points[1]})}return{}},R=function(ot){var tt=t._getTextSize(ot).width+i;" "===ot&&"justify"===s&&(tt+=(d-h)/y);var Mt=0,xn=0;for(x=void 0;Math.abs(tt-Mt)/tt>.01&&xn<20;){xn++;for(var He=Mt;void 0===b;)(b=B())&&He+b.pathLength<tt&&(He+=b.pathLength,b=void 0);if(0===Object.keys(b).length||void 0===C)return;var We=!1;switch(b.command){case"L":Jt.getLineLength(C.x,C.y,b.points[0],b.points[1])>tt?x=Jt.getPointOnLine(tt,C.x,C.y,b.points[0],b.points[1],C.x,C.y):b=void 0;break;case"A":var Vt=b.points[5],pt=b.points[4]+Vt;0===V?V=b.points[4]+1e-8:tt>Mt?V+=Math.PI/180*Vt/Math.abs(Vt):V-=Math.PI/360*Vt/Math.abs(Vt),(Vt<0&&V<pt||Vt>=0&&V>pt)&&(V=pt,We=!0),x=Jt.getPointOnEllipticalArc(b.points[0],b.points[1],b.points[2],b.points[3],V,b.points[6]);break;case"C":0===V?V=tt>b.pathLength?1e-8:tt/b.pathLength:tt>Mt?V+=(tt-Mt)/b.pathLength/2:V=Math.max(V-(Mt-tt)/b.pathLength/2,0),V>1&&(V=1,We=!0),x=Jt.getPointOnCubicBezier(V,b.start.x,b.start.y,b.points[0],b.points[1],b.points[2],b.points[3],b.points[4],b.points[5]);break;case"Q":0===V?V=tt/b.pathLength:tt>Mt?V+=(tt-Mt)/b.pathLength:V-=(Mt-tt)/b.pathLength,V>1&&(V=1,We=!0),x=Jt.getPointOnQuadraticBezier(V,b.start.x,b.start.y,b.points[0],b.points[1],b.points[2],b.points[3])}void 0!==x&&(Mt=Jt.getLineLength(C.x,C.y,x.x,x.y)),We&&(We=!1,b=void 0)}},ve=f/(t._getTextSize("C").width+i)-1,ge=0;ge<ve&&(R("C"),void 0!==C&&void 0!==x);ge++)C=x;for(var Re=0;Re<_.length&&(R(_[Re]),void 0!==C&&void 0!==x);Re++){var Te=Jt.getLineLength(C.x,C.y,x.x,x.y),Ne=0;if(c)try{Ne=c(_[Re-1],_[Re])*this.fontSize()}catch{Ne=0}C.x+=Ne,x.x+=Ne,this.textWidth+=Ne;var Ze=Jt.getPointOnLine(Ne+Te/2,C.x,C.y,x.x,x.y),Xe=Math.atan2(x.y-C.y,x.x-C.x);this.glyphInfo.push({transposeX:Ze.x,transposeY:Ze.y,text:_[Re],rotation:Xe,p0:C,p1:x}),C=x}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach(function(_){t.push(_.p0.x),t.push(_.p0.y),t.push(_.p1.x),t.push(_.p1.y)});for(var h,d,e=t[0]||0,i=t[0]||0,s=t[1]||0,c=t[1]||0,g=0;g<t.length/2;g++)h=t[2*g],d=t[2*g+1],e=Math.min(e,h),i=Math.max(i,h),s=Math.min(s,d),c=Math.max(c,d);var f=this.fontSize();return{x:e-f/2,y:s-f/2,width:i-e+f,height:c-s+f}}destroy(){return se.releaseCanvas(this.dummyCanvas),super.destroy()}}r1.prototype._fillFunc=y8,r1.prototype._strokeFunc=Wa,r1.prototype._fillFuncHit=y8,r1.prototype._strokeFuncHit=Wa,r1.prototype.className="TextPath",r1.prototype._attrsAffectingSize=["text","fontSize","data"],kn(r1),F.addGetterSetter(r1,"data"),F.addGetterSetter(r1,"fontFamily","Arial"),F.addGetterSetter(r1,"fontSize",12,$e()),F.addGetterSetter(r1,"fontStyle","normal"),F.addGetterSetter(r1,"align","left"),F.addGetterSetter(r1,"letterSpacing",0,$e()),F.addGetterSetter(r1,"textBaseline","middle"),F.addGetterSetter(r1,"fontVariant","normal"),F.addGetterSetter(r1,"text",""),F.addGetterSetter(r1,"textDecoration",null),F.addGetterSetter(r1,"kerningFunc",null);var V9="tr-konva",H9=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(n=>n+`.${V9}`).join(" "),ec="nodesRect",xz=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],bz={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const Ez="ontouchstart"in et._global;var C8=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],I9=1e8;function D9(n,t,e){const i=e.x+(n.x-e.x)*Math.cos(t)-(n.y-e.y)*Math.sin(t),s=e.y+(n.x-e.x)*Math.sin(t)+(n.y-e.y)*Math.cos(t);return Object.assign(Object.assign({},n),{rotation:n.rotation+t,x:i,y:s})}class on extends e2{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(H9,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return se.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return V9+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const e=t.filter(s=>!s.isAncestorOf(this)||(se.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=t=e,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(s=>{const c=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},h=s._attrsAffectingSize.map(d=>d+"Change."+this._getEventNamespace()).join(" ");s.on(h,c),s.on(xz.map(d=>d+`.${this._getEventNamespace()}`).join(" "),c),s.on(`absoluteTransformChange.${this._getEventNamespace()}`,c),this._proxyDrag(s)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,i=>{e=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(i,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!e)return;const s=t.getAbsolutePosition(),c=s.x-e.x,h=s.y-e.y;this.nodes().forEach(d=>{if(d===t||d.isDragging())return;const g=d.getAbsolutePosition();d.setAbsolutePosition({x:g.x+c,y:g.y+h}),d.startDrag(i)}),e=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(ec),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(ec,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),i){var s=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),c=t.getAbsoluteScale(i),h=t.getAbsolutePosition(i),d=s.x*c.x-t.offsetX()*c.x,g=s.y*c.y-t.offsetY()*c.y;const f=(et.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return D9({x:h.x+d*Math.cos(f)+g*Math.sin(-f),y:h.y+g*Math.cos(f)+d*Math.sin(f),width:s.width*c.x,height:s.height*c.y,rotation:f},-et.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-I9,y:-I9,width:0,height:0,rotation:0};const e=[];this.nodes().map(f=>{const _=f.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var y=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}],C=f.getAbsoluteTransform();y.forEach(function(x){var b=C.point(x);e.push(b)})});const i=new fi;var s,c,h,d;i.rotate(-et.getAngle(this.rotation())),e.forEach(function(f){var _=i.point(f);void 0===s&&(s=h=_.x,c=d=_.y),s=Math.min(s,_.x),c=Math.min(c,_.y),h=Math.max(h,_.x),d=Math.max(d,_.y)}),i.invert();const g=i.point({x:s,y:c});return{x:g.x,y:g.y,width:h-s,height:d-c,rotation:et.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),C8.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new W2({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Ez?10:"auto"}),i=this;e.on("mousedown touchstart",function(s){i._handleMouseDown(s)}),e.on("dragstart",s=>{e.stopDrag(),s.cancelBubble=!0}),e.on("dragend",s=>{s.cancelBubble=!0}),e.on("mouseenter",()=>{var s=et.getAngle(this.rotation()),c=function Sz(n,t){if("rotater"===n)return"crosshair";t+=se.degToRad(bz[n]||0);var e=(se.radToDeg(t)%360+360)%360;return se._inRange(e,337.5,360)||se._inRange(e,0,22.5)?"ns-resize":se._inRange(e,22.5,67.5)?"nesw-resize":se._inRange(e,67.5,112.5)?"ew-resize":se._inRange(e,112.5,157.5)?"nwse-resize":se._inRange(e,157.5,202.5)?"ns-resize":se._inRange(e,202.5,247.5)?"nesw-resize":se._inRange(e,247.5,292.5)?"ew-resize":se._inRange(e,292.5,337.5)?"nwse-resize":(se.error("Transformer has unknown angle for cursor detection: "+e),"pointer")}(t,s);e.getStage().content&&(e.getStage().content.style.cursor=c),this._cursorChange=!0}),e.on("mouseout",()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(e)}_createBack(){var t=new Oe({name:"back",width:0,height:0,draggable:!0,sceneFunc(e){var i=this.getParent(),s=i.padding();e.beginPath(),e.rect(-s,-s,this.width()+2*s,this.height()+2*s),e.moveTo(this.width()/2,-s),i.rotateEnabled()&&e.lineTo(this.width()/2,-i.rotateAnchorOffset()*se._sign(this.height())-s),e.fillStrokeShape(this)},hitFunc:(e,i)=>{if(this.shouldOverdrawWholeArea()){var s=this.padding();e.beginPath(),e.rect(-s,-s,i.width()+2*s,i.height()+2*s),e.fillStrokeShape(i)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",e=>{e.cancelBubble=!0}),t.on("dragmove",e=>{e.cancelBubble=!0}),t.on("dragend",e=>{e.cancelBubble=!0}),this.on("dragmove",e=>{this.update()})}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),i=e.width,s=e.height,c=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));this.sin=Math.abs(s/c),this.cos=Math.abs(i/c),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var h=t.target.getAbsolutePosition(),d=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:d.x-h.x,y:d.y-h.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:t.evt,target:g})})}_handleMouseMove(t){var e,i,s,c=this.findOne("."+this._movingAnchorName),h=c.getStage();h.setPointersPositions(t);const d=h.getPointerPosition();let g={x:d.x-this._anchorDragOffset.x,y:d.y-this._anchorDragOffset.y};const f=c.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(f,g,t)),c.setAbsolutePosition(g);const _=c.getAbsolutePosition();if(f.x!==_.x||f.y!==_.y){if("rotater"===this._movingAnchorName){var y=this._getNodeRect();e=c.x()-y.width/2,i=-c.y()+y.height/2;let ot=Math.atan2(-i,e)+Math.PI/2;y.height<0&&(ot-=Math.PI);const tt=et.getAngle(this.rotation())+ot,Mt=et.getAngle(this.rotationSnapTolerance()),He=function qa(n,t,e){let i=t;for(let s=0;s<n.length;s++){const c=et.getAngle(n[s]),h=Math.abs(c-t)%(2*Math.PI);Math.min(h,2*Math.PI-h)<e&&(i=c)}return i}(this.rotationSnaps(),tt,Mt)-y.rotation,We=function Lz(n,t){const e=function T9(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}(n);return D9(n,t,e)}(y,He);return void this._fitNodesInto(We,t)}var x=this.keepRatio()||t.shiftKey,R=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(x){var b=R?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(b.x-c.x(),2)+Math.pow(b.y-c.y(),2));var L=this.findOne(".top-left").x()>b.x?-1:1,V=this.findOne(".top-left").y()>b.y?-1:1;e=s*this.cos*L,i=s*this.sin*V,this.findOne(".top-left").x(b.x-e),this.findOne(".top-left").y(b.y-i)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(c.y());else if("top-right"===this._movingAnchorName){x&&(b=R?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},s=Math.sqrt(Math.pow(c.x()-b.x,2)+Math.pow(b.y-c.y(),2)),L=this.findOne(".top-right").x()<b.x?-1:1,V=this.findOne(".top-right").y()>b.y?-1:1,e=s*this.cos*L,i=s*this.sin*V,this.findOne(".top-right").x(b.x+e),this.findOne(".top-right").y(b.y-i));var B=c.position();this.findOne(".top-left").y(B.y),this.findOne(".bottom-right").x(B.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(c.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(c.x()):"bottom-left"===this._movingAnchorName?(x&&(b=R?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},s=Math.sqrt(Math.pow(b.x-c.x(),2)+Math.pow(c.y()-b.y,2)),L=b.x<c.x()?-1:1,V=c.y()<b.y?-1:1,i=s*this.sin*V,c.x(b.x-(e=s*this.cos*L)),c.y(b.y+i)),B=c.position(),this.findOne(".top-left").x(B.x),this.findOne(".bottom-right").y(B.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(c.y()):"bottom-right"===this._movingAnchorName?x&&(b=R?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},s=Math.sqrt(Math.pow(c.x()-b.x,2)+Math.pow(c.y()-b.y,2)),L=this.findOne(".bottom-right").x()<b.x?-1:1,V=this.findOne(".bottom-right").y()<b.y?-1:1,e=s*this.cos*L,i=s*this.sin*V,this.findOne(".bottom-right").x(b.x+e),this.findOne(".bottom-right").y(b.y+i)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(R=this.centeredScaling()||t.altKey){var te=this.findOne(".top-left"),J=this.findOne(".bottom-right"),ve=te.x(),ge=te.y(),Re=this.getWidth()-J.x(),Te=this.getHeight()-J.y();J.move({x:-ve,y:-ge}),te.move({x:Re,y:Te})}var Ne=this.findOne(".top-left").getAbsolutePosition();e=Ne.x,i=Ne.y;var Ze=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),Xe=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:i,width:Ze,height:Xe,rotation:et.getAngle(this.rotation())},t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach(i=>{i._fire("transformend",{evt:t,target:i})}),this._movingAnchorName=null}}_fitNodesInto(t,e){var i=this._getNodeRect();if(se._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(se._inRange(t.height,2*-this.padding()-1,1))return void this.update();const c=this.flipEnabled();var h=new fi;if(h.rotate(et.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const y=h.point({x:2*-this.padding(),y:0});if(t.x+=y.x,t.y+=y.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,!c)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const y=h.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,t.width+=2*this.padding(),!c)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const y=h.point({x:0,y:2*-this.padding()});if(t.x+=y.x,t.y+=y.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,t.height+=2*this.padding(),!c)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const y=h.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,t.height+=2*this.padding(),!c)return void this.update()}if(this.boundBoxFunc()){const y=this.boundBoxFunc()(i,t);y?t=y:se.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const d=1e7,g=new fi;g.translate(i.x,i.y),g.rotate(i.rotation),g.scale(i.width/d,i.height/d);const f=new fi;f.translate(t.x,t.y),f.rotate(t.rotation),f.scale(t.width/d,t.height/d);const _=f.multiply(g.invert());this._nodes.forEach(y=>{var C;const x=y.getParent().getAbsoluteTransform(),b=y.getTransform().copy();b.translate(y.offsetX(),y.offsetY());const L=new fi;L.multiply(x.copy().invert()).multiply(_).multiply(x).multiply(b);const V=L.decompose();y.setAttrs(V),this._fire("transform",{evt:e,target:y}),y._fire("transform",{evt:e,target:y}),null===(C=y.getLayer())||void 0===C||C.batchDraw()}),this.rotation(se._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(se._getRotation(e.rotation));var i=e.width,s=e.height,c=this.enabledAnchors(),h=this.resizeEnabled(),d=this.padding(),g=this.anchorSize();this.find("._anchor").forEach(f=>{f.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+d,offsetY:g/2+d,visible:h&&c.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:g/2+d,visible:h&&c.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:g/2-d,offsetY:g/2+d,visible:h&&c.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:g/2+d,visible:h&&c.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:s/2,offsetX:g/2-d,visible:h&&c.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:g/2+d,offsetY:g/2-d,visible:h&&c.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:s,offsetY:g/2-d,visible:h&&c.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:s,offsetX:g/2-d,offsetY:g/2-d,visible:h&&c.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*se._sign(s)-d,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),e2.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Le.prototype.toObject.call(this)}clone(t){return Le.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}on.prototype.className="Transformer",kn(on),F.addGetterSetter(on,"enabledAnchors",C8,function A9(n){return n instanceof Array||se.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(t){-1===C8.indexOf(t)&&se.warn("Unknown anchor name: "+t+". Available names are: "+C8.join(", "))}),n||[]}),F.addGetterSetter(on,"flipEnabled",!0,Qi()),F.addGetterSetter(on,"resizeEnabled",!0),F.addGetterSetter(on,"anchorSize",10,$e()),F.addGetterSetter(on,"rotateEnabled",!0),F.addGetterSetter(on,"rotationSnaps",[]),F.addGetterSetter(on,"rotateAnchorOffset",50,$e()),F.addGetterSetter(on,"rotationSnapTolerance",5,$e()),F.addGetterSetter(on,"borderEnabled",!0),F.addGetterSetter(on,"anchorStroke","rgb(0, 161, 255)"),F.addGetterSetter(on,"anchorStrokeWidth",1,$e()),F.addGetterSetter(on,"anchorFill","white"),F.addGetterSetter(on,"anchorCornerRadius",0,$e()),F.addGetterSetter(on,"borderStroke","rgb(0, 161, 255)"),F.addGetterSetter(on,"borderStrokeWidth",1,$e()),F.addGetterSetter(on,"borderDash"),F.addGetterSetter(on,"keepRatio",!0),F.addGetterSetter(on,"centeredScaling",!1),F.addGetterSetter(on,"ignoreStroke",!1),F.addGetterSetter(on,"padding",0,$e()),F.addGetterSetter(on,"node"),F.addGetterSetter(on,"nodes"),F.addGetterSetter(on,"boundBoxFunc"),F.addGetterSetter(on,"anchorDragBoundFunc"),F.addGetterSetter(on,"shouldOverdrawWholeArea",!1),F.addGetterSetter(on,"useSingleNodeRotation",!0),F.backCompat(on,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class s2 extends Oe{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,et.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}function M8(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}s2.prototype.className="Wedge",s2.prototype._centroid=!0,s2.prototype._attrsAffectingSize=["radius"],kn(s2),F.addGetterSetter(s2,"radius",0,$e()),F.addGetterSetter(s2,"angle",0,$e()),F.addGetterSetter(s2,"clockwise",!1),F.backCompat(s2,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Vz=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],O9=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function b8(n,t,e,i,s){var c=e-t,h=s-i;return 0===c?i+h/2:0===h?i:h*((n-t)/c)+i}function G3(n,t,e){var i=4*(e*n.width+t),s=[];return s.push(n.data[i++],n.data[i++],n.data[i++],n.data[i++]),s}function Ka(n,t){return Math.sqrt(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)+Math.pow(n[2]-t[2],2))}F.addGetterSetter(Le,"blurRadius",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"brightness",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"contrast",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"embossStrength",.5,$e(),F.afterSetFilter),F.addGetterSetter(Le,"embossWhiteLevel",.5,$e(),F.afterSetFilter),F.addGetterSetter(Le,"embossDirection","top-left",null,F.afterSetFilter),F.addGetterSetter(Le,"embossBlend",!1,null,F.afterSetFilter),F.addGetterSetter(Le,"enhance",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"hue",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"saturation",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"luminance",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"hue",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"saturation",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"value",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"kaleidoscopePower",2,$e(),F.afterSetFilter),F.addGetterSetter(Le,"kaleidoscopeAngle",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"threshold",0,$e(),F.afterSetFilter),F.addGetterSetter(Le,"noise",.2,$e(),F.afterSetFilter),F.addGetterSetter(Le,"pixelSize",8,$e(),F.afterSetFilter),F.addGetterSetter(Le,"levels",.5,$e(),F.afterSetFilter),F.addGetterSetter(Le,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),F.addGetterSetter(Le,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),F.addGetterSetter(Le,"blue",0,Kv,F.afterSetFilter),F.addGetterSetter(Le,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),F.addGetterSetter(Le,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),F.addGetterSetter(Le,"blue",0,Kv,F.afterSetFilter),F.addGetterSetter(Le,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n}),F.addGetterSetter(Le,"threshold",.5,$e(),F.afterSetFilter);const $9=b9.Util._assign(b9,{Arc:wi,Arrow:K2,Circle:Xi,Ellipse:t2,Image:_i,Label:F3,Tag:er,Line:J1,Path:Jt,Rect:W2,RegularPolygon:Y2,Ring:tr,Sprite:n2,Star:nr,Text:mn,TextPath:r1,Transformer:on,Wedge:s2,Filters:{Blur:function(t){var e=Math.round(this.blurRadius());e>0&&function Hz(n,t){var c,h,d,g,f,_,y,C,x,b,L,V,B,R,te,J,ve,ge,Re,Te,Ne,Ze,Xe,ot,e=n.data,i=n.width,s=n.height,tt=t+t+1,Mt=i-1,xn=s-1,He=t+1,We=He*(He+1)/2,nt=new M8,Vt=null,pt=nt,tn=null,bn=null,G1=Vz[t],rn=O9[t];for(d=1;d<tt;d++)pt=pt.next=new M8,d===He&&(Vt=pt);for(pt.next=nt,y=_=0,h=0;h<s;h++){for(J=ve=ge=Re=C=x=b=L=0,V=He*(Te=e[_]),B=He*(Ne=e[_+1]),R=He*(Ze=e[_+2]),te=He*(Xe=e[_+3]),C+=We*Te,x+=We*Ne,b+=We*Ze,L+=We*Xe,pt=nt,d=0;d<He;d++)pt.r=Te,pt.g=Ne,pt.b=Ze,pt.a=Xe,pt=pt.next;for(d=1;d<He;d++)C+=(pt.r=Te=e[g=_+((Mt<d?Mt:d)<<2)])*(ot=He-d),x+=(pt.g=Ne=e[g+1])*ot,b+=(pt.b=Ze=e[g+2])*ot,L+=(pt.a=Xe=e[g+3])*ot,J+=Te,ve+=Ne,ge+=Ze,Re+=Xe,pt=pt.next;for(tn=nt,bn=Vt,c=0;c<i;c++)e[_+3]=Xe=L*G1>>rn,0!==Xe?(e[_]=(C*G1>>rn)*(Xe=255/Xe),e[_+1]=(x*G1>>rn)*Xe,e[_+2]=(b*G1>>rn)*Xe):e[_]=e[_+1]=e[_+2]=0,C-=V,x-=B,b-=R,L-=te,V-=tn.r,B-=tn.g,R-=tn.b,te-=tn.a,g=y+((g=c+t+1)<Mt?g:Mt)<<2,C+=J+=tn.r=e[g],x+=ve+=tn.g=e[g+1],b+=ge+=tn.b=e[g+2],L+=Re+=tn.a=e[g+3],tn=tn.next,V+=Te=bn.r,B+=Ne=bn.g,R+=Ze=bn.b,te+=Xe=bn.a,J-=Te,ve-=Ne,ge-=Ze,Re-=Xe,bn=bn.next,_+=4;y+=i}for(c=0;c<i;c++){for(ve=ge=Re=J=x=b=L=C=0,V=He*(Te=e[_=c<<2]),B=He*(Ne=e[_+1]),R=He*(Ze=e[_+2]),te=He*(Xe=e[_+3]),C+=We*Te,x+=We*Ne,b+=We*Ze,L+=We*Xe,pt=nt,d=0;d<He;d++)pt.r=Te,pt.g=Ne,pt.b=Ze,pt.a=Xe,pt=pt.next;for(f=i,d=1;d<=t;d++)C+=(pt.r=Te=e[_=f+c<<2])*(ot=He-d),x+=(pt.g=Ne=e[_+1])*ot,b+=(pt.b=Ze=e[_+2])*ot,L+=(pt.a=Xe=e[_+3])*ot,J+=Te,ve+=Ne,ge+=Ze,Re+=Xe,pt=pt.next,d<xn&&(f+=i);for(_=c,tn=nt,bn=Vt,h=0;h<s;h++)e[3+(g=_<<2)]=Xe=L*G1>>rn,Xe>0?(e[g]=(C*G1>>rn)*(Xe=255/Xe),e[g+1]=(x*G1>>rn)*Xe,e[g+2]=(b*G1>>rn)*Xe):e[g]=e[g+1]=e[g+2]=0,C-=V,x-=B,b-=R,L-=te,V-=tn.r,B-=tn.g,R-=tn.b,te-=tn.a,g=c+((g=h+He)<xn?g:xn)*i<<2,C+=J+=tn.r=e[g],x+=ve+=tn.g=e[g+1],b+=ge+=tn.b=e[g+2],L+=Re+=tn.a=e[g+3],tn=tn.next,V+=Te=bn.r,B+=Ne=bn.g,R+=Ze=bn.b,te+=Xe=bn.a,J-=Te,ve-=Ne,ge-=Ze,Re-=Xe,bn=bn.next,_+=i}}(t,e)},Brighten:function(n){var s,t=255*this.brightness(),e=n.data,i=e.length;for(s=0;s<i;s+=4)e[s]+=t,e[s+1]+=t,e[s+2]+=t},Contrast:function(n){var d,t=Math.pow((this.contrast()+100)/100,2),e=n.data,i=e.length,s=150,c=150,h=150;for(d=0;d<i;d+=4)s=e[d],c=e[d+1],h=e[d+2],s/=255,s-=.5,s*=t,s+=.5,c/=255,c-=.5,c*=t,c+=.5,h/=255,h-=.5,h*=t,h+=.5,c=(c*=255)<0?0:c>255?255:c,h=(h*=255)<0?0:h>255?255:h,e[d]=s=(s*=255)<0?0:s>255?255:s,e[d+1]=c,e[d+2]=h},Emboss:function(n){var t=10*this.embossStrength(),e=255*this.embossWhiteLevel(),i=this.embossDirection(),s=this.embossBlend(),c=0,h=0,d=n.data,g=n.width,f=n.height,_=4*g,y=f;switch(i){case"top-left":c=-1,h=-1;break;case"top":c=-1,h=0;break;case"top-right":c=-1,h=1;break;case"right":c=0,h=1;break;case"bottom-right":c=1,h=1;break;case"bottom":c=1,h=0;break;case"bottom-left":c=1,h=-1;break;case"left":c=0,h=-1;break;default:se.error("Unknown emboss direction: "+i)}do{var C=(y-1)*_,x=c;y+x<1&&(x=0),y+x>f&&(x=0);var b=(y-1+x)*g*4,L=g;do{var V=C+4*(L-1),B=h;L+B<1&&(B=0),L+B>g&&(B=0);var R=b+4*(L-1+B),J=d[V+1]-d[R+1],ve=d[V+2]-d[R+2],ge=d[V]-d[R],Re=ge>0?ge:-ge;if((J>0?J:-J)>Re&&(ge=J),(ve>0?ve:-ve)>Re&&(ge=ve),ge*=t,s){var Ze=d[V]+ge,Xe=d[V+1]+ge,ot=d[V+2]+ge;d[V]=Ze>255?255:Ze<0?0:Ze,d[V+1]=Xe>255?255:Xe<0?0:Xe,d[V+2]=ot>255?255:ot<0?0:ot}else{var tt=e-ge;tt<0?tt=0:tt>255&&(tt=255),d[V]=d[V+1]=d[V+2]=tt}}while(--L)}while(--y)},Enhance:function(n){var c,g,y,C,t=n.data,e=t.length,i=t[0],s=i,h=t[1],d=h,f=t[2],_=f,x=this.enhance();if(0!==x){for(C=0;C<e;C+=4)(c=t[C+0])<i?i=c:c>s&&(s=c),(g=t[C+1])<h?h=g:g>d&&(d=g),(y=t[C+2])<f?f=y:y>_&&(_=y);var b,L,V,B,R,te,J,ve,ge;for(s===i&&(s=255,i=0),d===h&&(d=255,h=0),_===f&&(_=255,f=0),x>0?(L=s+x*(255-s),V=i-x*(i-0),R=d+x*(255-d),te=h-x*(h-0),ve=_+x*(255-_),ge=f-x*(f-0)):(L=s+x*(s-(b=.5*(s+i))),V=i+x*(i-b),R=d+x*(d-(B=.5*(d+h))),te=h+x*(h-B),ve=_+x*(_-(J=.5*(_+f))),ge=f+x*(f-J)),C=0;C<e;C+=4)t[C+0]=b8(t[C+0],i,s,V,L),t[C+1]=b8(t[C+1],h,d,te,R),t[C+2]=b8(t[C+2],f,_,ge,ve)}},Grayscale:function(n){var i,s,t=n.data,e=t.length;for(i=0;i<e;i+=4)t[i]=s=.34*t[i]+.5*t[i+1]+.16*t[i+2],t[i+1]=s,t[i+2]=s},HSL:function(n){var d,te,J,ve,ge,t=n.data,e=t.length,s=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,h=127*this.luminance(),g=1*s*Math.cos(c*Math.PI/180),f=1*s*Math.sin(c*Math.PI/180),_=.299+.701*g+.167*f,y=.587-.587*g+.33*f,C=.114-.114*g-.497*f,x=.299-.299*g-.328*f,b=.587+.413*g+.035*f,L=.114-.114*g+.293*f,V=.299-.3*g+1.25*f,B=.587-.586*g-1.05*f,R=.114+.886*g-.2*f;for(d=0;d<e;d+=4)ge=t[d+3],t[d+0]=_*(te=t[d+0])+y*(J=t[d+1])+C*(ve=t[d+2])+h,t[d+1]=x*te+b*J+L*ve+h,t[d+2]=V*te+B*J+R*ve+h,t[d+3]=ge},HSV:function(n){var h,R,te,J,ve,t=n.data,e=t.length,i=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=i*s*Math.cos(c*Math.PI/180),g=i*s*Math.sin(c*Math.PI/180),f=.299*i+.701*d+.167*g,_=.587*i-.587*d+.33*g,y=.114*i-.114*d-.497*g,C=.299*i-.299*d-.328*g,x=.587*i+.413*d+.035*g,b=.114*i-.114*d+.293*g,L=.299*i-.3*d+1.25*g,V=.587*i-.586*d-1.05*g,B=.114*i+.886*d-.2*g;for(h=0;h<e;h+=4)ve=t[h+3],t[h+0]=f*(R=t[h+0])+_*(te=t[h+1])+y*(J=t[h+2]),t[h+1]=C*R+x*te+b*J,t[h+2]=L*R+V*te+B*J,t[h+3]=ve},Invert:function(n){var i,t=n.data,e=t.length;for(i=0;i<e;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]},Kaleidoscope:function(n){var i,s,c,h,g,f,_,y,C,t=n.width,e=n.height,x=Math.round(this.kaleidoscopePower()),b=Math.round(this.kaleidoscopeAngle()),L=Math.floor(t*(b%360)/360);if(!(x<1)){var V=se.createCanvasElement();V.width=t,V.height=e;var B=V.getContext("2d").getImageData(0,0,t,e);se.releaseCanvas(V),function(n,t,e){var f,_,y,V,i=n.data,s=t.data,c=n.width,h=n.height,d=e.polarCenterX||c/2,g=e.polarCenterY||h/2,C=0,x=0,b=0,L=0,B=Math.sqrt(d*d+g*g);_=c-d,y=h-g,B=(V=Math.sqrt(_*_+y*y))>B?V:B;var J,ve,Re,Te,R=h,te=c,ge=360/te*Math.PI/180;for(ve=0;ve<te;ve+=1)for(Re=Math.sin(ve*ge),Te=Math.cos(ve*ge),J=0;J<R;J+=1)_=Math.floor(d+B*J/R*Te),C=i[0+(f=4*((y=Math.floor(g+B*J/R*Re))*c+_))],x=i[f+1],b=i[f+2],L=i[f+3],s[0+(f=4*(ve+J*c))]=C,s[f+1]=x,s[f+2]=b,s[f+3]=L}(n,B,{polarCenterX:t/2,polarCenterY:e/2});for(var R=t/Math.pow(2,x);R<=8;)R*=2,x-=1;var te=R=Math.ceil(R),J=0,ve=te,ge=1;for(L+R>t&&(J=te,ve=0,ge=-1),s=0;s<e;s+=1)for(i=J;i!==ve;i+=ge)c=Math.round(i+L)%t,g=B.data[1+(y=4*(t*s+c))],f=B.data[y+2],_=B.data[y+3],B.data[0+(C=4*(t*s+i))]=B.data[y+0],B.data[C+1]=g,B.data[C+2]=f,B.data[C+3]=_;for(s=0;s<e;s+=1)for(te=Math.floor(R),h=0;h<x;h+=1){for(i=0;i<te+1;i+=1)g=B.data[1+(y=4*(t*s+i))],f=B.data[y+2],_=B.data[y+3],B.data[0+(C=4*(t*s+2*te-i-1))]=B.data[y+0],B.data[C+1]=g,B.data[C+2]=f,B.data[C+3]=_;te*=2}!function(n,t,e){var f,_,y,C,x,R,i=n.data,s=t.data,c=n.width,h=n.height,d=e.polarCenterX||c/2,g=e.polarCenterY||h/2,b=0,L=0,V=0,B=0,te=Math.sqrt(d*d+g*g);_=c-d,y=h-g,te=(R=Math.sqrt(_*_+y*y))>te?R:te;var ge,Re,Ne,J=h,ve=c,Te=e.polarRotation||0;for(_=0;_<c;_+=1)for(y=0;y<h;y+=1)C=_-d,x=y-g,ge=Math.sqrt(C*C+x*x)*J/te,Re=(Re=(180*Math.atan2(x,C)/Math.PI+360+Te)%360)*ve/360,Ne=Math.floor(Re),b=i[0+(f=4*(Math.floor(ge)*c+Ne))],L=i[f+1],V=i[f+2],B=i[f+3],s[0+(f=4*(y*c+_))]=b,s[f+1]=L,s[f+2]=V,s[f+3]=B}(B,n,{polarRotation:0})}},Mask:function(n){var e=function Rz(n,t){var e=G3(n,0,0),i=G3(n,n.width-1,0),s=G3(n,0,n.height-1),c=G3(n,n.width-1,n.height-1),h=t||10;if(Ka(e,i)<h&&Ka(i,c)<h&&Ka(c,s)<h&&Ka(s,e)<h){for(var d=function kz(n){for(var t=[0,0,0],e=0;e<n.length;e++)t[0]+=n[e][0],t[1]+=n[e][1],t[2]+=n[e][2];return t[0]/=n.length,t[1]/=n.length,t[2]/=n.length,t}([i,e,c,s]),g=[],f=0;f<n.width*n.height;f++){var _=Ka(d,[n.data[4*f],n.data[4*f+1],n.data[4*f+2]]);g[f]=_<h?0:255}return g}}(n,this.threshold());return e&&(e=function R9(n,t,e){for(var i=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(i.length)),c=Math.floor(s/2),h=[],d=0;d<e;d++)for(var g=0;g<t;g++){for(var f=d*t+g,_=0,y=0;y<s;y++)for(var C=0;C<s;C++){var x=d+y-c,b=g+C-c;x>=0&&x<e&&b>=0&&b<t&&(_+=n[x*t+b]*i[y*s+C])}h[f]=2040===_?255:0}return h}(e,n.width,n.height),e=function N9(n,t,e){for(var i=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(i.length)),c=Math.floor(s/2),h=[],d=0;d<e;d++)for(var g=0;g<t;g++){for(var f=d*t+g,_=0,y=0;y<s;y++)for(var C=0;C<s;C++){var x=d+y-c,b=g+C-c;x>=0&&x<e&&b>=0&&b<t&&(_+=n[x*t+b]*i[y*s+C])}h[f]=_>=1020?255:0}return h}(e,n.width,n.height),e=function Fz(n,t,e){for(var i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(i.length)),c=Math.floor(s/2),h=[],d=0;d<e;d++)for(var g=0;g<t;g++){for(var f=d*t+g,_=0,y=0;y<s;y++)for(var C=0;C<s;C++){var x=d+y-c,b=g+C-c;x>=0&&x<e&&b>=0&&b<t&&(_+=n[x*t+b]*i[y*s+C])}h[f]=_}return h}(e,n.width,n.height),function Nz(n,t){for(var e=0;e<n.width*n.height;e++)n.data[4*e+3]=t[e]}(n,e)),n},Noise:function(n){var c,t=255*this.noise(),e=n.data,i=e.length,s=t/2;for(c=0;c<i;c+=4)e[c+0]+=s-2*s*Math.random(),e[c+1]+=s-2*s*Math.random(),e[c+2]+=s-2*s*Math.random()},Pixelate:function(n){var s,c,h,d,g,f,_,x,b,L,V,B,R,te,t=Math.ceil(this.pixelSize()),e=n.width,i=n.height,y=Math.ceil(e/t),C=Math.ceil(i/t),J=n.data;if(t<=0)se.error("pixelSize value can not be <= 0");else for(B=0;B<y;B+=1)for(R=0;R<C;R+=1){for(d=0,g=0,f=0,_=0,b=(x=B*t)+t,V=(L=R*t)+t,te=0,s=x;s<b;s+=1)if(!(s>=e))for(c=L;c<V;c+=1)c>=i||(d+=J[0+(h=4*(e*c+s))],g+=J[h+1],f+=J[h+2],_+=J[h+3],te+=1);for(d/=te,g/=te,f/=te,_/=te,s=x;s<b;s+=1)if(!(s>=e))for(c=L;c<V;c+=1)c>=i||(J[0+(h=4*(e*c+s))]=d,J[h+1]=g,J[h+2]=f,J[h+3]=_)}},Posterize:function(n){var c,t=Math.round(254*this.levels())+1,e=n.data,i=e.length,s=255/t;for(c=0;c<i;c+=1)e[c]=Math.floor(e[c]/s)*s},RGB:function(n){var h,d,t=n.data,e=t.length,i=this.red(),s=this.green(),c=this.blue();for(h=0;h<e;h+=4)t[h]=(d=(.34*t[h]+.5*t[h+1]+.16*t[h+2])/255)*i,t[h+1]=d*s,t[h+2]=d*c,t[h+3]=t[h+3]},RGBA:function(n){var d,g,t=n.data,e=t.length,i=this.red(),s=this.green(),c=this.blue(),h=this.alpha();for(d=0;d<e;d+=4)t[d]=i*h+t[d]*(g=1-h),t[d+1]=s*h+t[d+1]*g,t[d+2]=c*h+t[d+2]*g},Sepia:function(n){var i,s,c,h,t=n.data,e=t.length;for(i=0;i<e;i+=4)s=t[i+0],c=t[i+1],h=t[i+2],t[i+0]=Math.min(255,.393*s+.769*c+.189*h),t[i+1]=Math.min(255,.349*s+.686*c+.168*h),t[i+2]=Math.min(255,.272*s+.534*c+.131*h)},Solarize:function(n){var t=n.data,e=n.width,s=4*e,c=n.height;do{var h=(c-1)*s,d=e;do{var g=h+4*(d-1),f=t[g],_=t[g+1],y=t[g+2];f>127&&(f=255-f),_>127&&(_=255-_),y>127&&(y=255-y),t[g]=f,t[g+1]=_,t[g+2]=y}while(--d)}while(--c)},Threshold:function(n){var s,t=255*this.threshold(),e=n.data,i=e.length;for(s=0;s<i;s+=1)e[s]=e[s]<t?0:255}}});var rt=function(n){return n.frame="frame",n.framePrimary="frame-primary",n.frameInner="frame-inner",n.frameTest="frame-test",n.frameTestPoint="frame-test-point",n.areas="areas",n.areasSkeleton="areas-skeleton",n.areasInner="areas-inner",n.drawingLine="drawingLine",n.activeMullions="active-mullions",n.activeMullionsPoint="active-mullions-point",n.activeCoreStroke="active-core-stroke",n.activeCorePoint="active-core-point",n.mullionEdge="mullion-edge",n.mullionAbstract="mullion-abstract",n.mullions="mullions",n}(rt||{});class qz extends Dl{constructor(t,e,i,s){super({tl:{x:0,y:0},rb:{x:s.getUnitsConfig().width,y:s.getUnitsConfig().height}},s),this.container=t,this.layers=[],this.onClick=new Et.E,this.onDblClick=new Et.E,this.onMouseMove=new Et.E,this.onScale=new Et.E,this.onDrag=new Et.E,this.onChangeStageSize=new Et.E,console.log(t),this.stage=new Na({container:t,name:t,width:e,height:i,draggable:!0}),this.defaultLayer=this.createLayer(t),this.gridLayer=this.createLayer("grid",{draggable:!1}),this.gridLayer.zIndex(0),this.ucsLayer=this.createLayer("ucs",{draggable:!1}),this._unitScale=e/s.getUnitsConfig().width,this._stageScale=1,this.redraw(),this.initEvents()}get stageName(){return this.stage.name()}getStageSize(){return{width:this.stage.width(),height:this.stage.height()}}setStageSize(t){(t.width!==this.stage.width()||t.height!==this.stage.height())&&(this.stage.width(t.width),this.stage.height(t.height))}scale(t){const e=this.stage.scaleX(),i=this.stage.scaleY();return this.stage.scale({x:e*t,y:i*t}),!0}get stageSize(){return this.getStageSize()}set stageSize(t){this.setStageSize(t)}createLayer(t,e){const i=e?{...e,name:t}:{name:t},s=new ps(i);return this.stage.add(s),this.layers.push(s),s}findLayer(t){return this.layers.find(i=>i.attrs.name==t)}getOrCreateLayer(t){return t?this.stage.name()==t?this.defaultLayer:this.findLayer(t)||this.createLayer(t):this.defaultLayer}initEvents(){this.stage.on("click",t=>{this.onClick.next({x:this.viewPort.tl.x+t.evt.offsetX/this._unitScale,y:this.viewPort.tl.y+t.evt.offsetY/this._unitScale})}),this.stage.on("mousemove",t=>{t.evt&&this.onMouseMove.next({x:this.viewPort.tl.x+t.evt.offsetX/this._unitScale,y:this.viewPort.tl.y+t.evt.offsetY/this._unitScale})}),this.stage.on("wheel",t=>{if(t.evt&&1==t.evt.shiftKey){const e=t.evt.deltaY<0?1.1:.9090909090909091;this._stageScale=this._stageScale*e,this._unitScale=this._unitScale*e,this.scale(e),this.setViewPort({tl:{x:this.viewPort.tl.x/e,y:this.viewPort.tl.y/e},rb:{x:this.viewPort.rb.x/e,y:this.viewPort.rb.y/e}},!0),this.onScale.next(e)}}),this.stage.dragBoundFunc(t=>(this.onDrag.next(t),{x:t.x,y:t.y})),this.onDrag.pipe((0,h3.o)(200)).subscribe(t=>{this.setViewPort({tl:{x:-t.x/this._unitScale,y:-t.y/this._unitScale},rb:{x:(-t.x+this.stage.width())/this._unitScale,y:(-t.y+this.stage.height())/this._unitScale}})})}getOnClick(){return this.onClick}getOnMouseMove(){return this.onMouseMove}getOnDblClick(){return this.onDblClick}getObjectById(t){return this.stage.findOne(`#${t}`)}showObject(t){return this.getObjectById(t).show(),!0}hideObject(t){return this.getObjectById(t).hide(),!0}deleteObject(t){const e=this.getObjectById(t);return e&&e.destroy(),!0}deleteObjects(t){return this.stage.find(`#${t}`).forEach(i=>{i.destroy()}),!0}createGroup(t){return this.createGroupInt(t),!0}createGroupInt(t,e){const i=this.getOrCreateLayer(e),s=new e2(t?{id:t}:{id:qs()});return i.add(s),s}checkOrCreateGroup(t){return t?this.getObjectById(t)||this.createGroupInt(t):this.createGroupInt()}lineToKonvaPoints(t){return[t.p1.x,t.p1.y,t.p2.x,t.p2.y]}verticesToKonvaPoints(t){const e=[];return t.forEach(i=>{e.push(i.x),e.push(i.y)}),e}scalePoints(t){return t.map(e=>e*this._unitScale/this._stageScale)}scaleAndFlattenPolygonPoints(t){const e=t.points.reduce((i,s)=>(i.push(s.x,s.y),i),[]);return this.scalePoints(e)}drawArcInt(t,e,i,s){const c=this.checkOrCreateGroup(i),h=[t.radius,t.c.x,t.c.y],[d,g,f]=s?h:this.scalePoints(h),_=new wi({x:g,y:f,innerRadius:d,outerRadius:d,rotation:180*t.startAngle/Math.PI,angle:180*t.angle/Math.PI,...e,strokeScaleEnabled:!1});this.defaultLayer.add(_),c&&_&&c.add(_)}drawEdge(t,e,i,s){return"arc"===e.type?this.drawArc(t,e,i,s):this.drawLine(t,e,i,s)}drawLine(t,e,i,s){const c=this.lineToKonvaPoints(e),h={...this.guiConfig.getLineConfig(i),id:t};return this.drawLineInt(c,h,s,i.notScale),!0}drawArc(t,e,i,s){const c={...this.guiConfig.getLineConfig(i),id:t};return this.drawArcInt(e,c,s,i.notScale),!0}drawPolygon(t,e,i,s){const c=this.verticesToKonvaPoints(e),h={...this.guiConfig.getPolygonConfig(i),id:t};return this.drawLineInt(c,h,s,i.notScale),!0}drawLineInt(t,e,i,s){const c=this.checkOrCreateGroup(i),h=s?t:this.scalePoints(t),d=new J1({points:h,...e,strokeScaleEnabled:!1});this.defaultLayer.add(d),c&&d&&c.add(d)}drawPolygonByLines(t,e,i,s){const c={...this.guiConfig.getPolygonConfig(i),id:t,fill:i.color};return e.forEach(h=>{"p1"in h?this.drawLineInt([h.p1.x,h.p1.y,h.p2.x,h.p2.y],c,s,i.notScale):this.drawArcInt(h,c,s,i.notScale)}),!0}drawShapeEdge(t,e,i){if("s"in t){const s=[t.radius,t.c.x,t.c.y],[c,h,d]=this.scalePoints(s);let g,f,_=!1;t.customEnd.x===i.x&&t.customEnd.y===i.y?(g=t.startAngle,f=g+t.angle):(g=t.startAngle+t.angle,f=t.startAngle,_=!0),e.arc(h,d,c,g,f,_)}else{const[s,c]=this.scalePoints([t.p2.x,t.p2.y]);e.lineTo(s,c)}}drawFilledDivider(t,e,i){const s=this.checkOrCreateGroup(i),c=new $9.Shape({sceneFunc:(h,d)=>{h.beginPath();const[g,f]=this.scalePoints([t.points?.[0]?.x,t.points?.[0]?.y]);h.moveTo(g,f),t.edgeArcs.forEach((_,y)=>{this.drawShapeEdge(_,h,t.points.at(y+1)||t.points[0])}),h.fillStrokeShape(d)},fill:"blue"});this.defaultLayer.add(c),s&&c&&s.add(c)}drawFilledPolygon(t,e,i,s){e.dividers.length&&this.drawFilledDivider(e.dividers[0].mullions[0],i,rt.mullions);const c=this.checkOrCreateGroup(s),h=new $9.Shape({sceneFunc:(d,g)=>{d.beginPath();const[f,_]=this.scalePoints([e.points[0].x,e.points[0].y]);d.moveTo(f,_),e.edgeArcs.forEach((B,R)=>{this.drawShapeEdge(B,d,e.points.at(R+1)||e.points[0])});const y=[...e.innerPolygon.points.map(B=>new Qe(B.x,B.y,B.s))],C=y[y.length-1].s;for(let B=y.length-1;B>0;B--){const R=y[B-1].s;y[B].s=R?-R:0}y[0].s=C?-C:0;const x=new Yn(...y.reverse()),b=x.points[0],[L,V]=this.scalePoints([b.x,b.y]);d.moveTo(L,V),x.edgeArcs.forEach((B,R)=>{this.drawShapeEdge(B,d,y.at(R+1)||y[0])}),d.fillStrokeShape(g)},fill:i.color});return this.defaultLayer.add(h),c&&c.add(h),!0}drawPoint(t,e,i,s){const c={...this.guiConfig.getPolygonConfig(i),id:t},h=this.checkOrCreateGroup(s),d=i.notScale?[e.x,e.y,i.radius]:this.scalePoints([e.x,e.y,i.radius||0]),g=new Xi({x:d[0],y:d[1],radius:d[2]||4,...c,strokeScaleEnabled:!1});return this.defaultLayer.add(g),h&&g&&h.add(g),!0}drawCircle(t,e,i,s){const c={...this.guiConfig.getPolygonConfig(i),id:t},h=this.checkOrCreateGroup(s),d=i.notScale?[e.c.x,e.c.y,e.r]:this.scalePoints([e.c.x,e.c.y,e.r]),g=new Xi({x:d[0],y:d[1],radius:d[2],...c,strokeScaleEnabled:!1});return this.defaultLayer.add(g),h&&g&&h.add(g),!0}drawRect(t,e,i,s){const c={...this.guiConfig.getPolygonConfig(i),id:t},h=this.checkOrCreateGroup(s),d=new W2({x:e.p.x,y:e.p.y,width:e.w,height:e.h,...c,strokeScaleEnabled:!1});return this.defaultLayer.add(d),h&&d&&h.add(d),!0}drawGrid(t){this.gridLayer.removeChildren();const e=this.guiConfig.getGridConfig();return null!=new ei(t,this._unitScale,this._stageScale,this.gridLayer,{minorStep:e.minorStep,majorStep:e.majorStep,minorLine:this.guiConfig.getLineConfig(e.minorLine),majorLine:this.guiConfig.getLineConfig(e.majorLine)})}drawUCS(t){const e=this.guiConfig.getUCSConfig(),i=this.guiConfig.getLineConfig(e.xAxis),s=this.guiConfig.getLineConfig(e.yAxis);return this.ucsLayer.removeChildren(),new P3(t,this.ucsLayer,{xLine:i,yLine:s,xLength:75,yLength:75}).scale(),!0}}function U3(){return $9.Util.getRandomColor()}class j9{getLineConfig(t){switch(t.line){case It.PolygonLine:return{stroke:"blue",strokeWidth:1.5};case It.SimpleLine:case It.FrameBeamLine:return{stroke:"red",strokeWidth:1.5};case It.GripsLine:return{stroke:"blue",strokeWidth:1};case It.GridMinorLine:return{stroke:"#ebf0ec",strokeWidth:1};case It.GridMajorLine:return{stroke:"lightgrey",strokeWidth:1};case It.UCSAxisLine:return{stroke:"black",strokeWidth:1};case It.DummyLine:return{stroke:"gray",strokeWidth:1.5};case It.RandomLine:{const e=t.color||U3();return{fill:e,stroke:e,strokeWidth:0}}case It.CustomLine:return{stroke:t.color?t.color:"red",strokeWidth:t.strokeWidth?t.strokeWidth:1}}}getPolygonConfig(t){const e=this.getLineConfig(t),i=t.fill?e.stroke:void 0;return{...e,closed:!0,fill:i}}getFrameConfig(){return{beam:{mark:!0,line:It.FrameBeamLine,fill:!1},grips:{frame:{line:It.GripsLine},center:{type:"rectangle",fill:!0,width:36,height:12},vertex:{type:"square",fill:!0,size:24}},offset:75}}getGridConfig(){return{minorStep:100,majorStep:5,minorLine:{line:It.GridMinorLine},majorLine:{line:It.GridMajorLine}}}getDefaultStageConfig(){return{width:5e3,height:4e3}}getUCSConfig(){return{origin:{x:0,y:0},xAxisText:"X",yAxisText:"Y",xAxis:{line:It.UCSAxisLine},yAxis:{line:It.UCSAxisLine}}}getUnitsConfig(){return{width:5e3,height:3e3}}}let ir=(()=>{class n{constructor(){this.editors=[],this.oWidth=5e3,this.oHeight=2e3,this.sizeOffset=5,this.onSizeChanged=new Et.E,this.onCreateEditor=new Et.E,this.onClick=new Et.E,this.onMouseMove=new Et.E,this.konvaConfig=new j9;const e=this.konvaConfig.getDefaultStageConfig();this.oWidth=e.width,this.oHeight=e.height}findEditor(e){return this.editors.find(i=>i.name==e)}removeEditor(e){this.editors=this.editors.filter(i=>i.name!==e)}removeOtherEditors(e){this.editors=this.editors.filter(i=>i.name===e)}startResize(){this.editors.forEach(e=>{e.gui&&e.gui.setStageSize({width:1,height:1})})}changeEditorSize(e,i){const s=this.findEditor(e);if(s)return 0===i.width&&0===i.height?(this.removeEditor(s.name),!1):(s.size=i,s.gui&&s.gui.setStageSize({width:i.width-this.sizeOffset,height:i.height-this.sizeOffset}),this.onSizeChanged.next(s),!0);if(i.width>=1&&i.width>=1){const c=this.createEditor(e,i);this.editors.push(c),this.onCreateEditor.next(c),this.onSizeChanged.next(c)}return!0}createEditor(e,i){const s=new qz(e,i.width-this.sizeOffset,i.height-this.sizeOffset,this.konvaConfig);return s.onClick.subscribe(h=>{this.onClick.next(h)}),s.onMouseMove.subscribe(h=>{this.onMouseMove.next({name:e,coord:h})}),{name:e,type:"konva",size:i,gui:s}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const B1={frame:U3(),testFrame:"rgba(255,20,20,0.3)",active:"green",activePoint:"black",activeEdge:"red"};class ti{static getActiveMullionsItem(t,e=0){return`${rt.activeMullions}-${t}.${e}`}static getAreasSkeletonItem(t,e=0){return`${rt.areasSkeleton}-${t}.${e}`}static getAreasInnerItem(t,e=0){return`${rt.areasInner}-${t}.${e}`}static getMullionEdgeItem(t,e=0){return`${rt.mullionEdge}-${t}.${e}`}static getMullionAbstractItem(t,e=0){return`${rt.mullionAbstract}-${t}.${e}`}static getMullionsItem(t,e=0){return`${rt.mullions}-${t}.${e}`}}class Ya{constructor(t){this.originX=2500,this.originY=3e3,this.editor=t}drawFrames(t){this.editor.gui?.drawPolygonByLines(rt.frame,t.edgeArcs,{line:It.SimpleLine},rt.framePrimary),this.editor.gui?.drawPolygonByLines(rt.frame,t.innerPolygon.edgeArcs,{line:It.CustomLine,color:B1.frame},rt.frameInner)}drawFrameEdge(t){this.editor.gui?.drawEdge(rt.frame,t,{line:It.SimpleLine},rt.framePrimary)}drawActiveImpost(t){t&&(t.mullions.forEach((e,i)=>{this.editor.gui?.drawPolygonByLines(ti.getActiveMullionsItem(t.id,i),e.edgeArcs,{line:It.CustomLine,color:B1.active,fill:!0,strokeWidth:5},rt.activeMullions)}),xe.getPointsOfEdge(t.edge).forEach(e=>{this.editor.gui?.drawPoint(rt.activeMullions,e,{line:It.CustomLine,color:B1.activePoint,fill:!0,radius:20},rt.activeMullions)}),this.editor.gui?.drawPoint(rt.activeMullions,xe.getEdgeCenter(t.edge),{line:It.CustomLine,color:B1.activeEdge,fill:!0,radius:20},rt.activeMullions))}drawActiveCoreStroke(t){this.editor.gui?.drawPolygonByLines(rt.activeCoreStroke,t.edgeArcs,{line:It.CustomLine,color:B1.active,fill:!0,strokeWidth:5},rt.activeCoreStroke),t.points.forEach(e=>{this.editor.gui?.drawPoint(rt.activeCoreStroke,e,{line:It.CustomLine,color:B1.activePoint,fill:!0,radius:20},rt.activeCoreStroke)}),t.edgeArcs.forEach(e=>{const i=xe.getEdgeCenter(e);this.editor.gui?.drawPoint(rt.activeCoreStroke,i,{line:It.CustomLine,color:B1.activeEdge,fill:!0,radius:20},rt.activeCoreStroke)}),this.editor.gui?.drawPolygonByLines(rt.activeCoreStroke,t.innerPolygon.edgeArcs,{line:It.CustomLine,color:B1.active,fill:!0,strokeWidth:1},rt.activeCoreStroke)}drawSkeleton(t){0===t.areas.length&&this.editor.gui?.drawPolygonByLines(ti.getAreasSkeletonItem(t.id),t.edgeArcs.map(e=>e.shift(this.originX,0)),{line:It.RandomLine},rt.areas),t.areas.forEach(e=>{this.drawSkeleton(e)})}drawInnerArea(t){0===t.areas.length&&this.editor.gui?.drawPolygonByLines(ti.getAreasInnerItem(t.id),t.innerPolygon.edgeArcs.map(e=>e.shift(this.originX,this.originY)),{line:It.RandomLine},rt.areas),t.areas.forEach(e=>{this.drawInnerArea(e)})}drawConvertedArea(t){t&&(this.editor.gui?.drawFilledPolygon(ti.getAreasInnerItem(t.id),t,{line:It.RandomLine,color:t.fillColor},rt.areas),t.areas.forEach(e=>{this.drawConvertedArea(e)}))}drawAreaDivider(t){const e=U3();this.editor.gui?.drawEdge(ti.getMullionAbstractItem(t.id),t.edge.shift(0,this.originY),{line:It.CustomLine,color:e,strokeWidth:5},rt.mullionEdge),this.editor.gui?.drawEdge(ti.getMullionEdgeItem(t.id),t.edge,{line:It.CustomLine,color:e,strokeWidth:1},rt.mullionEdge),t.mullions.forEach((i,s)=>{this.editor.gui?.drawPolygonByLines(ti.getMullionsItem(t.id,s),i.edgeArcs,{line:It.CustomLine,color:e},rt.mullions)})}drawAreaDividers(t){t.dividers.forEach(e=>{this.drawAreaDivider(e)}),t.areas.forEach(e=>{this.drawAreaDividers(e)})}addedTestPoint(t,e){this.editor.gui?.drawPoint(rt.frameTestPoint,t,{radius:e,line:It.SimpleLine},rt.framePrimary)}clearTestPoints(){this.editor.gui?.deleteObjects(rt.frameTestPoint)}clearDivider(t){null!=t&&(this.editor.gui?.deleteObjects(ti.getMullionEdgeItem(t.id)),this.editor.gui?.deleteObjects(ti.getMullionAbstractItem(t.id)),t.mullions.forEach((e,i)=>{this.editor.gui?.deleteObjects(ti.getMullionsItem(t.id,i))}))}clearDividers(t){t.forEach(e=>this.clearDivider(e))}clearAllDividers(){this.editor.gui?.deleteObjects(rt.mullionEdge),this.editor.gui?.deleteObjects(rt.mullions)}clearDrawingLine(){this.editor.gui?.deleteObjects(rt.drawingLine)}clearAreas(){this.editor.gui?.deleteObjects(rt.areas)}clearFrames(){this.editor.gui?.deleteObjects(rt.frame),this.editor.gui?.deleteObjects(rt.frameTest)}clearActiveImposts(){this.editor.gui?.deleteObjects(rt.activeMullions),this.editor.gui?.deleteObjects(rt.activeMullionsPoint)}clearActiveCoreStroke(){this.editor.gui?.deleteObjects(rt.activeCoreStroke),this.editor.gui?.deleteObjects(rt.activeCorePoint)}updateFrames(t){this.clearFrames(),this.drawFrames(t)}updateDrawingAreas(t){this.editor.gui?.deleteObjects(rt.areas),this.drawInnerArea(t),this.drawSkeleton(t)}updateDrawingLine(t){this.editor.gui?.deleteObjects(rt.drawingLine),this.editor.gui?.drawEdge(rt.drawingLine,t,{line:It.GripsLine})}updateFrameTestEdges(t){this.editor.gui?.deleteObjects(rt.frameTest),t.forEach(e=>this.editor.gui?.drawEdge(rt.frameTest,e,{line:It.CustomLine,color:B1.testFrame,strokeWidth:5},rt.framePrimary))}updateActiveImpost(t){this.clearActiveImposts(),t&&this.drawActiveImpost(t)}updateActiveMullionsPoint(t,e=!0){this.editor.gui?.deleteObjects(rt.activeMullionsPoint),this.editor.gui?.drawPoint(rt.activeMullionsPoint,t,{line:It.CustomLine,color:e?B1.activePoint:B1.activeEdge,fill:!0,radius:50},rt.activeMullionsPoint)}updateDivider(t){this.editor.gui?.deleteObjects(ti.getMullionEdgeItem(t.id)),this.editor.gui?.deleteObjects(ti.getMullionAbstractItem(t.id)),t.mullions.forEach((e,i)=>{this.editor.gui?.deleteObjects(ti.getMullionsItem(t.id,i))}),this.drawAreaDivider(t)}updateActiveCoreStroke(t){this.clearActiveCoreStroke(),this.drawActiveCoreStroke(t)}updateActiveCorePoint(t,e=!0){this.editor.gui?.deleteObjects(rt.activeCorePoint),this.editor.gui?.drawPoint(rt.activeCorePoint,t,{line:It.CustomLine,color:e?B1.activePoint:B1.activeEdge,fill:!0,radius:50},rt.activeCorePoint)}updateAllDividers(t){this.clearAllDividers(),t.forEach(e=>this.drawAreaDivider(e))}}var Qn=function(n){return n.add="add",n.delete="delete",n}(Qn||{});class $3{constructor(t){this.prev=[],this.next=[],this.addCallback=t[Qn.add],this.deleteCallback=t[Qn.delete]}add(t){this.prev.push(t),this.next=[]}undo(){const t=this.prev.pop();if(null!=t){switch(t.type){case Qn.add:this.deleteCallback(t.args);break;case Qn.delete:this.addCallback(t.args)}this.next.push(t)}}redo(){const t=this.next.pop();if(null!=t){switch(t.type){case Qn.add:this.addCallback(t.args);break;case Qn.delete:this.deleteCallback(t.args)}this.prev.push(t)}}}let Qa=(()=>{class n{constructor(e){this.editorsService=e,this.store=(0,r.uUt)(Ee.m_),this.constructions=[],this.onNewConstruction=new Et.E,this.onEndMullionDraw=new Et.E,this.editorsService.onSizeChanged.subscribe(i=>{if(i.gui){const s=this.findConstruction(i.name);if(s){const c=i.gui.getStageSize();!s.created&&c.width>=1&&c.height>=1&&s.model&&(s.created=!0)}}})}findConstruction(e){return this.constructions.find(i=>i.name===e)}getNoNameNextIndex(){let e=0;return this.constructions.forEach(i=>{const s=i.name;if(s.includes("noname-")){const c=s.slice(7),h=parseInt(c);h>e&&(e=h)}}),e+1}showConstruction(e){const i=e.model;let s=!1;return i&&i.name&&(this.findConstruction(i.name)||(this.constructions.push({...e}),this.onNewConstruction.next(e),s=!0)),new t1._(c=>{c.next(s),c.complete()})}parseConstruction(e){const i=JSON.parse(e),c=i&&i.name?i.name:"noname-"+this.getNoNameNextIndex(),h={id:qs(),name:c,model:i,builder:void 0,created:!1};return new t1._(d=>{d.next(h),d.complete()})}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(ir))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Pi=(0,Ee.SM)({source:"Construction",events:{parseConstruction:(0,Ee.ov)(),parseConstructionSuccess:(0,Ee.ov)(),parseConstructionFailure:(0,Ee.ov)(),closeConstruction:(0,Ee.ov)(),resetConstruction:(0,Ee.w1)()}});var j3=E(5692),W9=E(6645);class ws{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){return V8(this,t)}do(t,e,i){const{kind:s,value:c,error:h}=this;return"N"===s?t?.(c):"E"===s?e?.(h):i?.()}accept(t,e,i){var s;return(0,Si.m)(null===(s=t)||void 0===s?void 0:s.next)?this.observe(t):this.do(t,e,i)}toObservable(){const{kind:t,value:e,error:i}=this,s="N"===t?(0,st.of)(e):"E"===t?y2(()=>i):"C"===t?C2.k:0;if(!s)throw new TypeError(`Unexpected notification kind ${t}`);return s}static createNext(t){return new ws("N",t)}static createError(t){return new ws("E",void 0,t)}static createComplete(){return ws.completeNotification}}function V8(n,t){var e,i,s;const{kind:c,value:h,error:d}=n;if("string"!=typeof c)throw new TypeError('Invalid notification, missing "kind"');"N"===c?null===(e=t.next)||void 0===e||e.call(t,h):"E"===c?null===(i=t.error)||void 0===i||i.call(t,d):null===(s=t.complete)||void 0===s||s.call(t)}function Y9(n,t,e,i){return(0,I1.i)((s,c)=>{let h;t&&"function"!=typeof t?({duration:e,element:h,connector:i}=t):h=t;const d=new Map,g=b=>{d.forEach(b),b(c)},f=b=>g(L=>L.error(b));let _=0,y=!1;const C=new c1.I(c,b=>{try{const L=n(b);let V=d.get(L);if(!V){d.set(L,V=i?i():new Et.E);const B=function x(b,L){const V=new t1._(B=>{_++;const R=L.subscribe(B);return()=>{R.unsubscribe(),0==--_&&y&&C.unsubscribe()}});return V.key=b,V}(L,V);if(c.next(B),e){const R=(0,c1.e)(V,()=>{V.complete(),R?.unsubscribe()},void 0,void 0,()=>d.delete(L));C.add((0,Tr.Uv)(e(B)).subscribe(R))}}V.next(h?h(b):b)}catch(L){f(L)}},()=>g(b=>b.complete()),f,()=>d.clear(),()=>(y=!0,0===_));s.subscribe(C)})}function H8(n,t){return t?e=>e.pipe(H8((i,s)=>(0,Tr.Uv)(n(i,s)).pipe((0,xt.k)((c,h)=>t(i,c,s,h))))):(0,I1.i)((e,i)=>{let s=0,c=null,h=!1;e.subscribe((0,c1.e)(i,d=>{c||(c=(0,c1.e)(i,void 0,()=>{c=null,h&&i.complete()}),(0,Tr.Uv)(n(d,s++)).subscribe(c))},()=>{h=!0,!c&&i.complete()}))})}ws.completeNotification=new ws("C");const Q9={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},W3="__@ngrx/effects_create__";function o2(n,t={}){const e=t.functional?n:n(),i={...Q9,...t};return Object.defineProperty(e,W3,{value:i}),e}function X9(n){return Object.getPrototypeOf(n)}function I8(n){return"function"==typeof n}function T8(n){return n.filter(I8)}function eg(n,t,e){const i=X9(n),c=i&&"Object"!==i.constructor.name?i.constructor.name:null,h=function Z9(n){return function Qz(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(W3))&&n[i][W3].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][W3]}))}(n)}(n).map(({propertyName:d,dispatch:g,useEffectsErrorHandler:f})=>{const _="function"==typeof n[d]?n[d]():n[d],y=f?e(_,t):_;return!1===g?y.pipe(function q9(){return(0,I1.i)((n,t)=>{n.subscribe((0,c1.e)(t,W9.K))})}()):y.pipe(function Kz(){return(0,I1.i)((n,t)=>{n.subscribe((0,c1.e)(t,e=>{t.next(ws.createNext(e))},()=>{t.next(ws.createComplete()),t.complete()},e=>{t.next(ws.createError(e)),t.complete()}))})}()).pipe((0,xt.k)(x=>({effect:n[d],notification:x,propertyName:d,sourceName:c,sourceInstance:n})))});return(0,j3.U)(...h)}function D8(n,t,e=10){return n.pipe((0,b2.a)(i=>(t&&t.handleError(i),e<=1?n:D8(n,t,e-1))))}let _s=(()=>{class n extends t1._{constructor(e){super(),e&&(this.source=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(Ee.qg))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zs(...n){return(0,p1.I)(t=>n.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}const A8=new r.UbH("@ngrx/effects Internal Root Guard"),Za=new r.UbH("@ngrx/effects User Provided Effects"),q3=new r.UbH("@ngrx/effects Internal Root Effects"),O8=new r.UbH("@ngrx/effects Internal Root Effects Instances"),B8=new r.UbH("@ngrx/effects Internal Feature Effects"),ng=new r.UbH("@ngrx/effects Internal Feature Effects Instance Groups"),Xz=new r.UbH("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>D8}),K3="@ngrx/effects/init";(0,Ee.Uh)(K3);function ug(n){return Xa(n,"ngrxOnInitEffects")}function Xa(n,t){return n&&t in n&&"function"==typeof n[t]}let k8=(()=>{class n extends Et.E{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(Y9(e=>function Zz(n){return!!n.constructor&&"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(e)?X9(e):e),(0,vt.O)(e=>e.pipe(Y9(R8))),(0,vt.O)(e=>{const i=e.pipe(H8(c=>function N8(n,t){return e=>{const i=eg(e,n,t);return function hg(n){return Xa(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(c)),(0,xt.k)(c=>(function ig(n,t){if("N"===n.notification.kind){const e=n.notification.value;!function sg(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&t.handleError(new Error(`Effect ${function og({propertyName:n,sourceInstance:t,sourceName:e}){const i="function"==typeof t[n];return e?`"${e}.${String(n)}${i?"()":""}"`:`"${String(n)}()"`}(n)} dispatched an invalid action: ${function rg(n){try{return JSON.stringify(n)}catch{return n}}(e)}`))}}(c,this.errorHandler),c.notification)),(0,p1.I)(c=>"N"===c.kind&&null!=c.value),function Yz(){return(0,I1.i)((n,t)=>{n.subscribe((0,c1.e)(t,e=>V8(e,t)))})}()),s=e.pipe((0,x2.U)(1),(0,p1.I)(ug),(0,xt.k)(c=>c.ngrxOnInitEffects()));return(0,j3.U)(i,s)}))}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(r.eAe),r.CoB(Xz))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R8(n){return function cg(n){return Xa(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let Q3=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(k8),r.CoB(Ee.m_))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z3=(()=>{class n{constructor(e,i,s,c,h,d,g){this.sources=e,i.start();for(const f of c)e.addEffects(f);s.dispatch({type:K3})}addEffects(e){this.sources.addEffects(e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(k8),r.CoB(Q3),r.CoB(Ee.m_),r.CoB(O8),r.CoB(Ee.WA,8),r.CoB(Ee.Y9,8),r.CoB(A8,8))};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})(),Jz=(()=>{class n{constructor(e,i,s,c){const h=i.flat();for(const d of h)e.addEffects(d)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(Z3),r.CoB(ng),r.CoB(Ee.WA,8),r.CoB(Ee.Y9,8))};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})(),dg=(()=>{class n{static forFeature(...e){const i=e.flat(),s=T8(i);return{ngModule:Jz,providers:[s,{provide:B8,multi:!0,useValue:i},{provide:Za,multi:!0,useValue:[]},{provide:ng,multi:!0,useFactory:X3,deps:[B8,Za]}]}}static forRoot(...e){const i=e.flat(),s=T8(i);return{ngModule:Z3,providers:[s,{provide:q3,useValue:[i]},{provide:A8,useFactory:ey},{provide:Za,multi:!0,useValue:[]},{provide:O8,useFactory:X3,deps:[q3,Za]}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})();function X3(n,t){const e=[];for(const i of n)e.push(...i);for(const i of t)e.push(...i);return e.map(i=>function J9(n){return n instanceof r.UbH||I8(n)}(i)?(0,r.uUt)(i):i)}function ey(){const n=(0,r.uUt)(Q3,{optional:!0,skipSelf:!0}),t=(0,r.uUt)(q3,{self:!0});if((1!==t.length||0!==t[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}const Fn=(0,Ee.SM)({source:"Construction List",events:{addConstruction:(0,Ee.ov)(),selectConstruction:(0,Ee.ov)(),resetSelectConstruction:(0,Ee.w1)(),removeConstruction:(0,Ee.ov)(),saveConstruction:(0,Ee.ov)(),showedConstruction:(0,Ee.ov)(),saveEditedConstruction:(0,Ee.ov)()}}),ny=o2((n=(0,r.uUt)(_s),t=(0,r.uUt)(Qa))=>n.pipe(zs(Pi.parseConstruction),(0,vt.O)(e=>t.parseConstruction(e.content).pipe((0,xt.k)(i=>Pi.parseConstructionSuccess({construction:i})),(0,b2.a)(i=>(0,st.of)(Pi.parseConstructionFailure({error:i.message})))))),{functional:!0}),iy=o2((n=(0,r.uUt)(_s))=>n.pipe(zs(Pi.parseConstructionSuccess),(0,xt.k)(t=>(console.log("load Construction Effect"),Fn.addConstruction({construction:t.construction})))),{functional:!0}),sr={content:"",construction:{id:"",name:"",model:void 0},parsing:!1,parsed:!1,error:null},F8=(0,Ee.sj)({name:"construction",reducer:(0,Ee.EF)(sr,(0,Ee.on)(Pi.parseConstruction,(n,t)=>({...n,content:t.content,parsing:!0})),(0,Ee.on)(Pi.parseConstructionSuccess,(n,t)=>({...n,construction:{...t.construction},parsing:!1,parsed:!0})),(0,Ee.on)(Pi.parseConstructionFailure,(n,t)=>({...n,construction:{...sr.construction},parsing:!1,parsed:!1,error:t.error})),(0,Ee.on)(Pi.closeConstruction,(n,t)=>({...n,construction:{...sr.construction},loaded:!1,loading:!1})),(0,Ee.on)(Pi.resetConstruction,n=>({...sr})))}),gg=o2((n=(0,r.uUt)(_s))=>n.pipe(zs(Fn.addConstruction),(0,xt.k)(t=>Pi.resetConstruction())),{functional:!0}),mg=o2((n=(0,r.uUt)(_s),t=(0,r.uUt)(Qa))=>n.pipe(zs(Fn.addConstruction),H8(e=>t.showConstruction(e.construction).pipe((0,xt.k)(i=>Fn.showedConstruction({status:i}))))),{functional:!0}),J3=(0,Ee.sj)({name:"constructionList",reducer:(0,Ee.EF)({constructions:[],selected:void 0},(0,Ee.on)(Fn.addConstruction,(n,t)=>n.constructions.find(i=>i.name===t.construction.name)?{...n}:{...n,constructions:[...n.constructions,t.construction]}),(0,Ee.on)(Fn.selectConstruction,(n,t)=>{const e=n.constructions.find(i=>i.id===t.id);return e?{...n,selected:e}:{...n}}),(0,Ee.on)(Fn.resetSelectConstruction,n=>{const t={...n};return delete t.selected,t}),(0,Ee.on)(Fn.removeConstruction,(n,t)=>{const e=n.constructions.findIndex(i=>i.id==t.id);if(e>=0&&e<n.constructions.length){const i=n.constructions,s=i.slice(0,e).concat(i.slice(e+1));return{...n,constructions:s}}return{...n}}),(0,Ee.on)(Fn.saveEditedConstruction,(n,t)=>{const e=n.constructions.map(i=>(i.name===t.name&&(i={...i,model:t.construction}),i));return{...n,constructions:e}}))}),{selectConstructions:sy,selectSelected:pg}=J3,eh=((0,Ee.M3)(pg,n=>n?n.id:void 0),{selectConstructions:sy,selectSelected:pg});function G8(n){return(0,Ee.SM)({source:n,events:{"Active Mode Toggled":(0,Ee.w1)(),"Active Mode Changed":(0,Ee.ov)()}})}const wg=G8("_Strict"),th=G8("_Orthogonality"),or=(0,Ee.SM)({source:"Modebar",events:{"Add Mode Item":(0,Ee.ov)(),"Delete Mode Item":(0,Ee.ov)(),"Active Changed":(0,Ee.ov)()}}),oy=o2((n=(0,r.uUt)(_s))=>n.pipe(zs(Fn.addConstruction),(0,xt.k)(t=>or.addModeItem({id:t.construction.id}))),{functional:!0}),SE=o2((n=(0,r.uUt)(_s))=>n.pipe(zs(Fn.removeConstruction),(0,xt.k)(t=>or.addModeItem({id:t.id}))),{functional:!0}),ry=o2((n=(0,r.uUt)(_s))=>n.pipe(zs(Fn.selectConstruction,Fn.resetSelectConstruction),(0,xt.k)(t=>or.activeChanged("id"in t?{id:t.id}:{id:void 0}))),{functional:!0}),_g={strict:!1,orthogonality:!1},nh=(0,Ee.sj)({name:"modebar",reducer:(0,Ee.EF)({activeId:void 0,statuses:{}},(0,Ee.on)(wg.activeModeToggled,n=>{const t=n.activeId;return null==t?{...n}:{...n,statuses:{...n.statuses,[t]:{...n.statuses[t],strict:!n.statuses[t].strict}}}}),(0,Ee.on)(wg.activeModeChanged,(n,t)=>{const e=n.activeId;return null==e?{...n}:{...n,statuses:{...n.statuses,[e]:{...n.statuses[e],strict:t.value}}}}),(0,Ee.on)(th.activeModeToggled,n=>{const t=n.activeId;return null==t?{...n}:{...n,statuses:{...n.statuses,[t]:{...n.statuses[t],orthogonality:!n.statuses[t].orthogonality}}}}),(0,Ee.on)(th.activeModeChanged,(n,t)=>{const e=n.activeId;return null==e?{...n}:{...n,statuses:{...n.statuses,[e]:{...n.statuses[e],orthogonality:t.value}}}}),(0,Ee.on)(or.addModeItem,(n,t)=>({...n,statuses:{...n.statuses,[t.id]:t.initState??_g}})),(0,Ee.on)(or.deleteModeItem,(n,t)=>{const e={...n};return delete e.statuses[t.id],e}),(0,Ee.on)(or.activeChanged,(n,t)=>({...n,activeId:t.id})))}),{selectStatuses:ih,selectActiveId:yg}=nh,ly=(0,Ee.M3)(ih,yg,(n,t)=>null==t?null:n[t]);function U8(n){return(0,Ee.SM)({source:n,events:{Enable:(0,Ee.w1)(),Enabled:(0,Ee.w1)(),Disable:(0,Ee.w1)(),Disabled:(0,Ee.w1)(),"Start Using":(0,Ee.w1)(),"Finished Using":(0,Ee.w1)()}})}const rr=U8("_Load"),Q2=U8("_Save"),Ji=U8("_Free Mullion Draw");var en=function(n){return n.enable="enable",n.enabled="enabled",n.disable="disable",n.disabled="disabled",n.startUsing="start using",n.finishedUsing="finished using",n}(en||{});const sh=(0,Ee.sj)({name:"toolbar",reducer:(0,Ee.EF)({load:en.enabled,save:en.disabled,fmd:en.disabled},(0,Ee.on)(rr.enable,(n,t)=>({...n,load:en.enable})),(0,Ee.on)(rr.disable,(n,t)=>({...n,load:en.disable})),(0,Ee.on)(rr.enabled,(n,t)=>({...n,load:en.enabled})),(0,Ee.on)(rr.disabled,(n,t)=>({...n,load:en.disabled})),(0,Ee.on)(rr.startUsing,(n,t)=>({...n,load:en.startUsing})),(0,Ee.on)(rr.finishedUsing,(n,t)=>({...n,load:en.finishedUsing})),(0,Ee.on)(Q2.enable,(n,t)=>({...n,save:en.enable})),(0,Ee.on)(Q2.disable,(n,t)=>({...n,save:en.disable})),(0,Ee.on)(Q2.enabled,(n,t)=>({...n,save:en.enabled})),(0,Ee.on)(Q2.disabled,(n,t)=>({...n,save:en.disabled})),(0,Ee.on)(Q2.startUsing,(n,t)=>({...n,save:en.startUsing})),(0,Ee.on)(Q2.finishedUsing,(n,t)=>({...n,save:en.finishedUsing})),(0,Ee.on)(Ji.enable,(n,t)=>({...n,fmd:en.enable})),(0,Ee.on)(Ji.disable,(n,t)=>({...n,fmd:en.disable})),(0,Ee.on)(Ji.enabled,(n,t)=>({...n,fmd:en.enabled})),(0,Ee.on)(Ji.disabled,(n,t)=>({...n,fmd:en.disabled})),(0,Ee.on)(Ji.startUsing,(n,t)=>({...n,fmd:en.startUsing})),(0,Ee.on)(Ji.finishedUsing,(n,t)=>({...n,fmd:en.finishedUsing})))}),{selectLoad:$8,selectSave:j8,selectFmd:W8}=sh,oh=((0,Ee.M3)($8,n=>n),(0,Ee.M3)(j8,n=>n),(0,Ee.M3)(W8,n=>n),{selectLoad:$8,selectSave:j8,selectFmd:W8}),cy=[I,G,N];let Ja=(()=>{class n extends gs{pathId;ngOnInit(){this.pathId="url(#"+Fs()+")"}static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0)(1,"g"),r.wR5(2,"path",1),r.C$Y(),r.I0R(3,"defs")(4,"clipPath",2),r.wR5(5,"rect",3),r.C$Y()()()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),r.yG2(),r.e48("clip-path",s.pathId),r.yG2(3),r.E7m("id",s.pathId))},encapsulation:2})}return n})();function ay(n,t){1&n&&r.C_f(0)}function e0(n,t){if(1&n&&r.wR5(0,"span",8),2&n){const e=r.GaO(3);r.m8U("p-button-loading-icon pi-spin "+e.loadingIcon),r.E7m("ngClass",e.iconClass()),r.e48("aria-hidden",!0)("data-pc-section","loadingicon")}}function Mg(n,t){if(1&n&&r.wR5(0,"SpinnerIcon",9),2&n){const e=r.GaO(3);r.E7m("styleClass",e.spinnerIconClass())("spin",!0),r.e48("aria-hidden",!0)("data-pc-section","loadingicon")}}function hy(n,t){if(1&n&&(r.SAx(0),r.yuY(1,e0,1,5,"span",6)(2,Mg,1,4,"SpinnerIcon",7),r.k70()),2&n){const e=r.GaO(2);r.yG2(),r.E7m("ngIf",e.loadingIcon),r.yG2(),r.E7m("ngIf",!e.loadingIcon)}}function uy(n,t){}function P1(n,t){1&n&&r.yuY(0,uy,0,0,"ng-template")}function tc(n,t){if(1&n&&(r.I0R(0,"span",10),r.yuY(1,P1,1,0,null,1),r.C$Y()),2&n){const e=r.GaO(2);r.E7m("ngClass",e.iconClass()),r.e48("aria-hidden",!0)("data-pc-section","loadingicon"),r.yG2(),r.E7m("ngTemplateOutlet",e.loadingIconTemplate)}}function dy(n,t){if(1&n&&(r.SAx(0),r.yuY(1,hy,3,2,"ng-container",2)(2,tc,2,4,"span",5),r.k70()),2&n){const e=r.GaO();r.yG2(),r.E7m("ngIf",!e.loadingIconTemplate),r.yG2(),r.E7m("ngIf",e.loadingIconTemplate)}}function vy(n,t){if(1&n&&r.wR5(0,"span",8),2&n){const e=r.GaO(2);r.m8U(e.icon),r.E7m("ngClass",e.iconClass()),r.e48("data-pc-section","icon")}}function TE(n,t){}function DE(n,t){if(1&n&&r.yuY(0,TE,0,0,"ng-template",12),2&n){const e=r.GaO(3);r.E7m("ngIf",!e.icon)}}function t0(n,t){if(1&n&&(r.I0R(0,"span",8),r.yuY(1,DE,1,1,null,1),r.C$Y()),2&n){const e=r.GaO(2);r.E7m("ngClass",e.iconClass()),r.e48("data-pc-section","icon"),r.yG2(),r.E7m("ngTemplateOutlet",e.iconTemplate)}}function gy(n,t){if(1&n&&(r.SAx(0),r.yuY(1,vy,1,4,"span",6)(2,t0,2,3,"span",11),r.k70()),2&n){const e=r.GaO();r.yG2(),r.E7m("ngIf",e.icon&&!e.iconTemplate),r.yG2(),r.E7m("ngIf",!e.icon&&e.iconTemplate)}}function q8(n,t){if(1&n&&(r.I0R(0,"span",13),r.OEk(1),r.C$Y()),2&n){const e=r.GaO();r.e48("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),r.yG2(),r.cNF(e.label)}}function my(n,t){if(1&n&&(r.I0R(0,"span",8),r.OEk(1),r.C$Y()),2&n){const e=r.GaO();r.m8U(e.badgeClass),r.E7m("ngClass",e.badgeStyleClass()),r.e48("data-pc-section","badge"),r.yG2(),r.cNF(e.badge)}}const xg=["*"],Z2={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let fy=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Z2);spinnerIcon='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">\n        <g clip-path="url(#clip0_417_21408)">\n            <path\n                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"\n                fill="currentColor"\n            />\n        </g>\n        <defs>\n            <clipPath id="clip0_417_21408">\n                <rect width="14" height="14" fill="white" />\n            </clipPath>\n        </defs>\n    </svg>';constructor(e,i){this.el=e,this.document=i}ngAfterViewInit(){oe.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const e=[Z2.button,Z2.component];return this.icon&&!this.label&&ft.isEmpty(this.htmlElement.textContent)&&e.push(Z2.iconOnly),this.loading&&(e.push(Z2.disabled,Z2.loading),!this.icon&&this.label&&e.push(Z2.labelOnly),this.icon&&!this.label&&!ft.isEmpty(this.htmlElement.textContent)&&e.push(Z2.iconOnly)),e}setStyleClass(){const e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!oe.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!oe.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let s=this.label?"p-button-icon-"+this.iconPos:null;s&&oe.addClass(i,s);let c=this.getIconClass();c&&oe.addMultipleClasses(i,c),!this.loadingIcon&&this.loading&&(i.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let e=oe.findSingle(this.htmlElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.htmlElement.removeChild(e)}updateIcon(){let e=oe.findSingle(this.htmlElement,".p-button-icon"),i=oe.findSingle(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e?e.className=this.iconPos?"p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(X))};static \u0275dir=r.Sc5({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}})}return n})(),nc=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;size;style;styleClass;badgeClass;ariaLabel;onClick=new r._w7;onFocus=new r._w7;onBlur=new r._w7;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[i])=>e+` ${i}`,"p-button-loading-icon")}iconClass(){return{"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label}}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-disabled":this.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}static \u0275fac=function(i){return new(i||n)(r.GI1(r.GMv))};static \u0275cmp=r.In1({type:n,selectors:[["p-button"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,s){2&i&&r.eAK("p-disabled",s.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",raised:"raised",rounded:"rounded",text:"text",plain:"plain",severity:"severity",outlined:"outlined",link:"link",size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:xg,decls:7,vars:12,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],["class","p-button-loading-icon",3,"ngClass",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[1,"p-button-loading-icon",3,"ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,s){1&i&&(r.kPM(),r.I0R(0,"button",0),r.qCj("click",function(h){return s.onClick.emit(h)})("focus",function(h){return s.onFocus.emit(h)})("blur",function(h){return s.onBlur.emit(h)}),r._Xx(1),r.yuY(2,ay,1,0,"ng-container",1)(3,dy,3,2,"ng-container",2)(4,gy,3,2,"ng-container",2)(5,q8,2,3,"span",3)(6,my,2,5,"span",4),r.C$Y()),2&i&&(r.E7m("ngStyle",s.style)("disabled",s.disabled||s.loading)("ngClass",s.buttonClass),r.e48("type",s.type)("aria-label",s.ariaLabel)("data-pc-name","button")("data-pc-section","root"),r.yG2(2),r.E7m("ngTemplateOutlet",s.contentTemplate),r.yG2(),r.E7m("ngIf",s.loading),r.yG2(),r.E7m("ngIf",!s.loading),r.yG2(),r.E7m("ngIf",!s.contentTemplate&&s.label),r.yG2(),r.E7m("ngIf",!s.contentTemplate&&s.badge))},dependencies:()=>[e1,zn,Pe,Ve,A2,Ja],encapsulation:2,changeDetection:0})}return n})(),ys=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,O2,z1,Ja,z1]})}return n})();function bg(n,t){if(1&n&&(r.I0R(0,"span",2),r.OEk(1),r.C$Y()),2&n){const e=r.GaO();r.yG2(),r.cNF(e.icon)}}let py=(()=>{class n{constructor(){this.name="",this.state=en.disabled,this.icon="",this.disabled=!1,this.onClick=new r._w7}click(){this.onClick.emit(this.name)}getStyle(){let e="p-button-sm";switch(this.state){case en.enabled:case en.disabled:case en.finishedUsing:e+=" p-button-secondary";break;case en.enable:case en.disable:case en.startUsing:e+=" p-button-success"}return this.disabled=this.state===en.disabled,e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-toolbar-button"]],inputs:{name:"name",state:"state",icon:"icon",disabled:"disabled"},outputs:{onClick:"onClick"},standalone:!0,features:[r.UHJ],decls:2,vars:3,consts:[[3,"styleClass","disabled","onClick"],["class","material-icons",4,"ngIf"],[1,"material-icons"]],template:function(i,s){1&i&&(r.I0R(0,"p-button",0),r.qCj("onClick",function(){return s.click()}),r.yuY(1,bg,2,1,"span",1),r.C$Y()),2&i&&(r.E7m("styleClass",s.getStyle())("disabled",s.disabled),r.yG2(),r.E7m("ngIf",""!==s.icon))},dependencies:[nn,zn,ys,nc]})}return n})();function rh(n,t){1&n&&r.C_f(0)}function K8(n,t){if(1&n&&(r.I0R(0,"div",4),r.yuY(1,rh,1,0,"ng-container",5),r.C$Y()),2&n){const e=r.GaO();r.e48("data-pc-section","start"),r.yG2(),r.E7m("ngTemplateOutlet",e.startTemplate)}}function AE(n,t){1&n&&r.C_f(0)}function Eg(n,t){if(1&n&&(r.I0R(0,"div",6),r.yuY(1,AE,1,0,"ng-container",5),r.C$Y()),2&n){const e=r.GaO();r.e48("data-pc-section","center"),r.yG2(),r.E7m("ngTemplateOutlet",e.centerTemplate)}}function wy(n,t){1&n&&r.C_f(0)}function Sg(n,t){if(1&n&&(r.I0R(0,"div",7),r.yuY(1,wy,1,0,"ng-container",5),r.C$Y()),2&n){const e=r.GaO();r.e48("data-pc-section","end"),r.yG2(),r.E7m("ngTemplateOutlet",e.endTemplate)}}const ic=["*"];let Lg=(()=>{class n{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":case"left":this.startTemplate=e.template;break;case"end":case"right":this.endTemplate=e.template;break;case"center":this.centerTemplate=e.template}})}static \u0275fac=function(i){return new(i||n)(r.GI1(r.GMv))};static \u0275cmp=r.In1({type:n,selectors:[["p-toolbar"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:ic,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(i,s){1&i&&(r.kPM(),r.I0R(0,"div",0),r._Xx(1),r.yuY(2,K8,2,2,"div",1)(3,Eg,2,2,"div",2)(4,Sg,2,2,"div",3),r.C$Y()),2&i&&(r.m8U(s.styleClass),r.E7m("ngClass","p-toolbar p-component")("ngStyle",s.style),r.e48("aria-labelledby",s.ariaLabelledBy)("data-pc-name","toolbar"),r.yG2(2),r.E7m("ngIf",s.startTemplate),r.yG2(),r.E7m("ngIf",s.centerTemplate),r.yG2(),r.E7m("ngIf",s.endTemplate))},dependencies:[e1,zn,Pe,Ve],styles:["@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}\n"],encapsulation:2,changeDetection:0})}return n})(),Y8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn]})}return n})();function Q8(n,t){if(1&n){const e=r.KQA();r.I0R(0,"lib-winconf-toolbar-button",3),r.qCj("onClick",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onClickButton(s))}),r.wVc(1,"async"),r.C$Y()}if(2&n){const e=t.$implicit;r.E7m("name",e.name)("state",r.kDX(1,3,e.state))("icon",e.icon)}}var Z8=function(n){return n.Enabled="enabled",n.Disabled="disabled",n.Selected="selected",n}(Z8||{});let _y=(()=>{class n{constructor(){this.store=(0,r.uUt)(Ee.m_),this.buttons=[{name:"Load",icon:"open_in_new",state:this.store.select(oh.selectLoad),action:rr.startUsing()},{name:"Save",icon:"save",state:this.store.select(oh.selectSave),action:Q2.startUsing()},{name:"Free mullion draw",icon:"edit",state:this.store.select(oh.selectFmd),action:Ji.startUsing()}]}onClickButton(e){console.log("on click toolbar button: ",e);const i=this.buttons.find(s=>s.name===e);i&&(console.log("on click toolbar button, dispatch action: ",i.action),this.store.dispatch(i.action))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-configurator-toolbar"]],standalone:!0,features:[r.UHJ],decls:3,vars:1,consts:[[1,"buttons-left"],[1,"buttons-1"],[3,"name","state","icon","onClick",4,"ngFor","ngForOf"],[3,"name","state","icon","onClick"]],template:function(i,s){1&i&&(r.I0R(0,"div",0)(1,"p-toolbar",1),r.yuY(2,Q8,2,5,"lib-winconf-toolbar-button",2),r.C$Y()()),2&i&&(r.yG2(2),r.E7m("ngForOf",s.buttons))},dependencies:[nn,ri,lo,py,Y8,Lg],styles:[".buttons-left[_ngcontent-%COMP%]{margin:4px;display:flex}p-toolbar[_ngcontent-%COMP%]{flex:1 0 auto;padding:0}[_nghost-%COMP%]     .p-toolbar{padding:0}.buttons-1[_ngcontent-%COMP%]{display:flex;margin-left:5px}"]})}return n})(),zy=(()=>{class n{constructor(){this.valueStr="",this.digits=0}set coord(e){this.valueStr=e?`${Math.round(e.x*Math.pow(10,this.digits))/Math.pow(10,this.digits)}, ${Math.round(e.y*Math.pow(10,this.digits))/Math.pow(10,this.digits)}`:""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-custom-coord-button"]],inputs:{digits:"digits",coord:"coord"},standalone:!0,features:[r.UHJ],decls:1,vars:1,consts:[["styleClass","p-button-sm p-button-secondary",1,"coord-button",3,"label"]],template:function(i,s){1&i&&r.wR5(0,"p-button",0),2&i&&r.E7m("label",s.valueStr)},dependencies:[ys,nc,nn],styles:["[_nghost-%COMP%]     .p-button{width:170px}"]})}return n})();function yy(n,t){if(1&n){const e=r.KQA();r.I0R(0,"p-button",3),r.qCj("onClick",function(){r.usT(e);const s=r.GaO();return r.CGJ(s.click())}),r.I0R(1,"span",4),r.OEk(2),r.C$Y()()}if(2&n){const e=r.GaO();r.yG2(2),r.cNF(e.icon)}}function Vg(n,t){if(1&n){const e=r.KQA();r.I0R(0,"p-button",5),r.qCj("onClick",function(){r.usT(e);const s=r.GaO();return r.CGJ(s.click())}),r.I0R(1,"span",4),r.OEk(2),r.C$Y()()}if(2&n){const e=r.GaO();r.yG2(2),r.cNF(e.icon)}}let Hg=(()=>{class n{constructor(){this.checked=!0,this.icon="",this.onClick=new r._w7}click(){this.onClick.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-custom-toogle-button"]],inputs:{checked:"checked",icon:"icon"},outputs:{onClick:"onClick"},standalone:!0,features:[r.UHJ],decls:3,vars:2,consts:[[1,"container"],["class","checked","styleClass","p-button-sm p-button-secondary p-button-success",3,"onClick",4,"ngIf"],["class","checked","styleClass","p-button-sm p-button-rounded p-button-text p-button-secondary",3,"onClick",4,"ngIf"],["styleClass","p-button-sm p-button-secondary p-button-success",1,"checked",3,"onClick"],[1,"material-icons"],["styleClass","p-button-sm p-button-rounded p-button-text p-button-secondary",1,"checked",3,"onClick"]],template:function(i,s){1&i&&(r.I0R(0,"div",0),r.yuY(1,yy,3,1,"p-button",1)(2,Vg,3,1,"p-button",2),r.C$Y()),2&i&&(r.yG2(),r.E7m("ngIf",s.checked),r.yG2(),r.E7m("ngIf",!s.checked))},dependencies:[ys,nc,nn,zn]})}return n})();class lh{}class lr{}class zi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),c=s.toLowerCase(),h=e.slice(i+1).trim();this.maybeSetNormalizedName(s,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof zi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new zi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof zi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const c=t.value;if(c){let h=this.headers.get(e);if(!h)return;h=h.filter(d=>-1===c.indexOf(d)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(c=>c.toString()),s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Cy{encodeKey(t){return X8(t)}encodeValue(t){return X8(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const My=/%(\d[a-f0-9])/gi,Tg={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X8(n){return encodeURIComponent(n).replace(My,(t,e)=>Tg[e]??t)}function n0(n){return`${n}`}class r2{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Cy,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ig(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const c=s.indexOf("="),[h,d]=-1==c?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,c)),t.decodeValue(s.slice(c+1))],g=e.get(h)||[];g.push(d),e.set(h,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],s=Array.isArray(i)?i.map(n0):[n0(i)];this.map.set(e,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(c=>{e.push({param:i,value:c,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new r2({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(n0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(n0(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class xy{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function J8(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function by(n){return typeof Blob<"u"&&n instanceof Blob}function Ey(n){return typeof FormData<"u"&&n instanceof FormData}class ch{constructor(t,e,i,s){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function PE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,c=s):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new zi,this.context??=new xy,this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+h}}else this.params=new r2,this.urlWithParams=e}serializeBody(){return null===this.body?null:J8(this.body)||by(this.body)||Ey(this.body)||function kE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof r2?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ey(this.body)?null:by(this.body)?this.body.type||null:J8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof r2?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,f=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((y,C)=>y.set(C,t.setHeaders[C]),g)),t.setParams&&(f=Object.keys(t.setParams).reduce((y,C)=>y.set(C,t.setParams[C]),f)),new ch(e,i,c,{params:f,headers:g,context:_,reportProgress:d,responseType:s,withCredentials:h})}}var cr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(cr||{});class Dg{constructor(t,e=ah.Ok,i="OK"){this.headers=t.headers||new zi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class eu extends Dg{constructor(t={}){super(t),this.type=cr.ResponseHeader}clone(t={}){return new eu({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sc extends Dg{constructor(t={}){super(t),this.type=cr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ar extends Dg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var ah=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(ah||{});function hh(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let tu=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let c;if(e instanceof ch)c=e;else{let g,f;g=s.headers instanceof zi?s.headers:new zi(s.headers),s.params&&(f=s.params instanceof r2?s.params:new r2({fromObject:s.params})),c=new ch(e,i,void 0!==s.body?s.body:null,{headers:g,context:s.context,params:f,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const h=(0,st.of)(c).pipe((0,Or.m)(g=>this.handler.handle(g)));if(e instanceof ch||"events"===s.observe)return h;const d=h.pipe((0,p1.I)(g=>g instanceof sc));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return d.pipe((0,xt.k)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return d.pipe((0,xt.k)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return d.pipe((0,xt.k)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return d.pipe((0,xt.k)(g=>g.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new r2).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,hh(s,i))}post(e,i,s={}){return this.request("POST",e,hh(s,i))}put(e,i,s={}){return this.request("PUT",e,hh(s,i))}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(lh))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();function Og(n,t){return t(n)}function Vy(n,t){return(e,i)=>t.intercept(e,{handle:s=>n(s,i)})}const Hy=new r.UbH(""),o0=new r.UbH(""),Pg=new r.UbH(""),kg=new r.UbH("");function Iy(){let n=null;return(t,e)=>{null===n&&(n=((0,r.uUt)(Hy,{optional:!0})??[]).reduceRight(Vy,Og));const i=(0,r.uUt)(r.g9Y),s=i.add();return n(t,e).pipe(E2(()=>i.remove(s)))}}let Rg=(()=>{class n extends lh{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,r.uUt)(r.g9Y);const s=(0,r.uUt)(kg,{optional:!0});this.backend=s??e}handle(e){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(o0),...this.injector.get(Pg,[])]));this.chain=s.reduceRight((c,h)=>function Bg(n,t,e){return(i,s)=>(0,r.SMS)(e,()=>t(i,c=>n(c,s)))}(c,h,this.injector),Og)}const i=this.pendingTasks.add();return this.chain(e,s=>this.backend.handle(s)).pipe(E2(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(lr),r.CoB(r.SIe))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();const Gg=/^\)\]\}',?\n/;let Ug=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new r.OBp(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,Je.Q)(i.\u0275loadImpl()):(0,st.of)(null)).pipe((0,qn.G)(()=>new t1._(c=>{const h=i.build();if(h.open(e.method,e.urlWithParams),e.withCredentials&&(h.withCredentials=!0),e.headers.forEach((L,V)=>h.setRequestHeader(L,V.join(","))),e.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const L=e.detectContentTypeHeader();null!==L&&h.setRequestHeader("Content-Type",L)}if(e.responseType){const L=e.responseType.toLowerCase();h.responseType="json"!==L?L:"text"}const d=e.serializeBody();let g=null;const f=()=>{if(null!==g)return g;const L=h.statusText||"OK",V=new zi(h.getAllResponseHeaders()),B=function WE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(h)||e.url;return g=new eu({headers:V,status:h.status,statusText:L,url:B}),g},_=()=>{let{headers:L,status:V,statusText:B,url:R}=f(),te=null;V!==ah.NoContent&&(te=typeof h.response>"u"?h.responseText:h.response),0===V&&(V=te?ah.Ok:0);let J=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof te){const ve=te;te=te.replace(Gg,"");try{te=""!==te?JSON.parse(te):null}catch(ge){te=ve,J&&(J=!1,te={error:ge,text:te})}}J?(c.next(new sc({body:te,headers:L,status:V,statusText:B,url:R||void 0})),c.complete()):c.error(new ar({error:te,headers:L,status:V,statusText:B,url:R||void 0}))},y=L=>{const{url:V}=f(),B=new ar({error:L,status:h.status||0,statusText:h.statusText||"Unknown Error",url:V||void 0});c.error(B)};let C=!1;const x=L=>{C||(c.next(f()),C=!0);let V={type:cr.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(V.total=L.total),"text"===e.responseType&&h.responseText&&(V.partialText=h.responseText),c.next(V)},b=L=>{let V={type:cr.UploadProgress,loaded:L.loaded};L.lengthComputable&&(V.total=L.total),c.next(V)};return h.addEventListener("load",_),h.addEventListener("error",y),h.addEventListener("timeout",y),h.addEventListener("abort",y),e.reportProgress&&(h.addEventListener("progress",x),null!==d&&h.upload&&h.upload.addEventListener("progress",b)),h.send(d),c.next({type:cr.Sent}),()=>{h.removeEventListener("error",y),h.removeEventListener("abort",y),h.removeEventListener("load",_),h.removeEventListener("timeout",y),e.reportProgress&&(h.removeEventListener("progress",x),null!==d&&h.upload&&h.upload.removeEventListener("progress",b)),h.readyState!==h.DONE&&h.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(m1))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();const dh=new r.UbH(""),jg=new r.UbH("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qg=new r.UbH("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vh{}let ou=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Cc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(X),r.CoB(r.AHE),r.CoB(jg))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();function Kg(n,t){const e=n.url.toLowerCase();if(!(0,r.uUt)(dh)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,r.uUt)(vh).getToken(),s=(0,r.uUt)(qg);return null!=i&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,i)})),t(n)}var Cs=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Cs||{});function By(...n){const t=[tu,Ug,Rg,{provide:lh,useExisting:Rg},{provide:lr,useExisting:Ug},{provide:o0,useValue:Kg,multi:!0},{provide:dh,useValue:!0},{provide:vh,useClass:ou}];for(const e of n)t.push(...e.\u0275providers);return(0,r.AFj)(t)}const Yg=new r.UbH("");function qE(){return function l2(n,t){return{\u0275kind:n,\u0275providers:t}}(Cs.LegacyInterceptors,[{provide:Yg,useFactory:Iy},{provide:o0,useExisting:Yg,multi:!0}])}let cu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({providers:[By(qE())]})}return n})(),$y=(()=>{class n{constructor(){this.http=(0,r.uUt)(tu)}openFile(e){const i=new FileReader;return i.readAsText(e),new t1._(s=>{i.onloadend=()=>{i.result&&(s.next({fileName:e.name,text:i.result}),s.complete())}})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ni=(0,Ee.SM)({source:"Open File",events:{selectFile:(0,Ee.ov)(),cancelSelectFile:(0,Ee.ov)(),openFile:(0,Ee.ov)(),openFileSuccess:(0,Ee.ov)(),openFileFailure:(0,Ee.ov)(),resetOpenFile:(0,Ee.w1)()}}),ZE=o2((n=(0,r.uUt)(_s),t=(0,r.uUt)($y))=>n.pipe(zs(ni.openFile),(0,vt.O)(e=>t.openFile(e.file).pipe((0,xt.k)(i=>ni.openFileSuccess({content:i.text})),(0,b2.a)(i=>(0,st.of)(ni.openFileFailure({error:i.message})))))),{functional:!0}),jy=o2((n=(0,r.uUt)(_s))=>n.pipe(zs(ni.openFileSuccess),(0,xt.k)(t=>Pi.parseConstruction({content:t.content}))),{functional:!0}),du=[Y],gh={select:!1,selected:!1,group:"",extension:"",file:null,fileName:"",fileContent:"",error:null},c2=(0,Ee.sj)({name:"openFile",reducer:(0,Ee.EF)(gh,(0,Ee.on)(ni.selectFile,(n,t)=>({...n,select:!0,group:t.group,extension:t.extension})),(0,Ee.on)(ni.cancelSelectFile,n=>({...gh})),(0,Ee.on)(ni.openFile,(n,t)=>({...n,select:!1,selected:!0,fileName:t.file.name,file:t.file})),(0,Ee.on)(ni.openFileSuccess,(n,t)=>({...n,fileContent:t.content})),(0,Ee.on)(ni.openFileFailure,(n,t)=>({...n,error:t.error})),(0,Ee.on)(ni.resetOpenFile,()=>({...gh})))}),{selectSelect:nm}=c2,Wy={selectSelect:nm},XE=["readFile"];let im=(()=>{class n{constructor(){this.store=(0,r.uUt)(Ee.m_),this.openFile=new r._w7,this.group="",this.extension=""}ngAfterViewInit(){this.store.select(Wy.selectSelect).subscribe(e=>{e&&this.readFile.nativeElement.click()})}open(e){console.log("open-file, open event: ",e),e.target&&e.target.files.length>0&&(this.openFile.emit(e.target.files[0]),e.target.value="")}cancel(){this.store.dispatch(ni.cancelSelectFile({group:this.group}))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-open-file"]],viewQuery:function(i,s){if(1&i&&r.CC$(XE,5),2&i){let c;r.wto(c=r.Gqi())&&(s.readFile=c.first)}},inputs:{group:"group",extension:"extension"},outputs:{openFile:"openFile"},standalone:!0,features:[r.UHJ],decls:2,vars:1,consts:[["type","file",1,"file-input",3,"accept","change","cancel"],["readFile",""]],template:function(i,s){1&i&&(r.I0R(0,"input",0,1),r.qCj("change",function(h){return s.open(h)})("cancel",function(){return s.cancel()}),r.C$Y()),2&i&&r.E7m("accept",s.extension)},styles:[".file-input[_ngcontent-%COMP%]{display:none}"]})}return n})(),qy=(()=>{class n{constructor(){this.store=(0,r.uUt)(Ee.m_),this.strict=!1,this.orthogonality=!1,this.digits=0,this.store.select(ly).subscribe(e=>{null!=e&&(this.strict=e.strict,this.orthogonality=e.orthogonality)})}toggleStrict(){const e=wg.activeModeToggled();console.log("on click modebar button (strict), dispatch action: ",e),this.store.dispatch(e)}toggleOrthogonality(){const e=th.activeModeToggled();console.log("on click modebar button (orthogonality), dispatch action: ",e),this.store.dispatch(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-configurator-statusbar"]],inputs:{mousePos:"mousePos"},standalone:!0,features:[r.UHJ],decls:4,vars:4,consts:[[1,"panel"],[3,"coord","digits"],["icon","grid_4x4",1,"button",3,"checked","onClick"],["icon","apps",1,"button",3,"checked","onClick"]],template:function(i,s){1&i&&(r.I0R(0,"p-toolbar",0),r.wR5(1,"lib-winconf-custom-coord-button",1),r.I0R(2,"lib-winconf-custom-toogle-button",2),r.qCj("onClick",function(){return s.toggleOrthogonality()}),r.C$Y(),r.I0R(3,"lib-winconf-custom-toogle-button",3),r.qCj("onClick",function(){return s.toggleStrict()}),r.C$Y()()),2&i&&(r.yG2(),r.E7m("coord",s.mousePos)("digits",s.digits),r.yG2(),r.E7m("checked",s.orthogonality),r.yG2(),r.E7m("checked",s.strict))},dependencies:[zy,Hg,Y8,Lg],styles:[".panel[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}p-toolbar[_ngcontent-%COMP%]{flex:1 0 auto}[_nghost-%COMP%]     .p-toolbar{padding:4px}.button[_ngcontent-%COMP%]{flex:1 0 auto}[_nghost-%COMP%]     .p-button{font-size:18px}.mouse-pos[_ngcontent-%COMP%]{width:200px}"]})}return n})(),oc=(()=>{class n extends gs{static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0),r.wR5(1,"path",1),r.C$Y()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})();function JE(n,t){1&n&&r.C_f(0)}function Ky(n,t){if(1&n&&(r.SAx(0),r.yuY(1,JE,1,0,"ng-container",3),r.k70()),2&n){const e=r.GaO(2);r.yG2(),r.E7m("ngTemplateOutlet",e.contentTemplate)}}function sm(n,t){if(1&n&&(r.I0R(0,"div",1),r._Xx(1),r.yuY(2,Ky,2,1,"ng-container",2),r.C$Y()),2&n){const e=r.GaO();r.E7m("hidden",!e.selected),r.e48("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),r.yG2(2),r.E7m("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const om=["*"],eS=["content"],tS=["navbar"],nS=["prevBtn"],rm=["nextBtn"],lm=["inkbar"],Yy=["elementToObserve"];function Qy(n,t){1&n&&r.wR5(0,"ChevronLeftIcon"),2&n&&r.e48("aria-hidden",!0)}function iS(n,t){}function sS(n,t){1&n&&r.yuY(0,iS,0,0,"ng-template")}function oS(n,t){if(1&n){const e=r.KQA();r.I0R(0,"button",13,14),r.qCj("click",function(){r.usT(e);const s=r.GaO();return r.CGJ(s.navBackward())}),r.yuY(2,Qy,1,1,"ChevronLeftIcon",15)(3,sS,1,0,null,16),r.C$Y()}if(2&n){const e=r.GaO();r.e48("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),r.yG2(2),r.E7m("ngIf",!e.previousIconTemplate),r.yG2(),r.E7m("ngTemplateOutlet",e.previousIconTemplate)}}function rS(n,t){if(1&n&&r.wR5(0,"span",25),2&n){const e=r.GaO(3).$implicit;r.E7m("ngClass",e.leftIcon)}}function lS(n,t){}function cm(n,t){1&n&&r.yuY(0,lS,0,0,"ng-template")}function mh(n,t){if(1&n&&(r.I0R(0,"span",26),r.yuY(1,cm,1,0,null,16),r.C$Y()),2&n){const e=r.GaO(3).$implicit;r.yG2(),r.E7m("ngTemplateOutlet",e.leftIconTemplate)}}function Zy(n,t){if(1&n&&r.wR5(0,"span",27),2&n){const e=r.GaO(3).$implicit;r.E7m("ngClass",e.rightIcon)}}function Xy(n,t){}function am(n,t){1&n&&r.yuY(0,Xy,0,0,"ng-template")}function ur(n,t){if(1&n&&(r.I0R(0,"span",28),r.yuY(1,am,1,0,null,16),r.C$Y()),2&n){const e=r.GaO(3).$implicit;r.yG2(),r.E7m("ngTemplateOutlet",e.rightIconTemplate)}}function hm(n,t){if(1&n&&(r.SAx(0),r.yuY(1,rS,1,1,"span",20)(2,mh,2,1,"span",21),r.I0R(3,"span",22),r.OEk(4),r.C$Y(),r.yuY(5,Zy,1,1,"span",23)(6,ur,2,1,"span",24),r.k70()),2&n){const e=r.GaO(2).$implicit;r.yG2(),r.E7m("ngIf",e.leftIcon&&!e.leftIconTemplate),r.yG2(),r.E7m("ngIf",e.leftIconTemplate),r.yG2(2),r.cNF(e.header),r.yG2(),r.E7m("ngIf",e.rightIcon&&!e.rightIconTemplate),r.yG2(),r.E7m("ngIf",e.rightIconTemplate)}}function vu(n,t){1&n&&r.C_f(0)}function gu(n,t){if(1&n){const e=r.KQA();r.I0R(0,"TimesIcon",31),r.qCj("click",function(s){r.usT(e);const c=r.GaO(3).$implicit,h=r.GaO();return r.CGJ(h.close(s,c))}),r.C$Y()}2&n&&r.E7m("styleClass","p-tabview-close")}function Jy(n,t){1&n&&r.wR5(0,"span",32)}function mu(n,t){}function fu(n,t){1&n&&r.yuY(0,mu,0,0,"ng-template")}function fh(n,t){if(1&n&&(r.SAx(0),r.yuY(1,gu,1,1,"TimesIcon",29)(2,Jy,1,0,"span",30)(3,fu,1,0,null,16),r.k70()),2&n){const e=r.GaO(2).$implicit;r.yG2(),r.E7m("ngIf",!e.closeIconTemplate),r.yG2(),r.E7m("ngIf",e.closeIconTemplate),r.yG2(),r.E7m("ngTemplateOutlet",e.closeIconTemplate)}}const cS=(n,t)=>({"p-highlight":n,"p-disabled":t});function aS(n,t){if(1&n){const e=r.KQA();r.I0R(0,"li",18)(1,"a",19),r.qCj("click",function(s){r.usT(e);const c=r.GaO().$implicit,h=r.GaO();return r.CGJ(h.open(s,c))})("keydown",function(s){r.usT(e);const c=r.GaO().$implicit,h=r.GaO();return r.CGJ(h.onTabKeyDown(s,c))}),r.yuY(2,hm,7,5,"ng-container",15)(3,vu,1,0,"ng-container",16)(4,fh,4,3,"ng-container",15),r.C$Y()()}if(2&n){const e=r.GaO(),i=e.$implicit,s=e.index,c=r.GaO();r.m8U(i.headerStyleClass),r.E7m("ngClass",r.IBC(19,cS,i.selected,i.disabled))("ngStyle",i.headerStyle),r.e48("data-p-disabled",i.disabled),r.yG2(),r.E7m("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),r.e48("id",c.getTabHeaderActionId(i.id))("aria-controls",c.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":c.tabindex)("aria-disabled",i.disabled)("data-pc-index",s)("data-pc-section","headeraction"),r.yG2(),r.E7m("ngIf",!i.headerTemplate),r.yG2(),r.E7m("ngTemplateOutlet",i.headerTemplate),r.yG2(),r.E7m("ngIf",i.closable)}}function hS(n,t){1&n&&r.yuY(0,aS,5,22,"li",17),2&n&&r.E7m("ngIf",!t.$implicit.closed)}function um(n,t){1&n&&r.wR5(0,"ChevronRightIcon"),2&n&&r.e48("aria-hidden",!0)}function eC(n,t){}function tC(n,t){1&n&&r.yuY(0,eC,0,0,"ng-template")}function nC(n,t){if(1&n){const e=r.KQA();r.I0R(0,"button",33,34),r.qCj("click",function(){r.usT(e);const s=r.GaO();return r.CGJ(s.navForward())}),r.yuY(2,um,1,1,"ChevronRightIcon",15)(3,tC,1,0,null,16),r.C$Y()}if(2&n){const e=r.GaO();r.e48("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),r.yG2(2),r.E7m("ngIf",!e.nextIconTemplate),r.yG2(),r.E7m("ngTemplateOutlet",e.nextIconTemplate)}}const iC=n=>({"p-tabview p-component":!0,"p-tabview-scrollable":n});let r0=(()=>{class n{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,i,s,c){this.el=i,this.viewContainer=s,this.cd=c,this.tabView=e,this.id=Fs()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||n)(r.GI1((0,r.wd)(()=>pu)),r.GI1(r.GMv),r.GI1(r.y8U),r.GI1(r.kD9))};static \u0275cmp=r.In1({type:n,selectors:[["p-tabPanel"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:om,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,s){1&i&&(r.kPM(),r.yuY(0,sm,3,6,"div",0)),2&i&&r.E7m("ngIf",!s.closed)},dependencies:[zn,Pe],encapsulation:2})}return n})(),pu=(()=>{class n{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new r._w7;onClose=new r._w7;activeIndexChange=new r._w7;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,i,s,c){this.platformId=e,this.el=i,this.cd=s,this.renderer=c}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template}})}ngAfterViewInit(){lt(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}bindResizeObserver(){this.container=oe.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=oe.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){lt(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,i){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":case"PageUp":this.onTabHomeKey(e);break;case"End":case"PageDown":this.onTabEndKey(e);break;case"Enter":case"Space":this.open(e,i)}}onTabArrowLeftKey(e){const i=this.findPrevHeaderAction(e.target.parentElement),s=oe.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,s):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){const i=this.findNextHeaderAction(e.target.parentElement),s=oe.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,s):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){const i=this.findFirstHeaderAction(),s=oe.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,s),e.preventDefault()}onTabEndKey(e){const i=this.findLastHeaderAction(),s=oe.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,s),e.preventDefault()}changeFocusedTab(e,i,s){i&&(oe.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(e,this.tabs[s])}findNextHeaderAction(e,i=!1){const s=i?e:e.nextElementSibling;return s?oe.getAttribute(s,"data-p-disabled")||"inkbar"===oe.getAttribute(s,"data-pc-section")?this.findNextHeaderAction(s):oe.findSingle(s,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){const s=i?e:e.previousElementSibling;return s?oe.getAttribute(s,"data-p-disabled")||"inkbar"===oe.getAttribute(s,"data-pc-section")?this.findPrevHeaderAction(s):oe.findSingle(s,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const e=this.navbar.nativeElement.lastElementChild,i="inkbar"===oe.getAttribute(e,"data-pc-section")?e.previousElementSibling:e;return this.findPrevHeaderAction(i,!0)}open(e,i){if(i.disabled)e&&e.preventDefault();else{if(!i.selected){let s=this.findSelectedTab();s&&(s.selected=!1),this.tabChanged=!0,i.selected=!0;let c=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(c),this.onChange.emit({originalEvent:e,index:c}),this.updateScrollBar(c)}e&&e.preventDefault()}}close(e,i){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:e,index:this.findTabIndex(i)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let i=0;i<this.tabs.length;i++){let s=this.tabs[i];if(!s.closed&&!e.disabled){s.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let i=-1;for(let s=0;s<this.tabs.length;s++)if(this.tabs[s]==e){i=s;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(lt(this.platformId)&&this.navbar){const e=oe.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=oe.getWidth(e)+"px",this.inkbar.nativeElement.style.left=oe.getOffset(e).left-oe.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){this.navbar.nativeElement.children[e].scrollIntoView({block:"nearest"})}updateButtonState(){const e=this.content.nativeElement,{scrollLeft:i,scrollWidth:s}=e,c=oe.getWidth(e);this.backwardIsDisabled=0===i,this.forwardIsDisabled=i===s-c}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,i)=>i?e+oe.getWidth(i):e,0)}navBackward(){const e=this.content.nativeElement,i=oe.getWidth(e)-this.getVisibleButtonWidths(),s=e.scrollLeft-i;e.scrollLeft=s<=0?0:s}navForward(){const e=this.content.nativeElement,i=oe.getWidth(e)-this.getVisibleButtonWidths(),s=e.scrollLeft+i,c=e.scrollWidth-i;e.scrollLeft=s>=c?c:s}static \u0275fac=function(i){return new(i||n)(r.GI1(r.AHE),r.GI1(r.GMv),r.GI1(r.kD9),r.GI1(r.q87))};static \u0275cmp=r.In1({type:n,selectors:[["p-tabView"]],contentQueries:function(i,s,c){if(1&i&&(r.szK(c,r0,4),r.szK(c,Kn,4)),2&i){let h;r.wto(h=r.Gqi())&&(s.tabPanels=h),r.wto(h=r.Gqi())&&(s.templates=h)}},viewQuery:function(i,s){if(1&i&&(r.CC$(eS,5),r.CC$(tS,5),r.CC$(nS,5),r.CC$(rm,5),r.CC$(lm,5),r.CC$(Yy,5)),2&i){let c;r.wto(c=r.Gqi())&&(s.content=c.first),r.wto(c=r.Gqi())&&(s.navbar=c.first),r.wto(c=r.Gqi())&&(s.prevBtn=c.first),r.wto(c=r.Gqi())&&(s.nextBtn=c.first),r.wto(c=r.Gqi())&&(s.inkbar=c.first),r.wto(c=r.Gqi())&&(s.elementToObserve=c.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex",selectOnFocus:"selectOnFocus",nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:"autoHideButtons",tabindex:"tabindex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:om,decls:14,vars:13,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["elementToObserve",""],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"styleClass","click"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""]],template:function(i,s){1&i&&(r.kPM(),r.I0R(0,"div",0)(1,"div",1,2),r.yuY(3,oS,4,4,"button",3),r.I0R(4,"div",4,5),r.qCj("scroll",function(h){return s.onScroll(h)}),r.I0R(6,"ul",6,7),r.yuY(8,hS,1,1,"ng-template",8),r.wR5(9,"li",9,10),r.C$Y()(),r.yuY(11,nC,4,4,"button",11),r.C$Y(),r.I0R(12,"div",12),r._Xx(13),r.C$Y()()),2&i&&(r.m8U(s.styleClass),r.E7m("ngClass",r.S45(11,iC,s.scrollable))("ngStyle",s.style),r.e48("data-pc-name","tabview"),r.yG2(3),r.E7m("ngIf",s.scrollable&&!s.backwardIsDisabled&&s.autoHideButtons),r.yG2(),r.e48("data-pc-section","navcontent"),r.yG2(2),r.e48("data-pc-section","nav"),r.yG2(2),r.E7m("ngForOf",s.tabs),r.yG2(),r.e48("data-pc-section","inkbar"),r.yG2(2),r.E7m("ngIf",s.scrollable&&!s.forwardIsDisabled&&s.buttonVisible))},dependencies:()=>[e1,ri,zn,Pe,Ve,sa,A2,oc,$5,Bo],styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),wu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,z1,ui,O2,oc,$5,Bo,z1]})}return n})(),ph=(()=>{class n extends gs{static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0),r.wR5(1,"path",1),r.C$Y()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})();var _t=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(_t||{});const Ms="*";function u1(n,t){return{type:_t.Trigger,name:n,definitions:t,options:{}}}function Wt(n,t=null){return{type:_t.Animate,styles:t,timings:n}}function it(n){return{type:_t.Style,styles:n,offset:null}}function S1(n,t,e){return{type:_t.State,name:n,styles:t,options:e}}function qt(n,t,e=null){return{type:_t.Transition,expr:n,animation:t,options:e}}function oC(n,t=null){return{type:_t.Reference,animation:n,options:t}}function rC(n,t=null){return{type:_t.AnimateRef,animation:n,options:t}}function Zn(n,t,e=null){return{type:_t.Query,selector:n,animation:t,options:e}}function rc(n,t){return{type:_t.Stagger,timings:n,animation:t}}class l0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class yu{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const c=this.players.length;0==c?queueMicrotask(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==c&&this._onFinish()}),h.onDestroy(()=>{++i==c&&this._onDestroy()}),h.onStart(()=>{++s==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,d)=>Math.max(h,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let Cu=(()=>{class n extends gs{static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0),r.wR5(1,"path",1),r.C$Y()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return n})();const vm=["sublist"];function aC(n,t){if(1&n&&r.wR5(0,"li",5),2&n){const e=r.GaO().$implicit,i=r.GaO();r.m_g(i.getItemProp(e,"style")),r.E7m("ngClass",i.getSeparatorItemClass(e)),r.e48("id",i.getItemId(e))("data-pc-section","separator")}}function hC(n,t){if(1&n&&r.wR5(0,"span",18),2&n){const e=r.GaO(4).$implicit,i=r.GaO();r.E7m("ngClass",i.getItemProp(e,"icon"))("ngStyle",i.getItemProp(e,"iconStyle")),r.e48("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function gm(n,t){if(1&n&&(r.I0R(0,"span",19),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(4).$implicit,i=r.GaO();r.e48("data-pc-section","label"),r.yG2(),r.oRS(" ",i.getItemLabel(e)," ")}}function uC(n,t){if(1&n&&r.wR5(0,"span",20),2&n){const e=r.GaO(4).$implicit,i=r.GaO();r.E7m("innerHTML",i.getItemLabel(e),r.E3n),r.e48("data-pc-section","label")}}function mm(n,t){if(1&n&&(r.I0R(0,"span",21),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(4).$implicit,i=r.GaO();r.E7m("ngClass",i.getItemProp(e,"badgeStyleClass")),r.yG2(),r.cNF(i.getItemProp(e,"badge"))}}function zh(n,t){1&n&&r.wR5(0,"AngleRightIcon",24),2&n&&(r.E7m("styleClass","p-submenu-icon"),r.e48("data-pc-section","submenuicon")("aria-hidden",!0))}function c0(n,t){}function lc(n,t){1&n&&r.yuY(0,c0,0,0,"ng-template"),2&n&&r.E7m("data-pc-section","submenuicon")("aria-hidden",!0)}function fm(n,t){if(1&n&&(r.SAx(0),r.yuY(1,zh,1,3,"AngleRightIcon",22)(2,lc,1,2,null,23),r.k70()),2&n){const e=r.GaO(5);r.yG2(),r.E7m("ngIf",!e.tieredMenu.submenuIconTemplate),r.yG2(),r.E7m("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}const dC=n=>({"p-menuitem-link":!0,"p-disabled":n});function gS(n,t){if(1&n&&(r.I0R(0,"a",13),r.yuY(1,hC,1,5,"span",14)(2,gm,2,2,"span",15)(3,uC,1,2,"ng-template",null,16,r.gJz)(5,mm,2,2,"span",17)(6,fm,3,2,"ng-container",9),r.C$Y()),2&n){const e=r.Gew(4),i=r.GaO(3).$implicit,s=r.GaO();r.E7m("target",s.getItemProp(i,"target"))("ngClass",r.S45(12,dC,s.getItemProp(i,"disabled"))),r.e48("href",s.getItemProp(i,"url"),r.K6U)("aria-hidden",!0)("data-automationid",s.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),r.yG2(),r.E7m("ngIf",s.getItemProp(i,"icon")),r.yG2(),r.E7m("ngIf",s.getItemProp(i,"escape"))("ngIfElse",e),r.yG2(3),r.E7m("ngIf",s.getItemProp(i,"badge")),r.yG2(),r.E7m("ngIf",s.isItemGroup(i))}}function mS(n,t){if(1&n&&r.wR5(0,"span",18),2&n){const e=r.GaO(4).$implicit,i=r.GaO();r.E7m("ngClass",i.getItemProp(e,"icon"))("ngStyle",i.getItemProp(e,"iconStyle")),r.e48("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function vC(n,t){if(1&n&&(r.I0R(0,"span",19),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(4).$implicit,i=r.GaO();r.e48("data-pc-section","label"),r.yG2(),r.oRS(" ",i.getItemLabel(e)," ")}}function gC(n,t){if(1&n&&r.wR5(0,"span",20),2&n){const e=r.GaO(4).$implicit,i=r.GaO();r.E7m("innerHTML",i.getItemLabel(e),r.E3n),r.e48("data-pc-section","label")}}function fS(n,t){if(1&n&&(r.I0R(0,"span",21),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(4).$implicit,i=r.GaO();r.E7m("ngClass",i.getItemProp(e,"badgeStyleClass")),r.yG2(),r.cNF(i.getItemProp(e,"badge"))}}function pm(n,t){1&n&&r.wR5(0,"AngleRightIcon",24),2&n&&(r.E7m("styleClass","p-submenu-icon"),r.e48("data-pc-section","submenuicon")("aria-hidden",!0))}function wm(n,t){}function pS(n,t){1&n&&r.yuY(0,wm,0,0,"ng-template"),2&n&&r.E7m("data-pc-section","submenuicon")("aria-hidden",!0)}function Mu(n,t){if(1&n&&(r.SAx(0),r.yuY(1,pm,1,3,"AngleRightIcon",22)(2,pS,1,2,null,23),r.k70()),2&n){const e=r.GaO(5);r.yG2(),r.E7m("ngIf",!e.tieredMenu.submenuIconTemplate),r.yG2(),r.E7m("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}const wS=()=>({exact:!1});function _S(n,t){if(1&n&&(r.I0R(0,"a",25),r.yuY(1,mS,1,5,"span",14)(2,vC,2,2,"span",15)(3,gC,1,2,"ng-template",null,16,r.gJz)(5,fS,2,2,"span",17)(6,Mu,3,2,"ng-container",9),r.C$Y()),2&n){const e=r.Gew(4),i=r.GaO(3).$implicit,s=r.GaO();r.E7m("routerLink",s.getItemProp(i,"routerLink"))("queryParams",s.getItemProp(i,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",s.getItemProp(i,"routerLinkActiveOptions")||r.q4q(21,wS))("target",s.getItemProp(i,"target"))("ngClass",r.S45(22,dC,s.getItemProp(i,"disabled")))("fragment",s.getItemProp(i,"fragment"))("queryParamsHandling",s.getItemProp(i,"queryParamsHandling"))("preserveFragment",s.getItemProp(i,"preserveFragment"))("skipLocationChange",s.getItemProp(i,"skipLocationChange"))("replaceUrl",s.getItemProp(i,"replaceUrl"))("state",s.getItemProp(i,"state")),r.e48("data-automationid",s.getItemProp(i,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),r.yG2(),r.E7m("ngIf",s.getItemProp(i,"icon")),r.yG2(),r.E7m("ngIf",s.getItemProp(i,"escape"))("ngIfElse",e),r.yG2(3),r.E7m("ngIf",s.getItemProp(i,"badge")),r.yG2(),r.E7m("ngIf",s.isItemGroup(i))}}function zS(n,t){if(1&n&&(r.SAx(0),r.yuY(1,gS,7,14,"a",11)(2,_S,7,24,"a",12),r.k70()),2&n){const e=r.GaO(2).$implicit,i=r.GaO();r.yG2(),r.E7m("ngIf",!i.getItemProp(e,"routerLink")),r.yG2(),r.E7m("ngIf",i.getItemProp(e,"routerLink"))}}function mC(n,t){}function yS(n,t){1&n&&r.yuY(0,mC,0,0,"ng-template")}const fC=(n,t)=>({$implicit:n,hasSubmenu:t});function pC(n,t){if(1&n&&(r.SAx(0),r.yuY(1,yS,1,0,null,26),r.k70()),2&n){const e=r.GaO(2).$implicit,i=r.GaO();r.yG2(),r.E7m("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",r.IBC(2,fC,e.item,i.getItemProp(e,"items")))}}function CS(n,t){if(1&n){const e=r.KQA();r.I0R(0,"p-tieredMenuSub",27),r.qCj("itemClick",function(s){r.usT(e);const c=r.GaO(3);return r.CGJ(c.itemClick.emit(s))})("itemMouseEnter",function(s){r.usT(e);const c=r.GaO(3);return r.CGJ(c.onItemMouseEnter(s))}),r.C$Y()}if(2&n){const e=r.GaO(2).$implicit,i=r.GaO();r.E7m("items",e.items)("itemTemplate",i.itemTemplate)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("ariaLabelledBy",i.getItemId(e))("level",i.level+1)}}function _m(n,t){if(1&n){const e=r.KQA();r.I0R(0,"li",6,7)(2,"div",8),r.qCj("click",function(s){r.usT(e);const c=r.GaO().$implicit,h=r.GaO();return r.CGJ(h.onItemClick(s,c))})("mouseenter",function(s){r.usT(e);const c=r.GaO().$implicit,h=r.GaO();return r.CGJ(h.onItemMouseEnter({$event:s,processedItem:c}))}),r.yuY(3,zS,3,2,"ng-container",9)(4,pC,2,5,"ng-container",9),r.C$Y(),r.yuY(5,CS,1,8,"p-tieredMenuSub",10),r.C$Y()}if(2&n){const e=r.GaO(),i=e.$implicit,s=e.index,c=r.GaO();r.m8U(c.getItemProp(i,"styleClass")),r.E7m("ngStyle",c.getItemProp(i,"style"))("ngClass",c.getItemClass(i))("tooltipOptions",c.getItemProp(i,"tooltipOptions")),r.e48("id",c.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",c.isItemActive(i))("data-p-focused",c.isItemFocused(i))("data-p-disabled",c.isItemDisabled(i))("aria-label",c.getItemLabel(i))("aria-disabled",c.isItemDisabled(i)||void 0)("aria-haspopup",c.isItemGroup(i)&&!c.getItemProp(i,"to")?"menu":void 0)("aria-expanded",c.isItemGroup(i)?c.isItemActive(i):void 0)("aria-level",c.level+1)("aria-setsize",c.getAriaSetSize())("aria-posinset",c.getAriaPosInset(s)),r.yG2(2),r.e48("data-pc-section","content"),r.yG2(),r.E7m("ngIf",!c.itemTemplate),r.yG2(),r.E7m("ngIf",c.itemTemplate),r.yG2(),r.E7m("ngIf",c.isItemVisible(i)&&c.isItemGroup(i))}}function wC(n,t){if(1&n&&r.yuY(0,aC,1,5,"li",3)(1,_m,6,21,"li",4),2&n){const e=t.$implicit,i=r.GaO();r.E7m("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),r.yG2(),r.E7m("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}const MS=(n,t)=>({"p-submenu-list":n,"p-tieredmenu-root-list":t}),_C=["rootmenu"],zC=["container"],zm=n=>({"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":n}),xS=(n,t)=>({showTransitionParams:n,hideTransitionParams:t}),yC=n=>({value:"visible",params:n});function CC(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",1,2),r.qCj("click",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onOverlayClick(s))})("@overlayAnimation.start",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onOverlayAnimationStart(s))})("@overlayAnimation.done",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onOverlayAnimationEnd(s))}),r.I0R(2,"p-tieredMenuSub",3,4),r.qCj("itemClick",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onItemClick(s))})("menuFocus",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onMenuFocus(s))})("menuBlur",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onMenuBlur(s))})("menuKeydown",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onKeyDown(s))})("itemMouseEnter",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onItemMouseEnter(s))}),r.C$Y()()}if(2&n){const e=r.GaO();r.m8U(e.styleClass),r.E7m("id",e.id)("ngClass",r.S45(22,zm,e.popup))("ngStyle",e.style)("@overlayAnimation",r.S45(27,yC,r.IBC(24,xS,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0!==e.popup),r.e48("data-pc-section","root")("data-pc-name","tieredmenu"),r.yG2(2),r.E7m("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}let MC=(()=>{class n{el;renderer;cd;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;tabindex=0;itemClick=new r._w7;itemMouseEnter=new r._w7;menuFocus=new r._w7;menuBlur=new r._w7;menuKeydown=new r._w7;sublistViewChild;constructor(e,i,s,c){this.el=e,this.renderer=i,this.cd=s,this.tieredMenu=c}positionSubmenu(){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(e){const i=e.parentElement.parentElement,s=oe.getOffset(i),c=oe.getViewport(),h=e.offsetParent?e.offsetWidth:oe.getHiddenElementOuterWidth(e),d=oe.getOuterWidth(i.children[0]);parseInt(s.left,10)+d+h>c.width-oe.calculateScrollbarWidth()&&oe.addClass(e,"p-submenu-list-flipped")}}getItemProp(e,i,s=null){return e&&e.item?ft.getItemValue(e.item[i],s):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return{...this.getItemProp(e,"class"),"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)}}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return{...this.getItemProp(e,"class"),"p-menuitem-separator":!0}}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}isItemVisible(e){return!1!==this.getItemProp(e,"visible")}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return ft.isNotEmpty(e.items)}onItemMouseEnter(e){if(this.autoDisplay){const{event:i,processedItem:s}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:s})}}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}static \u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(r.q87),r.GI1(r.kD9),r.GI1((0,r.wd)(()=>ym)))};static \u0275cmp=r.In1({type:n,selectors:[["p-tieredMenuSub"]],viewQuery:function(i,s){if(1&i&&r.CC$(vm,7),2&i){let c;r.wto(c=r.Gqi())&&(s.sublistViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:"root",autoDisplay:"autoDisplay",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",popup:"popup",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:"tabindex"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:3,vars:12,consts:[["role","menu",3,"ngClass","id","tabindex","keydown","focus","blur"],["sublist",""],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["listItem",""],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","itemClick","itemMouseEnter"]],template:function(i,s){1&i&&(r.I0R(0,"ul",0,1),r.qCj("keydown",function(h){return s.menuKeydown.emit(h)})("focus",function(h){return s.menuFocus.emit(h)})("blur",function(h){return s.menuBlur.emit(h)}),r.yuY(2,wC,2,2,"ng-template",2),r.C$Y()),2&i&&(r.E7m("ngClass",r.IBC(9,MS,!s.root,s.root))("id",s.menuId+"_list")("tabindex",s.tabindex),r.e48("aria-label",s.ariaLabel)("aria-labelledBy",s.ariaLabelledBy)("aria-activedescendant",s.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),r.yG2(2),r.E7m("ngForOf",s.items))},dependencies:()=>[e1,ri,zn,Pe,Ve,ml,fl,A2,sa,Cu,n],encapsulation:2})}return n})(),ym=(()=>{class n{document;platformId;el;renderer;cd;config;overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;onShow=new r._w7;onHide=new r._w7;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;window;dirty=!1;focused=!1;activeItemPath=(0,r.OCB)([]);number=(0,r.OCB)(0);focusedItemInfo=(0,r.OCB)({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){const e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const e=this.focusedItemInfo();return e.item?.id?e.item.id:-1!==e.index?`${this.id}${ft.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,i,s,c,h,d,g){this.document=e,this.platformId=i,this.el=s,this.renderer=c,this.cd=h,this.config=d,this.overlayService=g,this.window=this.document.defaultView,(0,r.o3l)(()=>{const f=this.activeItemPath();ft.isNotEmpty(f)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||Fs()}ngAfterContentInit(){this.templates?.forEach(e=>{"submenuicon"===e.getType()?this.submenuIconTemplate=e.template:this.itemTemplate=e.template})}createProcessedItems(e,i=0,s={},c=""){const h=[];return e&&e.forEach((d,g)=>{const f=(""!==c?c+"_":"")+g,_={item:d,index:g,level:i,key:f,parent:s,parentKey:c};_.items=this.createProcessedItems(d.items,i+1,_,f),h.push(_)}),h}getItemProp(e,i){return e?ft.getItemValue(e[i]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&ft.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&ft.isNotEmpty(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){const{originalEvent:i,processedItem:s}=e,c=this.isProcessedItemGroup(s),h=ft.isEmpty(s.parent);if(this.isSelected(s)){const{index:g,key:f,level:_,parentKey:y,item:C}=s;this.activeItemPath.set(this.activeItemPath().filter(x=>f!==x.key&&f.startsWith(x.key))),this.focusedItemInfo.set({index:g,level:_,parentKey:y,item:C}),this.dirty=!0,oe.focus(this.rootmenu.sublistViewChild.nativeElement)}else if(c)this.onItemChange(e);else{const g=h?s:this.activeItemPath().find(f=>""===f.parentKey);this.hide(i),this.changeFocusedItemIndex(i,g?g.index:-1),oe.focus(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){oe.isTouchDevice()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay}):this.dirty&&this.onItemChange(e)}onKeyDown(e){const i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&ft.isPrintableCharacter(e.key)&&this.searchItems(e,e.key)}}onArrowDownKey(e){const i=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}onArrowRightKey(e){const i=this.visibleItems[this.focusedItemInfo().index],s=this.isProccessedItemGroup(i),c=i.item;s&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:c}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(-1!==this.focusedItemInfo().index){const i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.popup&&this.hide(e,!0),e.preventDefault()}else{const i=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}}onArrowLeftKey(e){const i=this.visibleItems[this.focusedItemInfo().index],s=this.activeItemPath().find(d=>d.key===i.parentKey);ft.isEmpty(i.parent)||(this.focusedItemInfo.set({index:-1,parentKey:s?s.parentKey:"",item:i.item}),this.searchValue="",this.onArrowDownKey(e));const h=this.activeItemPath().filter(d=>d.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(h),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(-1!==this.focusedItemInfo().index){const i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(-1!==this.focusedItemInfo().index){const i=oe.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),s=i&&oe.findSingle(i,'a[data-pc-section="action"]');if(s?s.click():i&&i.click(),this.focusedItemInfo(),!this.popup){const h=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(h)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e){const{processedItem:i,isFocus:s}=e;if(ft.isEmpty(i))return;const{index:c,key:h,level:d,parentKey:g,items:f,item:_}=i,y=ft.isNotEmpty(f),C=this.activeItemPath().filter(x=>x.parentKey!==g&&x.parentKey!==h);y&&C.push(i),this.focusedItemInfo.set({index:c,level:d,parentKey:g,item:_}),this.activeItemPath.set(C),y&&(this.dirty=!0),s&&oe.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0;const i=-1!==this.focusedItemInfo().index?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:this.visibleItems[this.findFirstFocusedItemIndex()]?.item};this.focusedItemInfo.set(i)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),oe.focus(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}alignOverlay(){this.relativeAlign?oe.relativePosition(this.container,this.target):oe.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(e){"void"===e.toState&&D2.clear(e.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):oe.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&D2.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,i){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),i&&oe.focus(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,i){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:""}),i&&oe.focus(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let s=-1,c=!1;return-1!==this.focusedItemInfo().index?(s=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(h=>this.isItemMatched(h)),s=-1===s?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(h=>this.isItemMatched(h)):s+this.focusedItemInfo().index):s=this.visibleItems.findIndex(h=>this.isItemMatched(h)),-1!==s&&(c=!0),-1===s&&-1===this.focusedItemInfo().index&&(s=this.findFirstFocusedItemIndex()),-1!==s&&this.changeFocusedItemIndex(e,s),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),c}findLastFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return ft.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){const i=e>0?ft.findLastIndex(this.visibleItems.slice(0,e),s=>this.isValidItem(s)):-1;return i>-1?i:e}findNextItemIndex(e){const i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(s=>this.isValidItem(s)):-1;return i>-1?i+e+1:e}findFirstFocusedItemIndex(){const e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,i){if(this.focusedItemInfo().index!==i){const s=this.focusedItemInfo();this.focusedItemInfo.set({...s,item:this.visibleItems[i].item,index:i}),this.scrollInView()}}scrollInView(e=-1){const s=oe.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==e?`${this.id}_${e}`:this.focusedItemId}"]`);s&&s.scrollIntoView&&s.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new _7(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){lt(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{oe.isTouchDevice()||this.hide(e,!0)})))}bindOutsideClickListener(){lt(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{const i=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),s=!this.popup||!(this.target&&(this.target===e.target||this.target.contains(e.target)));i&&s&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&D2.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}static \u0275fac=function(i){return new(i||n)(r.GI1(X),r.GI1(r.AHE),r.GI1(r.GMv),r.GI1(r.q87),r.GI1(r.kD9),r.GI1(wl),r.GI1(U5))};static \u0275cmp=r.In1({type:n,selectors:[["p-tieredMenu"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},viewQuery:function(i,s){if(1&i&&(r.CC$(_C,5),r.CC$(zC,5)),2&i){let c;r.wto(c=r.Gqi())&&(s.rootmenu=c.first),r.wto(c=r.Gqi())&&(s.containerViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",tabindex:"tabindex"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"id","ngClass","ngStyle","click"],["container",""],[3,"root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath","itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter"],["rootmenu",""]],template:function(i,s){1&i&&r.yuY(0,CC,4,29,"div",0),2&i&&r.E7m("ngIf",!s.popup||s.visible)},dependencies:[e1,zn,Ve,MC],styles:["@layer primeng{.p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-tieredmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}}\n"],encapsulation:2,data:{animation:[u1("overlayAnimation",[qt(":enter",[it({opacity:0,transform:"scaleY(0.8)"}),Wt("{{showTransitionParams}}")]),qt(":leave",[Wt("{{hideTransitionParams}}",it({opacity:0}))])])]},changeDetection:0})}return n})(),xC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,Oo,O2,ui,Cu,z1,Oo,ui,z1]})}return n})();const Cm=["container"],bC=["defaultbtn"],EC=["menu"];function Mm(n,t){1&n&&r.C_f(0)}function xm(n,t){if(1&n){const e=r.KQA();r.SAx(0),r.I0R(1,"button",9),r.qCj("click",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onDefaultButtonClick(s))}),r.yuY(2,Mm,1,0,"ng-container",6),r.C$Y(),r.k70()}if(2&n){const e=r.GaO();r.yG2(),r.E7m("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled),r.e48("tabindex",e.tabindex)("aria-label",(null==e.buttonProps?null:e.buttonProps["aria-label"])||e.label),r.yG2(),r.E7m("ngTemplateOutlet",e.contentTemplate)}}function SC(n,t){if(1&n){const e=r.KQA();r.I0R(0,"button",10,11),r.qCj("click",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onDefaultButtonClick(s))}),r.C$Y()}if(2&n){const e=r.GaO();r.E7m("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.disabled),r.e48("tabindex",e.tabindex)("aria-label",null==e.buttonProps?null:e.buttonProps["aria-label"])}}function bm(n,t){1&n&&r.wR5(0,"ChevronDownIcon")}function Em(n,t){}function bS(n,t){1&n&&r.yuY(0,Em,0,0,"ng-template")}let LC=(()=>{class n{model;icon;iconPos="left";label;style;styleClass;menuStyle;menuStyleClass;disabled;tabindex;appendTo;dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;onClick=new r._w7;onDropdownClick=new r._w7;containerViewChild;buttonViewChild;menu;templates;contentTemplate;dropdownIconTemplate;ariaId;isExpanded=(0,r.OCB)(!1);ngOnInit(){this.ariaId=Fs()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template}})}onDefaultButtonClick(e){this.onClick.emit(e),this.menu.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.containerViewChild?.nativeElement,relativeAlign:null==this.appendTo}),this.isExpanded.set(this.menu.visible)}onDropdownButtonKeydown(e){("ArrowDown"===e.code||"ArrowUp"===e.code)&&(this.onDropdownButtonClick(),e.preventDefault())}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=r.In1({type:n,selectors:[["p-splitButton"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},viewQuery:function(i,s){if(1&i&&(r.CC$(Cm,5),r.CC$(bC,5),r.CC$(EC,5)),2&i){let c;r.wto(c=r.Gqi())&&(s.containerViewChild=c.first),r.wto(c=r.Gqi())&&(s.buttonViewChild=c.first),r.wto(c=r.Gqi())&&(s.menu=c.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",icon:"icon",iconPos:"iconPos",label:"label",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",disabled:"disabled",tabindex:"tabindex",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps"},outputs:{onClick:"onClick",onDropdownClick:"onDropdownClick"},decls:10,vars:22,consts:[[3,"ngClass","ngStyle"],["container",""],[4,"ngIf","ngIfElse"],["defaultButton",""],["type","button","pButton","",1,"p-splitbutton-menubutton","p-button-icon-only",3,"disabled","click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["menu",""],["type","button","pButton","",1,"p-splitbutton-defaultbutton",3,"icon","iconPos","disabled","click"],["type","button","pButton","",1,"p-splitbutton-defaultbutton",3,"icon","iconPos","label","disabled","click"],["defaultbtn",""]],template:function(i,s){if(1&i&&(r.I0R(0,"div",0,1),r.yuY(2,xm,3,6,"ng-container",2)(3,SC,2,6,"ng-template",null,3,r.gJz),r.I0R(5,"button",4),r.qCj("click",function(h){return s.onDropdownButtonClick(h)})("keydown",function(h){return s.onDropdownButtonKeydown(h)}),r.yuY(6,bm,1,0,"ChevronDownIcon",5)(7,bS,1,0,null,6),r.C$Y(),r.wR5(8,"p-tieredMenu",7,8),r.C$Y()),2&i){const c=r.Gew(4);r.m8U(s.styleClass),r.E7m("ngClass","p-splitbutton p-component")("ngStyle",s.style),r.yG2(2),r.E7m("ngIf",s.contentTemplate)("ngIfElse",c),r.yG2(3),r.E7m("disabled",s.disabled),r.e48("aria-label",(null==s.menuButtonProps?null:s.menuButtonProps["aria-label"])||s.expandAriaLabel)("aria-haspopup",(null==s.menuButtonProps?null:s.menuButtonProps["aria-haspopup"])||!0)("aria-expanded",(null==s.menuButtonProps?null:s.menuButtonProps["aria-expanded"])||s.isExpanded())("aria-controls",(null==s.menuButtonProps?null:s.menuButtonProps["aria-controls"])||s.ariaId),r.yG2(),r.E7m("ngIf",!s.dropdownIconTemplate),r.yG2(),r.E7m("ngTemplateOutlet",s.dropdownIconTemplate),r.yG2(),r.m_g(s.menuStyle),r.E7m("id",s.ariaId)("popup",!0)("model",s.model)("styleClass",s.menuStyleClass)("appendTo",s.appendTo)("showTransitionOptions",s.showTransitionOptions)("hideTransitionOptions",s.hideTransitionOptions)}},dependencies:()=>[e1,zn,Pe,Ve,fy,ym,ph],styles:["@layer primeng{.p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton,.p-splitbutton.p-button-rounded>.p-splitbutton-defaultbutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-defaultbutton.p-button{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:0 none}.p-splitbutton-menubutton,.p-splitbutton.p-button-rounded>.p-splitbutton-menubutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-menubutton.p-button{display:flex;align-items:center;justify-content:center;border-top-left-radius:0;border-bottom-left-radius:0}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}}\n"],encapsulation:2,changeDetection:0})}return n})(),yh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,ys,xC,ph,ys,xC]})}return n})(),Sm=(()=>{class n{constructor(){this.openFile=new r._w7,this.openMenu=[{label:"Open Files ...",command:()=>{this.openFile.emit("bbb")}},{label:"Open from http service ...",disabled:!0}]}clickOpen(){this.openFile.emit("aaa")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-configurator-starttab"]],outputs:{openFile:"openFile"},standalone:!0,features:[r.UHJ],decls:2,vars:1,consts:[[1,"open-model"],["label","Open ...","icon","pi pi-open","ngClass","width: 100px","styleClass","p-button-raised p-button-text mr-2 mb-2",1,"open-button",3,"model","onClick"]],template:function(i,s){1&i&&(r.I0R(0,"div",0)(1,"p-splitButton",1),r.qCj("onClick",function(){return s.clickOpen()}),r.C$Y()()),2&i&&(r.yG2(),r.E7m("model",s.openMenu))},dependencies:[e1,yh,LC],styles:[".open-model[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row}"]})}return n})();const Lm=["editorcontainer"];let xu=(()=>{class n{isType(e){return this.type==e}constructor(e){this.editorsService=e}ngAfterViewInit(){this.reconstructionEditorSize()}ngOnChanges(){this.editorsService.removeOtherEditors(this.name),this.editorContainer?.nativeElement&&this.reconstructionEditorSize()}ngOnDestroy(){this.editorsService.removeEditor(this.name)}reconstructionEditorSize(){this.editorContainerSize=new H1.g({width:0,height:0}),this.sizeObserver=new ResizeObserver(e=>{this.editorContainerSize.next({width:e[0].contentRect.width,height:e[0].contentRect.height}),this.editorsService.startResize()}),this.editorContainerSize.pipe((0,h3.o)(100)).subscribe(e=>{this.editorsService.changeEditorSize(this.name,e)}),this.sizeObserver.observe(this.editorContainer.nativeElement)}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(ir))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-construction-editor"]],viewQuery:function(i,s){if(1&i&&r.CC$(Lm,5),2&i){let c;r.wto(c=r.Gqi())&&(s.editorContainer=c.first)}},inputs:{name:"name",id:"id",type:"type"},standalone:!0,features:[r.SYr,r.UHJ],decls:2,vars:1,consts:[[1,"konva-container",3,"id"],["editorcontainer",""]],template:function(i,s){1&i&&r.wR5(0,"div",0,1),2&i&&r.E7m("id",s.name)},styles:[".konva-container[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return n})();class Ch{constructor(t,e,i){this.length=Math.round(t),this.type=e,this.anglesDeg=i}}class Mh{constructor(t,e,i){this.geometry=t,this.components=e,this.dividers=i}}class Vm{constructor(t,e){this.type=t,this.area=e}}class IC extends Vm{constructor(t,e,i=!1){super("wing",e),this.openingOutside=i,this.wing={type:t},this.sides=[{type:"sash"},{type:"sash"},{type:"sash"},{type:"sash"}]}}class LS extends Vm{constructor(t,e){super("filling",e),this.filling={type:t}}}class VS extends Vm{constructor(t){super("frame",t),this.sides=[{type:"frame"},{type:"frame"},{type:"frame"},{type:"frame"}]}}class TC{constructor(t,e){this.type="mullion",this.mullion={type:t},this.geometry=e}}var Ae=function(n){return n.default="Default",n.drawFrame="Draw_frame",n.drawImpost="Draw_impost",n.drawWing="Draw_wing",n.activeImpost="Active_impost",n.activeCore="Active_core",n}(Ae||{});let Hm=(()=>{class n{constructor(){this.profilesList=[],this.glazingList=[],this.hardwareList=[],this.articles={profileArticles:[],glazingArticle:""}}getMaterialByType(e){const i=this.articles.profileArticles.find(c=>c.profileType===e);return i?this.profilesList.find(h=>h.article===i.article)||void 0:this.glazingList.find(c=>c.article===this.articles.glazingArticle)||void 0}convertPoint3DToPoint(e,i){let s=0;return i&&e[3]&&(s=new at(new Qe(e[0],e[2]),new Qe(i[0],i[2])).length/2*e[3]),new Qe(e[0],e[2],s)}convertPointToPoint3D(e,i){let s=0;if(i&&e.s){const c=new at(new Qe(e.x,e.y),new Qe(i.x,i.y)).length;s=2*e.s/c}return[e.x,0,e.y,s]}convertPolygonToPolygon3D(e){return[...e.points.map((i,s,c)=>{const h=c.at(s+1)||c[0];return this.convertPointToPoint3D(i,h)})]}convertPolygon3DToPolygon(e,i){const s=e.map(h=>this.convertPoint3DToPoint(h)),c=new Yn(...s);return i?new Yn(...Ll(c.points,-i)):c}getAreaFromComponent(e){return"area"in e?e.area:e}getPolygonFromComponent(e){const i=Array.isArray(e)?e:this.getAreaFromComponent(e).geometry;return new Yn(...i.map(s=>this.convertPoint3DToPoint(s)))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Im=(()=>{class n{constructor(){}getAngleBetweenSegments(e,i){const s=e.p1,c=e.p2,h=i.p1,d=i.p2,g=new Qe(c.x-s.x,c.y-s.y),f=new Qe(d.x-h.x,d.y-h.y),_=g.x*f.x+g.y*f.y,y=Math.sqrt(g.x*g.x+g.y*g.y),C=Math.sqrt(f.x*f.x+f.y*f.y),b=Math.acos(_/(y*C)),L=b*(180/Math.PI);return{rad:Math.PI-b,deg:Math.round(180-L)}}transformToCutAngle(e){const i=e.deg<90;return e.deg=Math.abs(90-e.deg),e.rad=e.deg*Math.PI/180,i&&(e.deg=-e.deg,e.rad=-e.rad),e}isDividerIntersectsPolygonSide(e,i){const s=new at(i.p1,e.p1),c=new at(e.p1,i.p2),h=new at(i.p1,e.p2),d=new at(e.p2,i.p2),g=this.getAngleBetweenSegments(s,c),f=this.getAngleBetweenSegments(h,d);return 180===g.deg||isNaN(g.deg)&&!isNaN(f.deg)?{intersects:!0,point:e.p1}:180===f.deg||isNaN(f.deg)&&!isNaN(g.deg)?{intersects:!0,point:e.p2}:{intersects:!1}}isPolygonInside(e,i){const s=function Mv(n,t,e){return new Ue((n.x+t.x+e.x)/3,(n.y+t.y+e.y)/3)}(e[0],e[1],e[2]),c=[s.x,s.y];return 1!==Pv()(i.map(h=>[Math.round(h.x),Math.round(h.y)]),c)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HS=(()=>{class n{constructor(e,i){this.helpersService=e,this.geometryService=i}calculate(e){const i=[];i.push(...this.getWingOrFrameMaterials(e,"frame"));const s=e.dividers[0];if(s){const h=s.mullions[0].points.length;h<=4&&i.push(...this.getAreaSimpleDividerMaterials(s,e.innerPolygon)),h>4&&i.push(...this.getAreaComplexDividerMaterials(s))}const c=this.getAreaFlag(e);return e.areas.forEach(h=>{i.push(...this.getAreaMaterials(h,c))}),i}getAreaFlag(e){return 1!==e.areas.length||e.areas[0].areas.length?1===e.areas.length?"wing":void 0:"filling"}getAreaMaterials(e,i){const s=[];if(i)switch(i){case"filling":s.push(new Yn(...e.points));break;case"wing":s.push(...this.getWingOrFrameMaterials(e,"sash"))}const c=this.getAreaFlag(e),h=e.dividers[0];if(h){const d=h.mullions[0].points.length;d<=4&&s.push(...this.getAreaSimpleDividerMaterials(h,e.innerPolygon)),d>4&&s.push(...this.getAreaComplexDividerMaterials(h))}return e.areas.forEach(d=>{s.push(...this.getAreaMaterials(d,c))}),s}getAreaComplexDividerMaterials(e){const i=e.mullions[0].edges,s=[...i].sort((b,L)=>L.length-b.length),c=s[0],h=s[1],d=i.findIndex(b=>b===c),g=i.findIndex(b=>b===h);let f=d+2;f=f>i.length-1?f-i.length:f;let _=d-2;_=_<0?i.length+_:_;const y={polygon:e.mullions[0],left:[],right:[]},C=i.at(d+1)||i[0],x=i.at(d-1);return y.left.push(this.geometryService.getAngleBetweenSegments(c,C)),y.right.push(this.geometryService.getAngleBetweenSegments(c,x)),f!==g&&y.left.push(this.geometryService.getAngleBetweenSegments(C,i[f])),_!==g&&y.right.push(this.geometryService.getAngleBetweenSegments(x,i[_])),[y]}getAreaSimpleDividerMaterials(e,i){if(!e)return[];const s=e.edge,c=this.helpersService.getMaterialByType("mullion")?.a||39,{line1:h,line2:d}=s.getOffsetLines(2*c),g=new at(h.p1,h.p2),f=new at(d.p1,d.p2),_=g.cut(i),y=f.cut(i),C=i.intersection(s)[0],x=[];if(i.edges.forEach(J=>{const ve=this.geometryService.isDividerIntersectsPolygonSide(C,J);ve.intersects&&ve.point&&x.push({point:ve.point,segment:J})}),2!==x.length)return[new Ch(0,"mullion")];x.sort((J,ve)=>J.point.x<ve.point.x?-1:J.point.x>ve.point.x?1:0);const b=this.geometryService.getAngleBetweenSegments(s,x[0].segment),L=this.geometryService.getAngleBetweenSegments(s,x[1].segment);if(b.deg>=90&&L.deg>=90||b.deg<=90&&L.deg<=90)return[new Ch(Math.max(_.length,y.length),"mullion",{left:this.geometryService.transformToCutAngle(b),right:this.geometryService.transformToCutAngle(L)})];const V=[b,L].find(J=>J.deg<90);if(V){const J=V.deg*(Math.PI/180),ve=2*c/Math.tan(J),ge=Math.min(_.length,y.length)+ve;return[new Ch(ge,"mullion",{left:this.geometryService.transformToCutAngle(b),right:this.geometryService.transformToCutAngle(L)})]}const te={deg:45,rad:45*Math.PI/180};return[new Ch(_.length,"mullion",{left:te,right:te})]}getWingOrFrameMaterials(e,i){return e.edges.reduce((s,c,h,d)=>{const g=this.geometryService.getAngleBetweenSegments(c,d[h-1]||d[d.length-1]);g.deg/=-2,g.rad/=-2;const f=this.geometryService.getAngleBetweenSegments(c,d[h+1]||d[0]);return f.deg/=2,f.rad/=2,s.push(new Ch(c.length,i,{left:g,right:f})),s},[])}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(Hm),r.CoB(Im))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DC=(()=>{class n{constructor(e,i){this.geometryService=e,this.helpersService=i}convertConstructionToCoreArea(e){this.helpersService.profilesList=e.profilesList,this.helpersService.glazingList=e.glazingList,this.helpersService.hardwareList=e.hardwareList,this.helpersService.articles=e.articles,this.wingOffset=this.helpersService.getMaterialByType("sash")?.c||0;const i=[];return e.construction.elements?.forEach(s=>{"template"===s.skeleton.type&&this.convertTemplateSkeletonIntoPlain(s.skeleton),i.push(this.convertSkeletonToCoreArea(s.skeleton))}),i}convertTemplateSkeletonIntoPlain(e){const{dimX:i,dimY:s,dimZ:c}=e,h=g=>{g[0]=i?.length?i[g[0]]:0,g[1]=s?.length?s[g[1]]:0,g[2]=c?.length?c[g[2]]:0},d=g=>{const f=this.helpersService.getAreaFromComponent(g);f.geometry.forEach(_=>h(_)),f.dividers?.forEach(_=>_.geometry.forEach(y=>h(y))),f.components?.forEach(_=>d(_))};d(e.template)}convertSkeletonToCoreArea(e){const i=[],s=e.template;s.area.geometry.forEach((g,f,_)=>{const y=_.at(f+1)||_[0];i.push(this.helpersService.convertPoint3DToPoint(g,y))});const c=this.helpersService.getMaterialByType("frame")?.c||0,h=new Pn({points:i,offset:c});h.fillColor="red";let d=h;return"wing"===e.template.type&&(d=h.convertIntoWing(this.wingOffset)),this.handleArea(d,s),h}handleArea(e,i){const s=this.helpersService.getAreaFromComponent(i);if(s.dividers?.length){const c=s.dividers[0].geometry.map((g,f,_)=>{const y=_.at(f+1)||_[0];return this.helpersService.convertPoint3DToPoint(g,y)}),h=new at(c[0],c[1]),d=this.helpersService.getMaterialByType("mullion")?.c||0;e.divide(h,0,2*d),e.dividers.length&&(e.dividers[0].mullions[0].fillColor="blue")}if(e.areas.forEach(c=>{const h=s.components?.find(d=>{const g=this.helpersService.getAreaFromComponent(d),f=this.helpersService.convertPolygon3DToPolygon(g.geometry);return this.geometryService.isPolygonInside(c.points,f.points)});"area"in h&&"wing"===h.type&&(c=c.convertIntoWing(this.wingOffset)),"area"in h&&"filling"===h.type&&(c=c.convertIntoFilling()),this.handleArea(c,h)}),!e.areas.length&&s.components?.length){const c=s.components[0],h="wing"===c.type?e.convertIntoWing(this.wingOffset):void 0;"filling"===c.type&&e.convertIntoFilling(),h&&this.handleArea(h,c)}}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(Im),r.CoB(Hm))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AC=(()=>{class n{constructor(e,i){this.helpersService=e,this.geometryService=i}convertCoreAreaToConstruction(e){const i=this.helpersService.convertPolygonToPolygon3D(e),s=new Mh(i,[],[]),c=new VS(s),h={name:"Construction"+Math.random(),elements:[{name:"Element 1",skeleton:{type:"plain",template:c}}]};return e.areas.length&&h.elements&&this.fillComponentWithContent(h.elements[0].skeleton.template,e,e,i),h}fillComponentWithContent(e,i,s,c){const h=this.helpersService.getAreaFromComponent(e),d=[];if(i===s)return e.area.dividers=d,d.push(...this.getAreaDividers(s,e)),void this.divideParentComponent(e,d[0],s);if(1===i.areas.length&&s.areas.length){const g=new Mh(c,[],d),f=new IC("tilt-top",g);return d.push(...this.getAreaDividers(s,f)),h.components?.push(f),void this.divideParentComponent(f,d[0],s)}if(1!==i.areas.length||s.areas.length){if(1!==s.areas.length){const g=new Mh(c,[],d);d.push(...this.getAreaDividers(s,g)),h.components?.push(g),e=g}d.length?this.divideParentComponent(e,d[0],s):s.areas.forEach(g=>{this.fillComponentWithContent(e,s,g,c)})}else{const g=new Mh(c),f=new LS("glazing",g);h.components?.push(f)}}getAreaDividers(e,i){const s=[];if(!e.dividers?.length)return s;const h=e.dividers[0].edge,g=this.helpersService.getPolygonFromComponent(i).getCutSegment_nearestIntersection(h);if(g){const f=new TC("simple-mullion",[[Math.abs(g.p1.x),0,Math.abs(g.p1.y)],[Math.abs(g.p2.x),0,Math.abs(g.p2.y)]]);s.push(f)}return s}divideParentComponent(e,i,s){if(!i&&s.areas[0])return void this.fillComponentWithContent(e,s,s.areas[0],this.helpersService.getAreaFromComponent(e).geometry);if(!i)return;const c=this.helpersService.getPolygonFromComponent(e),h=new Wo({points:c.points}),d=new at(this.helpersService.convertPoint3DToPoint(i.geometry[0]),this.helpersService.convertPoint3DToPoint(i.geometry[1]));h.divide(d),s.areas.forEach(g=>{const f=h.areas.find(y=>this.geometryService.isPolygonInside(g.points,y.points)),_=this.helpersService.convertPolygonToPolygon3D(f);this.fillComponentWithContent(e,s,g,_)})}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(Hm),r.CoB(Im))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.q87),r.GI1(r.GMv))};static#t=this.\u0275dir=r.Sc5({type:n})}return n})(),cc=(()=>{class n extends BC{static#e=this.\u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static#t=this.\u0275dir=r.Sc5({type:n,features:[r.eg9]})}return n})();const ki=new r.UbH(""),PC={provide:ki,useExisting:(0,r.wd)(()=>Eu),multi:!0},RC=new r.UbH("");let Eu=(()=>{class n extends BC{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kC(){const n=W()?W().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.q87),r.GI1(r.GMv),r.GI1(RC,8))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){1&i&&r.qCj("input",function(h){return s._handleInput(h.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(h){return s._compositionEnd(h.target.value)})},features:[r.M5G([PC]),r.eg9]})}return n})();const k1=new r.UbH(""),J2=new r.UbH("");function S(n){return null!=n}function H(n){return(0,r.w5$)(n)?(0,Je.Q)(n):n}function $(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function K(n,t){return t.map(e=>e(n))}function ze(n){return n.map(t=>function ce(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ye(n){return null!=n?function Ie(n){if(!n)return null;const t=n.filter(S);return 0==t.length?null:function(e){return $(K(e,t))}}(ze(n)):null}function gt(n){return null!=n?function be(n){if(!n)return null;const t=n.filter(S);return 0==t.length?null:function(e){return function OC(...n){const t=(0,jt.yu)(n),{args:e,keys:i}=$0(n),s=new t1._(c=>{const{length:h}=e;if(!h)return void c.complete();const d=new Array(h);let g=h,f=h;for(let _=0;_<h;_++){let y=!1;(0,Tr.Uv)(e[_]).subscribe((0,c1.e)(c,C=>{y||(y=!0,f--),d[_]=C},()=>g--,void 0,()=>{(!g||!y)&&(f||c.next(i?rp(i,d):d),c.complete())}))}});return t?s.pipe(Ct(t)):s}(K(e,t).map(H)).pipe((0,xt.k)($))}}(ze(n)):null}function Ut(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function es(n){return n?Array.isArray(n)?n:[n]:[]}function ac(n,t){return Array.isArray(n)?n.includes(t):n===t}function Dm(n,t){const e=es(t);return es(n).forEach(s=>{ac(e,s)||e.push(s)}),e}function Am(n,t){return es(t).filter(e=>!ac(n,e))}class DS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ye(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class yi extends DS{get formDirective(){return null}get path(){return null}}class hc extends DS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AS{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let OS=(()=>{class n extends AS{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(hc,2))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){2&i&&r.eAK("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[r.eg9]})}return n})();const Lu="VALID",Bm="INVALID",xh="PENDING",Vu="DISABLED";function Pm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $C{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Lu}get invalid(){return this.status===Bm}get pending(){return this.status==xh}get disabled(){return this.status===Vu}get enabled(){return this.status!==Vu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Dm(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Dm(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Am(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Am(t,this._rawAsyncValidators))}hasValidator(t){return ac(this._rawValidators,t)}hasAsyncValidator(t){return ac(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vu,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lu,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lu||this.status===xh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vu:Lu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xh,this._hasOwnPendingAsyncValidator=!0;const e=H(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,s)=>i&&i._find(s),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r._w7,this.statusChanges=new r._w7}_calculateStatus(){return this._allControlsDisabled()?Vu:this.errors?Bm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xh)?xh:this._anyControlsHaveStatus(Bm)?Bm:Lu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Pm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function JH(n){return Array.isArray(n)?Ye(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function eI(n){return Array.isArray(n)?gt(n):n||null}(this._rawAsyncValidators)}}const bh=new r.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>km}),km="always";function Hu(n,t,e=km){(function WC(n,t){const e=function Yt(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Ut(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function Xn(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Ut(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();Fm(t._rawValidators,s),Fm(t._rawAsyncValidators,s)})(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function iI(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&RS(n,t)})}(n,t),function oI(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function sI(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&RS(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function nI(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Fm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function RS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function GS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function US(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}Promise.resolve();const $S=class extends $C{constructor(t=null,e,i){super(function GC(n){return(Pm(n)?n.validators:n)||null}(e),function UC(n,t){return(Pm(t)?t.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=US(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){US(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},vI={provide:hc,useExisting:(0,r.wd)(()=>ZC)},qS=Promise.resolve();let ZC=(()=>{class n extends hc{constructor(e,i,s,c,h,d){super(),this._changeDetectorRef=h,this.callSetDisabledState=d,this.control=new $S,this._registered=!1,this.name="",this.update=new r._w7,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function YC(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(c=>{c.constructor===Eu?e=c:function cI(n){return Object.getPrototypeOf(n.constructor)===cc}(c)?i=c:s=c}),s||i||e||null}(0,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function KC(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){qS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,s=0!==i&&(0,r.cZD)(i);qS.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Rm(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(yi,9),r.GI1(k1,10),r.GI1(J2,10),r.GI1(ki,10),r.GI1(r.kD9,8),r.GI1(bh,8))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[r.Wk5.None,"disabled","isDisabled"],model:[r.Wk5.None,"ngModel","model"],options:[r.Wk5.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.M5G([vI]),r.eg9,r.SYr]})}return n})(),kI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})(),NI=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:bh,useValue:e.callSetDisabledState??km}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({imports:[kI]})}return n})(),FI=(()=>{class n{host;constructor(e){this.host=e}autofocus;focused=!1;ngAfterContentChecked(){if(!this.focused&&this.autofocus){const e=oe.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}static \u0275fac=function(i){return new(i||n)(r.GI1(r.GMv))};static \u0275dir=r.Sc5({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}})}return n})(),GI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn]})}return n})();const UI=["overlay"],$I=["content"];function jI(n,t){1&n&&r.C_f(0)}const WI=(n,t,e)=>({showTransitionParams:n,hideTransitionParams:t,transform:e}),qI=n=>({value:"visible",params:n}),KI=n=>({mode:n}),YI=n=>({$implicit:n});function QI(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",1,3),r.qCj("click",function(s){r.usT(e);const c=r.GaO(2);return r.CGJ(c.onOverlayContentClick(s))})("@overlayContentAnimation.start",function(s){r.usT(e);const c=r.GaO(2);return r.CGJ(c.onOverlayContentAnimationStart(s))})("@overlayContentAnimation.done",function(s){r.usT(e);const c=r.GaO(2);return r.CGJ(c.onOverlayContentAnimationDone(s))}),r._Xx(2),r.yuY(3,jI,1,0,"ng-container",4),r.C$Y()}if(2&n){const e=r.GaO(2);r.m8U(e.contentStyleClass),r.E7m("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",r.S45(11,qI,r.uAc(7,WI,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),r.yG2(3),r.E7m("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",r.S45(15,YI,r.S45(13,KI,e.overlayMode)))}}const ZI=(n,t,e,i,s,c,h,d,g,f,_,y,C,x)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":s,"p-overlay-bottom":c,"p-overlay-bottom-start":h,"p-overlay-bottom-end":d,"p-overlay-left":g,"p-overlay-left-start":f,"p-overlay-left-end":_,"p-overlay-right":y,"p-overlay-right-start":C,"p-overlay-right-end":x});function XI(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",1,2),r.qCj("click",function(){r.usT(e);const s=r.GaO();return r.CGJ(s.onOverlayClick())}),r.yuY(2,QI,4,17,"div",0),r.C$Y()}if(2&n){const e=r.GaO();r.m8U(e.styleClass),r.E7m("ngStyle",e.style)("ngClass",r.gFU(5,ZI,[e.modal,e.modal&&"center"===e.overlayResponsiveDirection,e.modal&&"top"===e.overlayResponsiveDirection,e.modal&&"top-start"===e.overlayResponsiveDirection,e.modal&&"top-end"===e.overlayResponsiveDirection,e.modal&&"bottom"===e.overlayResponsiveDirection,e.modal&&"bottom-start"===e.overlayResponsiveDirection,e.modal&&"bottom-end"===e.overlayResponsiveDirection,e.modal&&"left"===e.overlayResponsiveDirection,e.modal&&"left-start"===e.overlayResponsiveDirection,e.modal&&"left-end"===e.overlayResponsiveDirection,e.modal&&"right"===e.overlayResponsiveDirection,e.modal&&"right-start"===e.overlayResponsiveDirection,e.modal&&"right-end"===e.overlayResponsiveDirection])),r.yG2(2),r.E7m("ngIf",e.visible)}}const JI=["*"],eT={provide:ki,useExisting:(0,r.wd)(()=>dL),multi:!0},tT=oC([it({transform:"{{transform}}",opacity:0}),Wt("{{showTransitionParams}}")]),nT=oC([Wt("{{hideTransitionParams}}",it({transform:"{{transform}}",opacity:0}))]);let dL=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return ft.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return ft.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return ft.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return ft.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){const e=this._target||this.overlayOptions?.target;return void 0===e?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){const e=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===e||e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){const e=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===e?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){const e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===e?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){const e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===e?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new r._w7;onBeforeShow=new r._w7;onShow=new r._w7;onBeforeHide=new r._w7;onHide=new r._w7;onAnimationStart=new r._w7;onAnimationDone=new r._w7;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(lt(this.platformId))return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return oe.getTargetElement(this.target,this.el?.nativeElement)}constructor(e,i,s,c,h,d,g,f){this.document=e,this.platformId=i,this.el=s,this.renderer=c,this.config=h,this.overlayService=d,this.cd=g,this.zone=f,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&oe.focus(this.targetEl),this.modal&&oe.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&oe.focus(this.targetEl),this.modal&&oe.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&oe.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&D2.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),oe.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&oe.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){const i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.show(i,!0),this.bindListeners();break;case"void":this.hide(i,!0),this.unbindListeners(),oe.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),D2.clear(i),this.modalVisible=!1,this.cd.markForCheck()}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new _7(this.targetEl,e=>{(!this.listener||this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{const s=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target))||this.isOverlayContentClicked);(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:3!==e.which&&s}):s)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!oe.isTouchDevice()}):!oe.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{!1!==this.overlayOptions.hideOnEscape&&"Escape"===e.code&&(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!oe.isTouchDevice()}):!oe.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(oe.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),D2.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(r.GI1(X),r.GI1(r.AHE),r.GI1(r.GMv),r.GI1(r.q87),r.GI1(wl),r.GI1(U5),r.GI1(r.kD9),r.GI1(r.WW2))};static \u0275cmp=r.In1({type:n,selectors:[["p-overlay"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},viewQuery:function(i,s){if(1&i&&(r.CC$(UI,5),r.CC$($I,5)),2&i){let c;r.wto(c=r.Gqi())&&(s.overlayViewChild=c.first),r.wto(c=r.Gqi())&&(s.contentViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[r.M5G([eT])],ngContentSelectors:JI,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&(r.kPM(),r.yuY(0,XI,3,20,"div",0)),2&i&&r.E7m("ngIf",s.modalVisible)},dependencies:[e1,zn,Pe,Ve],styles:["@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}\n"],encapsulation:2,data:{animation:[u1("overlayContentAnimation",[qt(":enter",[rC(tT)]),qt(":leave",[rC(nT)])])]},changeDetection:0})}return n})(),vL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,z1,z1]})}return n})();const iT=["element"],sT=["content"];function oT(n,t){1&n&&r.C_f(0)}const sM=(n,t)=>({$implicit:n,options:t});function rT(n,t){if(1&n&&(r.SAx(0),r.yuY(1,oT,1,0,"ng-container",7),r.k70()),2&n){const e=r.GaO(2);r.yG2(),r.E7m("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",r.IBC(2,sM,e.loadedItems,e.getContentOptions()))}}function lT(n,t){1&n&&r.C_f(0)}function cT(n,t){if(1&n&&(r.SAx(0),r.yuY(1,lT,1,0,"ng-container",7),r.k70()),2&n){const e=t.$implicit,i=t.index,s=r.GaO(3);r.yG2(),r.E7m("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",r.IBC(2,sM,e,s.getOptions(i)))}}const aT=n=>({"p-scroller-loading":n});function hT(n,t){if(1&n&&(r.I0R(0,"div",8,9),r.yuY(2,cT,2,5,"ng-container",10),r.C$Y()),2&n){const e=r.GaO(2);r.E7m("ngClass",r.S45(5,aT,e.d_loading))("ngStyle",e.contentStyle),r.e48("data-pc-section","content"),r.yG2(2),r.E7m("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function uT(n,t){if(1&n&&r.wR5(0,"div",11),2&n){const e=r.GaO(2);r.E7m("ngStyle",e.spacerStyle),r.e48("data-pc-section","spacer")}}function dT(n,t){1&n&&r.C_f(0)}const vT=n=>({numCols:n}),gL=n=>({options:n});function gT(n,t){if(1&n&&(r.SAx(0),r.yuY(1,dT,1,0,"ng-container",7),r.k70()),2&n){const e=t.index,i=r.GaO(4);r.yG2(),r.E7m("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",r.S45(4,gL,i.getLoaderOptions(e,i.both&&r.S45(2,vT,i._numItemsInViewport.cols))))}}function mT(n,t){if(1&n&&(r.SAx(0),r.yuY(1,gT,2,6,"ng-container",14),r.k70()),2&n){const e=r.GaO(3);r.yG2(),r.E7m("ngForOf",e.loaderArr)}}function fT(n,t){1&n&&r.C_f(0)}const pT=()=>({styleClass:"p-scroller-loading-icon"});function wT(n,t){if(1&n&&(r.SAx(0),r.yuY(1,fT,1,0,"ng-container",7),r.k70()),2&n){const e=r.GaO(4);r.yG2(),r.E7m("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",r.S45(3,gL,r.q4q(2,pT)))}}function _T(n,t){1&n&&r.wR5(0,"SpinnerIcon",16),2&n&&(r.E7m("styleClass","p-scroller-loading-icon pi-spin"),r.e48("data-pc-section","loadingIcon"))}function zT(n,t){if(1&n&&r.yuY(0,wT,2,5,"ng-container",0)(1,_T,1,2,"ng-template",null,15,r.gJz),2&n){const e=r.Gew(2),i=r.GaO(3);r.E7m("ngIf",i.loaderIconTemplate)("ngIfElse",e)}}const yT=n=>({"p-component-overlay":n});function CT(n,t){if(1&n&&(r.I0R(0,"div",12),r.yuY(1,mT,2,1,"ng-container",0)(2,zT,3,2,"ng-template",null,13,r.gJz),r.C$Y()),2&n){const e=r.Gew(3),i=r.GaO(2);r.E7m("ngClass",r.S45(4,yT,!i.loaderTemplate)),r.e48("data-pc-section","loader"),r.yG2(),r.E7m("ngIf",i.loaderTemplate)("ngIfElse",e)}}const MT=(n,t,e)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":t,"p-horizontal-scroll":e});function xT(n,t){if(1&n){const e=r.KQA();r.SAx(0),r.I0R(1,"div",2,3),r.qCj("scroll",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onContainerScroll(s))}),r.yuY(3,rT,2,5,"ng-container",0)(4,hT,3,7,"ng-template",null,4,r.gJz)(6,uT,1,2,"div",5)(7,CT,4,6,"div",6),r.C$Y(),r.k70()}if(2&n){const e=r.Gew(5),i=r.GaO();r.yG2(),r.m8U(i._styleClass),r.E7m("ngStyle",i._style)("ngClass",r.uAc(12,MT,i.inline,i.both,i.horizontal)),r.e48("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),r.yG2(2),r.E7m("ngIf",i.contentTemplate)("ngIfElse",e),r.yG2(3),r.E7m("ngIf",i._showSpacer),r.yG2(),r.E7m("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function bT(n,t){1&n&&r.C_f(0)}const ET=(n,t)=>({rows:n,columns:t});function ST(n,t){if(1&n&&(r.SAx(0),r.yuY(1,bT,1,0,"ng-container",7),r.k70()),2&n){const e=r.GaO(2);r.yG2(),r.E7m("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",r.IBC(5,sM,e.items,r.IBC(2,ET,e._items,e.loadedColumns)))}}function LT(n,t){if(1&n&&(r._Xx(0),r.yuY(1,ST,2,8,"ng-container",17)),2&n){const e=r.GaO();r.yG2(),r.E7m("ngIf",e.contentTemplate)}}const VT=["*"];let HT=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,s])=>this[`_${i}`]!==s&&(this[`_${i}`]=s))}onLazyLoad=new r._w7;onScroll=new r._w7;onScrollIndexChange=new r._w7;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(e,i,s,c,h){this.document=e,this.platformId=i,this.renderer=s,this.cd=c,this.zone=h}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:s,currentValue:c}=e.loading;this.lazy&&s!==c&&c!==this.d_loading&&(this.d_loading=c,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:s,currentValue:c}=e.numToleratedItems;s!==c&&c!==this.d_numToleratedItems&&(this.d_numToleratedItems=c)}if(e.options){const{previousValue:s,currentValue:c}=e.options;this.lazy&&s?.loading!==c?.loading&&c?.loading!==this.d_loading&&(this.d_loading=c.loading,i=!0),s?.numToleratedItems!==c?.numToleratedItems&&c?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=c.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){lt(this.platformId)&&oe.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=oe.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=oe.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=oe.getWidth(this.contentEl),this.defaultContentHeight=oe.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||oe.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+4*this.d_numToleratedItems)/(this._step||1))}isPageChanged(e){return!this._step||this.page!==this.getPageByFirst(e??this.first)}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:s}=this.calculateNumItems(),c=this.getContentPosition(),h=(_=0,y)=>_<=y?0:_,d=(_,y,C)=>_*y+C,g=(_=0,y=0)=>this.scrollTo({left:_,top:y,behavior:i});let f=0;if(this.both)f={rows:h(e[0],s[0]),cols:h(e[1],s[1])},g(d(f.cols,this._itemSize[1],c.left),d(f.rows,this._itemSize[0],c.top));else if(f=h(e,s),this.horizontal&&g(d(f,this._itemSize,c.left),0),this.vertical){const _=this.elementViewChild?.nativeElement.scrollLeft;g(_,d(f,this._itemSize,c.top))}this.isRangeChanged=this.first!==f,this.first=f}scrollInView(e,i,s="auto"){if(i){const{first:c,viewport:h}=this.getRenderedRange(),d=(_=0,y=0)=>this.scrollTo({left:_,top:y,behavior:s}),f="to-end"===i;if("to-start"===i){if(this.both)h.first.rows-c.rows>e[0]?d(h.first.cols*this._itemSize[1],(h.first.rows-1)*this._itemSize[0]):h.first.cols-c.cols>e[1]&&d((h.first.cols-1)*this._itemSize[1],h.first.rows*this._itemSize[0]);else if(h.first-c>e){const _=(h.first-1)*this._itemSize;this.horizontal?d(_,0):d(0,_)}}else if(f)if(this.both)h.last.rows-c.rows<=e[0]+1?d(h.first.cols*this._itemSize[1],(h.first.rows+1)*this._itemSize[0]):h.last.cols-c.cols<=e[1]+1&&d((h.first.cols+1)*this._itemSize[1],h.first.rows*this._itemSize[0]);else if(h.last-c<=e+1){const _=(h.first+1)*this._itemSize;this.horizontal?d(_,0):d(0,_)}}else this.scrollToIndex(e,s)}getRenderedRange(){const e=(c,h)=>Math.floor(c/(h||c));let i=this.first,s=0;if(this.elementViewChild?.nativeElement){const{scrollTop:c,scrollLeft:h}=this.elementViewChild.nativeElement;this.both?(i={rows:e(c,this._itemSize[0]),cols:e(h,this._itemSize[1])},s={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?h:c,this._itemSize),s=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:s}}}calculateNumItems(){const e=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,s=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,c=(f,_)=>Math.ceil(f/(_||f)),h=f=>Math.ceil(f/2),d=this.both?{rows:c(s,this._itemSize[0]),cols:c(i,this._itemSize[1])}:c(this.horizontal?i:s,this._itemSize);return{numItemsInViewport:d,numToleratedItems:this.d_numToleratedItems||(this.both?[h(d.rows),h(d.cols)]:h(d))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),s=(d,g,f,_=!1)=>this.getLast(d+g+(d<f?2:3)*f,_),c=this.first,h=this.both?{rows:s(this.first.rows,e.rows,i[0]),cols:s(this.first.cols,e.cols,i[1],!0)}:s(this.first,e,i);this.last=h,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:c.cols}:0:c,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[e,i]=[oe.getWidth(this.contentEl),oe.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[s,c]=[oe.getWidth(this.elementViewChild.nativeElement),oe.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=s<this.defaultWidth?s+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=c<this.defaultHeight?c+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),s=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),c=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),h=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:s,top:c,bottom:h,x:i+s,y:c+h}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,s=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,c=(h,d)=>this.elementViewChild.nativeElement.style[h]=d;this.both||this.horizontal?(c("height",s),c("width",i)):c("height",s)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(s,c,h,d=0)=>this.spacerStyle={...this.spacerStyle,[`${s}`]:(c||[]).length*h+d+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){const i=e?e.first:this.first,s=(h,d)=>h*d,c=(h=0,d=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${h}px, ${d}px, 0)`};if(this.both)c(s(i.cols,this._itemSize[1]),s(i.rows,this._itemSize[0]));else{const h=s(i,this._itemSize);this.horizontal?c(h,0):c(0,h)}}}onScrollPositionChange(e){const i=e.target,s=this.getContentPosition(),c=(V,B)=>V?V>B?V-B:V:0,h=(V,B)=>Math.floor(V/(B||V)),d=(V,B,R,te,J,ve)=>V<=J?J:ve?R-te-J:B+J-1,g=(V,B,R,te,J,ve,ge)=>V<=ve?0:Math.max(0,ge?V<B?R:V-ve:V>B?R:V-2*ve),f=(V,B,R,te,J,ve=!1)=>{let ge=B+te+2*J;return V>=J&&(ge+=J+1),this.getLast(ge,ve)},_=c(i.scrollTop,s.top),y=c(i.scrollLeft,s.left);let C=this.both?{rows:0,cols:0}:0,x=this.last,b=!1,L=this.lastScrollPos;if(this.both){const V=this.lastScrollPos.top<=_,B=this.lastScrollPos.left<=y;if(!this._appendOnly||this._appendOnly&&(V||B)){const R={rows:h(_,this._itemSize[0]),cols:h(y,this._itemSize[1])},te={rows:d(R.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],V),cols:d(R.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],B)};C={rows:g(R.rows,te.rows,this.first.rows,0,0,this.d_numToleratedItems[0],V),cols:g(R.cols,te.cols,this.first.cols,0,0,this.d_numToleratedItems[1],B)},x={rows:f(R.rows,C.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:f(R.cols,C.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},b=C.rows!==this.first.rows||x.rows!==this.last.rows||C.cols!==this.first.cols||x.cols!==this.last.cols||this.isRangeChanged,L={top:_,left:y}}}else{const V=this.horizontal?y:_,B=this.lastScrollPos<=V;if(!this._appendOnly||this._appendOnly&&B){const R=h(V,this._itemSize);C=g(R,d(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,B),this.first,0,0,this.d_numToleratedItems,B),x=f(R,C,0,this.numItemsInViewport,this.d_numToleratedItems),b=C!==this.first||x!==this.last||this.isRangeChanged,L=V}}return{first:C,last:x,isRangeChanged:b,scrollPos:L}}onScrollChange(e){const{first:i,last:s,isRangeChanged:c,scrollPos:h}=this.onScrollPositionChange(e);if(c){const d={first:i,last:s};if(this.setContentPosition(d),this.first=i,this.last=s,this.lastScrollPos=h,this.handleEvents("onScrollIndexChange",d),this._lazy&&this.isPageChanged(i)){const g={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:s,this.items.length)};(this.lazyLoadState.first!==g.first||this.lazyLoadState.last!==g.last)&&this.handleEvents("onLazyLoad",g),this.lazyLoadState=g}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);(i||this._step&&this.isPageChanged())&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){lt(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{const e=this.document.defaultView,i=oe.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(oe.isVisible(this.elementViewChild?.nativeElement)){const[e,i]=[oe.getWidth(this.elementViewChild?.nativeElement),oe.getHeight(this.elementViewChild?.nativeElement)],[s,c]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?s||c:this.horizontal?s:this.vertical&&c)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=oe.getWidth(this.contentEl),this.defaultContentHeight=oe.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,s=this.both?this.first.rows+e:this.first+e;return{index:s,count:i,first:0===s,last:s===i-1,even:s%2==0,odd:s%2!=0}}getLoaderOptions(e,i){const s=this.loaderArr.length;return{index:e,count:s,first:0===e,last:e===s-1,even:e%2==0,odd:e%2!=0,...i}}static \u0275fac=function(i){return new(i||n)(r.GI1(X),r.GI1(r.AHE),r.GI1(r.q87),r.GI1(r.kD9),r.GI1(r.WW2))};static \u0275cmp=r.In1({type:n,selectors:[["p-scroller"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},viewQuery:function(i,s){if(1&i&&(r.CC$(iT,5),r.CC$(sT,5)),2&i){let c;r.wto(c=r.Gqi())&&(s.elementViewChild=c.first),r.wto(c=r.Gqi())&&(s.contentViewChild=c.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[r.SYr],ngContentSelectors:VT,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[3,"styleClass"],[4,"ngIf"]],template:function(i,s){if(1&i&&(r.kPM(),r.yuY(0,xT,8,16,"ng-container",0)(1,LT,2,1,"ng-template",null,1,r.gJz)),2&i){const c=r.Gew(2);r.E7m("ngIf",!s._disabled)("ngIfElse",c)}},dependencies:()=>[e1,ri,zn,Pe,Ve,Ja],styles:["@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}\n"],encapsulation:2})}return n})(),mL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,z1,Ja,z1]})}return n})(),fL=(()=>{class n extends gs{pathId;ngOnInit(){this.pathId="url(#"+Fs()+")"}static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0)(1,"g"),r.wR5(2,"path",1),r.C$Y(),r.I0R(3,"defs")(4,"clipPath",2),r.wR5(5,"rect",3),r.C$Y()()()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),r.yG2(),r.e48("clip-path",s.pathId),r.yG2(3),r.E7m("id",s.pathId))},encapsulation:2})}return n})();function IT(n,t){if(1&n&&(r.I0R(0,"span"),r.OEk(1),r.C$Y()),2&n){const e=r.GaO();let i;r.yG2(),r.cNF(null!==(i=e.label)&&void 0!==i?i:"empty")}}function TT(n,t){1&n&&r.C_f(0)}const Tu=n=>({height:n}),DT=(n,t,e)=>({"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t,"p-focus":e}),oM=n=>({$implicit:n}),AT=["container"],OT=["filter"],BT=["focusInput"],PT=["editableInput"],kT=["items"],RT=["scroller"],NT=["overlay"],FT=["firstHiddenFocusableEl"],GT=["lastHiddenFocusableEl"];function UT(n,t){if(1&n&&(r.SAx(0),r.OEk(1),r.k70()),2&n){const e=r.GaO(2);r.yG2(),r.cNF("p-emptylabel"===e.label()?"\xa0":e.label())}}function $T(n,t){1&n&&r.C_f(0)}function jT(n,t){if(1&n&&(r.I0R(0,"span"),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(3);r.yG2(),r.cNF("p-emptylabel"===e.label()?"\xa0":e.placeholder)}}function WT(n,t){if(1&n&&r.yuY(0,jT,2,1,"span",4),2&n){const e=r.GaO(2);r.E7m("ngIf",(void 0===e.modelValue()||null===e.modelValue)&&(e.label()===e.placeholder||e.label()&&!e.placeholder))}}function qT(n,t){if(1&n){const e=r.KQA();r.I0R(0,"span",10,11),r.qCj("focus",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onInputFocus(s))})("blur",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onInputBlur(s))})("keydown",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onKeyDown(s))}),r.yuY(2,UT,2,1,"ng-container",12)(3,$T,1,0,"ng-container",13)(4,WT,1,1,"ng-template",null,14,r.gJz),r.C$Y()}if(2&n){const e=r.Gew(5),i=r.GaO();r.E7m("ngClass",i.inputClass)("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass)("autofocus",i.autofocus),r.e48("aria-disabled",i.disabled)("id",i.inputId)("aria-label",i.ariaLabel||("p-emptylabel"===i.label()?void 0:i.label()))("aria-labelledby",i.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",i.overlayVisible)("aria-controls",i.id+"_list")("tabindex",i.disabled?-1:i.tabindex)("aria-activedescendant",i.focused?i.focusedOptionId:void 0)("aria-required",i.required)("required",i.required),r.yG2(2),r.E7m("ngIf",!i.selectedItemTemplate)("ngIfElse",e),r.yG2(),r.E7m("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",r.S45(21,oM,i.selectedOption))}}function KT(n,t){if(1&n){const e=r.KQA();r.I0R(0,"input",15,16),r.qCj("input",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onEditableInput(s))})("keydown",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onKeyDown(s))})("focus",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onInputFocus(s))})("blur",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onInputBlur(s))}),r.C$Y()}if(2&n){const e=r.GaO();r.E7m("ngClass",e.inputClass)("disabled",e.disabled),r.e48("maxlength",e.maxlength)("placeholder",void 0===e.modelValue()||null===e.modelValue()?e.placeholder:void 0)("aria-expanded",e.overlayVisible)}}function YT(n,t){if(1&n){const e=r.KQA();r.I0R(0,"TimesIcon",19),r.qCj("click",function(s){r.usT(e);const c=r.GaO(2);return r.CGJ(c.clear(s))}),r.C$Y()}2&n&&(r.E7m("styleClass","p-dropdown-clear-icon"),r.e48("data-pc-section","clearicon"))}function QT(n,t){}function ZT(n,t){1&n&&r.yuY(0,QT,0,0,"ng-template")}function XT(n,t){if(1&n){const e=r.KQA();r.I0R(0,"span",20),r.qCj("click",function(s){r.usT(e);const c=r.GaO(2);return r.CGJ(c.clear(s))}),r.yuY(1,ZT,1,0,null,21),r.C$Y()}if(2&n){const e=r.GaO(2);r.e48("data-pc-section","clearicon"),r.yG2(),r.E7m("ngTemplateOutlet",e.clearIconTemplate)}}function JT(n,t){if(1&n&&(r.SAx(0),r.yuY(1,YT,1,2,"TimesIcon",17)(2,XT,2,2,"span",18),r.k70()),2&n){const e=r.GaO();r.yG2(),r.E7m("ngIf",!e.clearIconTemplate),r.yG2(),r.E7m("ngIf",e.clearIconTemplate)}}function eD(n,t){if(1&n&&r.wR5(0,"span",24),2&n){const e=r.GaO(2);r.E7m("ngClass",e.dropdownIcon)}}function tD(n,t){1&n&&r.wR5(0,"ChevronDownIcon",25),2&n&&r.E7m("styleClass","p-dropdown-trigger-icon")}function nD(n,t){if(1&n&&(r.SAx(0),r.yuY(1,eD,1,1,"span",22)(2,tD,1,1,"ChevronDownIcon",23),r.k70()),2&n){const e=r.GaO();r.yG2(),r.E7m("ngIf",e.dropdownIcon),r.yG2(),r.E7m("ngIf",!e.dropdownIcon)}}function iD(n,t){}function sD(n,t){1&n&&r.yuY(0,iD,0,0,"ng-template")}function oD(n,t){if(1&n&&(r.I0R(0,"span",26),r.yuY(1,sD,1,0,null,21),r.C$Y()),2&n){const e=r.GaO();r.yG2(),r.E7m("ngTemplateOutlet",e.dropdownIconTemplate)}}function rD(n,t){1&n&&r.C_f(0)}function lD(n,t){1&n&&r.C_f(0)}const pL=n=>({options:n});function cD(n,t){if(1&n&&(r.SAx(0),r.yuY(1,lD,1,0,"ng-container",13),r.k70()),2&n){const e=r.GaO(3);r.yG2(),r.E7m("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",r.S45(2,pL,e.filterOptions))}}function aD(n,t){1&n&&r.wR5(0,"SearchIcon",25),2&n&&r.E7m("styleClass","p-dropdown-filter-icon")}function hD(n,t){}function uD(n,t){1&n&&r.yuY(0,hD,0,0,"ng-template")}function dD(n,t){if(1&n&&(r.I0R(0,"span",41),r.yuY(1,uD,1,0,null,21),r.C$Y()),2&n){const e=r.GaO(4);r.yG2(),r.E7m("ngTemplateOutlet",e.filterIconTemplate)}}function vD(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",37)(1,"input",38,39),r.qCj("input",function(s){r.usT(e);const c=r.GaO(3);return r.CGJ(c.onFilterInputChange(s))})("keydown",function(s){r.usT(e);const c=r.GaO(3);return r.CGJ(c.onFilterKeyDown(s))})("blur",function(s){r.usT(e);const c=r.GaO(3);return r.CGJ(c.onFilterBlur(s))}),r.C$Y(),r.yuY(3,aD,1,1,"SearchIcon",23)(4,dD,2,1,"span",40),r.C$Y()}if(2&n){const e=r.GaO(3);r.yG2(),r.E7m("value",e._filterValue()||""),r.e48("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),r.yG2(2),r.E7m("ngIf",!e.filterIconTemplate),r.yG2(),r.E7m("ngIf",e.filterIconTemplate)}}function gD(n,t){if(1&n&&(r.I0R(0,"div",35),r.qCj("click",function(i){return i.stopPropagation()}),r.yuY(1,cD,2,4,"ng-container",12)(2,vD,5,7,"ng-template",null,36,r.gJz),r.C$Y()),2&n){const e=r.Gew(3),i=r.GaO(2);r.yG2(),r.E7m("ngIf",i.filterTemplate)("ngIfElse",e)}}function mD(n,t){1&n&&r.C_f(0)}const wL=(n,t)=>({$implicit:n,options:t});function fD(n,t){if(1&n&&r.yuY(0,mD,1,0,"ng-container",13),2&n){const e=t.$implicit,i=t.options;r.GaO(2);const s=r.Gew(9);r.E7m("ngTemplateOutlet",s)("ngTemplateOutletContext",r.IBC(2,wL,e,i))}}function pD(n,t){1&n&&r.C_f(0)}function wD(n,t){if(1&n&&r.yuY(0,pD,1,0,"ng-container",13),2&n){const e=t.options,i=r.GaO(4);r.E7m("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",r.S45(2,pL,e))}}function _D(n,t){1&n&&(r.SAx(0),r.yuY(1,wD,1,4,"ng-template",44),r.k70())}function zD(n,t){if(1&n){const e=r.KQA();r.I0R(0,"p-scroller",42,43),r.qCj("onLazyLoad",function(s){r.usT(e);const c=r.GaO(2);return r.CGJ(c.onLazyLoad.emit(s))}),r.yuY(2,fD,1,5,"ng-template",9)(3,_D,2,0,"ng-container",4),r.C$Y()}if(2&n){const e=r.GaO(2);r.m_g(r.S45(8,Tu,e.scrollHeight)),r.E7m("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),r.yG2(3),r.E7m("ngIf",e.loaderTemplate)}}function yD(n,t){1&n&&r.C_f(0)}const CD=()=>({});function MD(n,t){if(1&n&&(r.SAx(0),r.yuY(1,yD,1,0,"ng-container",13),r.k70()),2&n){r.GaO();const e=r.Gew(9),i=r.GaO();r.yG2(),r.E7m("ngTemplateOutlet",e)("ngTemplateOutletContext",r.IBC(3,wL,i.visibleOptions(),r.q4q(2,CD)))}}function xD(n,t){if(1&n&&(r.I0R(0,"span"),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(2).$implicit,i=r.GaO(3);r.yG2(),r.cNF(i.getOptionGroupLabel(e.optionGroup))}}function bD(n,t){1&n&&r.C_f(0)}function ED(n,t){if(1&n&&(r.SAx(0),r.I0R(1,"li",49),r.yuY(2,xD,2,1,"span",4)(3,bD,1,0,"ng-container",13),r.C$Y(),r.k70()),2&n){const e=r.GaO(),i=e.index,s=e.$implicit,c=r.GaO().options,h=r.GaO(2);r.yG2(),r.E7m("ngStyle",r.S45(5,Tu,c.itemSize+"px")),r.e48("id",h.id+"_"+h.getOptionIndex(i,c)),r.yG2(),r.E7m("ngIf",!h.groupTemplate),r.yG2(),r.E7m("ngTemplateOutlet",h.groupTemplate)("ngTemplateOutletContext",r.S45(7,oM,s.optionGroup))}}function SD(n,t){if(1&n){const e=r.KQA();r.SAx(0),r.I0R(1,"p-dropdownItem",50),r.qCj("onClick",function(s){r.usT(e);const c=r.GaO().$implicit,h=r.GaO(3);return r.CGJ(h.onOptionSelect(s,c))})("onMouseEnter",function(s){r.usT(e);const c=r.GaO().index,h=r.GaO().options,d=r.GaO(2);return r.CGJ(d.onOptionMouseEnter(s,d.getOptionIndex(c,h)))}),r.C$Y(),r.k70()}if(2&n){const e=r.GaO(),i=e.index,s=e.$implicit,c=r.GaO().options,h=r.GaO(2);r.yG2(),r.E7m("id",h.id+"_"+h.getOptionIndex(i,c))("option",s)("selected",h.isSelected(s))("label",h.getOptionLabel(s))("disabled",h.isOptionDisabled(s))("template",h.itemTemplate)("focused",h.focusedOptionIndex()===h.getOptionIndex(i,c))("ariaPosInset",h.getAriaPosInset(h.getOptionIndex(i,c)))("ariaSetSize",h.ariaSetSize)}}function LD(n,t){if(1&n&&r.yuY(0,ED,4,9,"ng-container",4)(1,SD,2,9,"ng-container",4),2&n){const e=t.$implicit,i=r.GaO(3);r.E7m("ngIf",i.isOptionGroup(e)),r.yG2(),r.E7m("ngIf",!i.isOptionGroup(e))}}function VD(n,t){if(1&n&&(r.SAx(0),r.OEk(1),r.k70()),2&n){const e=r.GaO(4);r.yG2(),r.oRS(" ",e.emptyFilterMessageLabel," ")}}function HD(n,t){1&n&&r.C_f(0,null,52)}function ID(n,t){if(1&n&&(r.I0R(0,"li",51),r.yuY(1,VD,2,1,"ng-container",12)(2,HD,2,0,"ng-container",21),r.C$Y()),2&n){const e=r.GaO().options,i=r.GaO(2);r.E7m("ngStyle",r.S45(4,Tu,e.itemSize+"px")),r.yG2(),r.E7m("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),r.yG2(),r.E7m("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function TD(n,t){if(1&n&&(r.SAx(0),r.OEk(1),r.k70()),2&n){const e=r.GaO(4);r.yG2(),r.oRS(" ",e.emptyMessageLabel," ")}}function DD(n,t){1&n&&r.C_f(0,null,53)}function AD(n,t){if(1&n&&(r.I0R(0,"li",51),r.yuY(1,TD,2,1,"ng-container",12)(2,DD,2,0,"ng-container",21),r.C$Y()),2&n){const e=r.GaO().options,i=r.GaO(2);r.E7m("ngStyle",r.S45(4,Tu,e.itemSize+"px")),r.yG2(),r.E7m("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),r.yG2(),r.E7m("ngTemplateOutlet",i.emptyTemplate)}}function OD(n,t){if(1&n&&(r.I0R(0,"ul",45,46),r.yuY(2,LD,2,2,"ng-template",47)(3,ID,3,6,"li",48)(4,AD,3,6,"li",48),r.C$Y()),2&n){const e=t.$implicit,i=t.options,s=r.GaO(2);r.m_g(i.contentStyle),r.E7m("ngClass",i.contentStyleClass),r.e48("id",s.id+"_list"),r.yG2(2),r.E7m("ngForOf",e),r.yG2(),r.E7m("ngIf",s.filterValue&&s.isEmpty()),r.yG2(),r.E7m("ngIf",!s.filterValue&&s.isEmpty())}}function BD(n,t){1&n&&r.C_f(0)}function PD(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",27)(1,"span",28,29),r.qCj("focus",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onFirstHiddenFocus(s))}),r.C$Y(),r.yuY(3,rD,1,0,"ng-container",21)(4,gD,4,2,"div",30),r.I0R(5,"div",31),r.yuY(6,zD,4,10,"p-scroller",32)(7,MD,2,6,"ng-container",4)(8,OD,5,7,"ng-template",null,33,r.gJz),r.C$Y(),r.yuY(10,BD,1,0,"ng-container",21),r.I0R(11,"span",28,34),r.qCj("focus",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onLastHiddenFocus(s))}),r.C$Y()()}if(2&n){const e=r.GaO();r.m8U(e.panelStyleClass),r.E7m("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),r.yG2(),r.e48("aria-hidden",!0)("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),r.yG2(2),r.E7m("ngTemplateOutlet",e.headerTemplate),r.yG2(),r.E7m("ngIf",e.filter),r.yG2(),r.m4B("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),r.yG2(),r.E7m("ngIf",e.virtualScroll),r.yG2(),r.E7m("ngIf",!e.virtualScroll),r.yG2(3),r.E7m("ngTemplateOutlet",e.footerTemplate),r.yG2(),r.e48("aria-hidden",!0)("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}const kD={provide:ki,useExisting:(0,r.wd)(()=>_L),multi:!0};let RD=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;onClick=new r._w7;onMouseEnter=new r._w7;ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=r.In1({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:"selected",focused:"focused",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},decls:3,vars:21,consts:[["role","option","pRipple","",3,"id","ngStyle","ngClass","click","mouseenter"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&(r.I0R(0,"li",0),r.qCj("click",function(h){return s.onOptionClick(h)})("mouseenter",function(h){return s.onOptionMouseEnter(h)}),r.yuY(1,IT,2,1,"span",1)(2,TT,1,0,"ng-container",2),r.C$Y()),2&i&&(r.E7m("id",s.id)("ngStyle",r.S45(13,Tu,s.itemSize+"px"))("ngClass",r.uAc(15,DT,s.selected,s.disabled,s.focused)),r.e48("aria-label",s.label)("aria-setsize",s.ariaSetSize)("aria-posinset",s.ariaPosInset)("aria-selected",s.selected)("data-p-focused",s.focused)("data-p-highlight",s.selected)("data-p-disabled",s.disabled),r.yG2(),r.E7m("ngIf",!s.template),r.yG2(),r.E7m("ngTemplateOutlet",s.template)("ngTemplateOutletContext",r.S45(19,oM,s.option)))},dependencies:[e1,zn,Pe,Ve,A2],encapsulation:2})}return n})(),_L=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;placeholder;filterPlaceholder;filterLocale;inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get options(){return this._options()}set options(e){ft.deepEquals(e,this._options())||this._options.set(e)}onChange=new r._w7;onFilter=new r._w7;onFocus=new r._w7;onBlur=new r._w7;onClick=new r._w7;onShow=new r._w7;onHide=new r._w7;onClear=new r._w7;onLazyLoad=new r._w7;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=(0,r.OCB)(null);modelValue=(0,r.OCB)(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=(0,r.OCB)(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=(0,r.OCB)(-1);labelId;listId;get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(dw.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(dw.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.modelValue()?!!this.modelValue():this.modelValue()||null!=this.modelValue()||null!=this.modelValue()}get isVisibleClearIcon(){return null!=this.modelValue()&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":void 0!==this.modelValue()&&null!==this.modelValue()&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible}}get inputClass(){const e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder&&e===this.placeholder,"p-dropdown-label-empty":!(this.editable||this.selectedItemTemplate||e&&"p-emptylabel"!==e&&0!==e.length)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":"filled"===this.config.inputStyle,"p-ripple-disabled":!1===this.config.ripple}}visibleOptions=(0,r.S6b)(()=>{const e=this.group?this.flatOptions(this.options):this.options||[];if(this._filterValue()){const s=this.filterBy||this.optionLabel||this.filterFields||this.optionValue?this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):this.options.filter(c=>-1!==c.toLowerCase().indexOf(this._filterValue().toLowerCase()));if(this.group){const h=[];return(this.options||[]).forEach(d=>{const f=this.getOptionGroupChildren(d).filter(_=>s.includes(_));f.length>0&&h.push({...d,["string"==typeof this.optionGroupChildren?this.optionGroupChildren:"items"]:[...f]})}),this.flatOptions(h)}return s}return e});label=(0,r.S6b)(()=>{const e=this.findSelectedOptionIndex();return-1!==e?this.getOptionLabel(this.visibleOptions()[e]):this.placeholder||"p-emptylabel"});selectedOption;editableInputValue=(0,r.S6b)(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,i,s,c,h,d){this.el=e,this.renderer=i,this.cd=s,this.zone=c,this.filterService=h,this.config=d,(0,r.o3l)(()=>{const g=this.modelValue(),f=this.visibleOptions();f&&ft.isNotEmpty(f)&&(this.selectedOption=f[this.findSelectedOptionIndex()],this.cd.markForCheck()),void 0!==g&&this.editable&&this.updateEditableLabel()})}ngOnInit(){this.id=this.id||Fs(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=oe.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&oe.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template}})}flatOptions(e){return(e||[]).reduce((i,s,c)=>{i.push({optionGroup:s,group:!0,index:c});const h=this.getOptionGroupChildren(s);return h&&h.forEach(d=>i.push(d)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&!this.modelValue()){const e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,i,s=!0,c=!1){const h=this.getOptionValue(i);this.updateModel(h,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s&&setTimeout(()=>this.hide(!0),1),!1===c&&this.onChange.emit({originalEvent:e,value:h})}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}updateModel(e,i){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder&&!this.modelValue()&&!this.editable&&this.options&&this.options.length}isSelected(e){return this.isValidOption(e)&&ft.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionLabel(e){return null!=this.optionLabel?ft.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue&&null!==this.optionValue?ft.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?ft.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return null!=this.optionGroupLabel?ft.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return null!=this.optionGroupChildren?ft.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),"INPUT"!==e.target.tagName&&"clearicon"!==e.target.getAttribute("data-pc-section")&&!e.target.closest('[data-pc-section="clearicon"]')&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&0===this.visibleOptions().length}onEditableInput(e){const i=e.target.value;this.searchValue="",!this.searchOptions(e,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,e),this.onChange.emit({originalEvent:e,value:i}),!this.overlayVisible&&ft.isNotEmpty(i)&&this.show()}show(e){this.overlayVisible=!0;const i=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),e&&oe.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if("visible"===e.toState){if(this.itemsWrapper=oe.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const i=this.modelValue()?this.focusedOptionIndex():-1;-1!==i&&this.scroller?.scrollToIndex(i)}else{let i=oe.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}"void"===e.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&oe.focus(this.focusInputViewChild?.nativeElement),this.editable&&this.editableInputViewChild&&oe.focus(this.editableInputViewChild?.nativeElement)),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;const i=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,!1===this.overlayVisible&&this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onKeyDown(e,i){if(!this.disabled&&!this.readonly)switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&ft.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key))}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0)}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){const i=-1!==this.focusedOptionIndex()?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i),!this.overlayVisible&&this.show(),e.preventDefault()}changeFocusedOptionIndex(e,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){const s=this.visibleOptions()[i];this.onOptionSelect(e,s,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){if(this.itemsViewChild&&this.itemsViewChild.nativeElement){const s=oe.findSingle(this.itemsViewChild.nativeElement,`li[id="${-1!==e?`${this.id}_${e}`:this.focusedOptionId}"]`);s?s.scrollIntoView&&s.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(-1!==e?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return-1!==this.focusedOptionIndex()?`${this.id}_${this.focusedOptionIndex()}`:null}hasSelectedOption(){return void 0!==this.modelValue()}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){const i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(s=>this.isValidOption(s)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){const i=e>0?ft.findLastIndex(this.visibleOptions().slice(0,e),s=>this.isValidOption(s)):-1;return i>-1?i:e}findLastOptionIndex(){return ft.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return null!=e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return null!=this.optionGroupLabel&&null!=e.optionGroup&&e.group}onArrowUpKey(e,i=!1){if(e.altKey&&!i){if(-1!==this.focusedOptionIndex()){const s=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,s)}this.overlayVisible&&this.hide(),e.preventDefault()}else{const s=-1!==this.focusedOptionIndex()?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show(),e.preventDefault()}}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,i=!1){if(i){const s=e.currentTarget;e.shiftKey?s.setSelectionRange(0,s.value.length):(s.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,i=!1){if(i){const s=e.currentTarget;if(e.shiftKey)s.setSelectionRange(0,s.value.length);else{const c=s.value.length;s.setSelectionRange(c,c),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,i=!1){!this.editable&&!i&&this.onEnterKey(e)}onEnterKey(e){if(this.overlayVisible){if(-1!==this.focusedOptionIndex()){const i=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,i)}this.hide()}else this.onArrowDownKey(e);e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())oe.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(-1!==this.focusedOptionIndex()&&this.overlayVisible){const s=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,s)}this.overlayVisible&&this.hide(this.filter)}}onFirstHiddenFocus(e){const i=e.relatedTarget===this.focusInputViewChild?.nativeElement?oe.getFirstFocusableElement(this.overlayViewChild.el.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild.nativeElement;oe.focus(i)}onLastHiddenFocus(e){const i=e.relatedTarget===this.focusInputViewChild?.nativeElement?oe.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;oe.focus(i)}hasFocusableElements(){return oe.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}onBackspaceKey(e,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let s=-1,c=!1;return-1!==this.focusedOptionIndex()?(s=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(h=>this.isOptionMatched(h)),s=-1===s?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(h=>this.isOptionMatched(h)):s+this.focusedOptionIndex()):s=this.visibleOptions().findIndex(h=>this.isOptionMatched(h)),-1!==s&&(c=!0),-1===s&&-1===this.focusedOptionIndex()&&(s=this.findFirstFocusedOptionIndex()),-1!==s&&this.changeFocusedOptionIndex(e,s),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),c}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let i=e.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),this.cd.markForCheck()}applyFocus(){this.editable?oe.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():oe.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(r.q87),r.GI1(r.kD9),r.GI1(r.WW2),r.GI1(w7),r.GI1(wl))};static \u0275cmp=r.In1({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},viewQuery:function(i,s){if(1&i&&(r.CC$(AT,5),r.CC$(OT,5),r.CC$(BT,5),r.CC$(PT,5),r.CC$(kT,5),r.CC$(RT,5),r.CC$(NT,5),r.CC$(FT,5),r.CC$(GT,5)),2&i){let c;r.wto(c=r.Gqi())&&(s.containerViewChild=c.first),r.wto(c=r.Gqi())&&(s.filterViewChild=c.first),r.wto(c=r.Gqi())&&(s.focusInputViewChild=c.first),r.wto(c=r.Gqi())&&(s.editableInputViewChild=c.first),r.wto(c=r.Gqi())&&(s.itemsViewChild=c.first),r.wto(c=r.Gqi())&&(s.scroller=c.first),r.wto(c=r.Gqi())&&(s.overlayViewChild=c.first),r.wto(c=r.Gqi())&&(s.firstHiddenFocusableElementOnOverlay=c.first),r.wto(c=r.Gqi())&&(s.lastHiddenFocusableElementOnOverlay=c.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,s){2&i&&r.eAK("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused||s.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:"focusOnHover",selectOnFocus:"selectOnFocus",autoOptionFocus:"autoOptionFocus",autofocusFilter:"autofocusFilter",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[r.M5G([kD])],decls:11,vars:20,consts:[[3,"ngClass","ngStyle","click"],["container",""],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox",3,"ngClass","disabled","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],["class","p-dropdown-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown"],["focusInput",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultPlaceholder",""],["type","text","aria-haspopup","listbox",3,"ngClass","disabled","input","keydown","focus","blur"],["editableInput",""],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["firstHiddenFocusableEl",""],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["lastHiddenFocusableEl",""],[1,"p-dropdown-header",3,"click"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","input","keydown","blur"],["filter",""],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"id","option","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize","onClick","onMouseEnter"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(i,s){1&i&&(r.I0R(0,"div",0,1),r.qCj("click",function(h){return s.onContainerClick(h)}),r.yuY(2,qT,6,23,"span",2)(3,KT,2,5,"input",3)(4,JT,3,2,"ng-container",4),r.I0R(5,"div",5),r.yuY(6,nD,3,2,"ng-container",4)(7,oD,2,1,"span",6),r.C$Y(),r.I0R(8,"p-overlay",7,8),r.iHE("visibleChange",function(h){return r.kNx(s.overlayVisible,h)||(s.overlayVisible=h),h}),r.qCj("onAnimationStart",function(h){return s.onOverlayAnimationStart(h)})("onHide",function(){return s.hide()}),r.yuY(10,PD,13,19,"ng-template",9),r.C$Y()()),2&i&&(r.m8U(s.styleClass),r.E7m("ngClass",s.containerClass)("ngStyle",s.style),r.e48("id",s.id),r.yG2(2),r.E7m("ngIf",!s.editable),r.yG2(),r.E7m("ngIf",s.editable),r.yG2(),r.E7m("ngIf",s.isVisibleClearIcon),r.yG2(),r.e48("aria-expanded",s.overlayVisible)("data-pc-section","trigger"),r.yG2(),r.E7m("ngIf",!s.dropdownIconTemplate),r.yG2(),r.E7m("ngIf",s.dropdownIconTemplate),r.yG2(),r.OKB("visible",s.overlayVisible),r.E7m("options",s.overlayOptions)("target","@parent")("appendTo",s.appendTo)("autoZIndex",s.autoZIndex)("baseZIndex",s.baseZIndex)("showTransitionOptions",s.showTransitionOptions)("hideTransitionOptions",s.hideTransitionOptions))},dependencies:()=>[e1,ri,zn,Pe,Ve,dL,Kn,sa,HT,FI,oc,ph,fL,RD],styles:["@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}}\n"],encapsulation:2,changeDetection:0})}return n})(),ND=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,vL,z1,ui,O2,mL,GI,oc,ph,fL,vL,z1,mL]})}return n})();function FD(n,t){if(1&n&&(r.I0R(0,"span",15),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(3);r.yG2(),r.cNF(e.saveIcon)}}function GD(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",12)(1,"p-button",13),r.qCj("onClick",function(){r.usT(e);const s=r.GaO(2);return r.CGJ(s.onDownloadClick())}),r.yuY(2,FD,2,1,"span",14),r.C$Y()()}if(2&n){const e=r.GaO(2);r.yG2(2),r.E7m("ngIf",""!==e.saveIcon)}}function UD(n,t){if(1&n&&r.wR5(0,"lib-winconf-construction-editor",16),2&n){const e=r.GaO(2);r.E7m("name",e.selected.name)("id",e.selected.id)}}function $D(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",5)(1,"div",6)(2,"lib-winconf-configurator-starttab",7),r.qCj("openFile",function(){r.usT(e);const s=r.GaO();return r.CGJ(s.onSelectFile())}),r.C$Y(),r.I0R(3,"p-dropdown",8),r.iHE("ngModelChange",function(s){r.usT(e);const c=r.GaO();return r.kNx(c.selected,s)||(c.selected=s),r.CGJ(s)}),r.qCj("ngModelChange",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onSelectConstruction(s))}),r.C$Y()(),r.I0R(4,"div",9),r.yuY(5,GD,3,1,"div",10)(6,UD,1,2,"lib-winconf-construction-editor",11),r.C$Y()()}if(2&n){const e=r.GaO();r.yG2(3),r.E7m("options",e.constructions),r.OKB("ngModel",e.selected),r.yG2(2),r.E7m("ngIf",e.isEditMode&&e.selected),r.yG2(),r.E7m("ngIf",e.selected)}}function jD(n,t){if(1&n&&(r.I0R(0,"span",15),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(4);r.yG2(),r.cNF(e.saveIcon)}}function WD(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",12)(1,"p-button",13),r.qCj("onClick",function(){r.usT(e);const s=r.GaO(3);return r.CGJ(s.onDownloadClick())}),r.yuY(2,jD,2,1,"span",14),r.C$Y()()}if(2&n){const e=r.GaO(3);r.yG2(2),r.E7m("ngIf",""!==e.saveIcon)}}function qD(n,t){if(1&n&&r.wR5(0,"lib-winconf-construction-editor",16),2&n){const e=r.GaO().$implicit;r.E7m("name",e.name)("id",e.id)}}function KD(n,t){if(1&n&&(r.I0R(0,"p-tabPanel",23)(1,"div",24,25),r.yuY(3,WD,3,1,"div",10)(4,qD,1,2,"lib-winconf-construction-editor",11),r.C$Y()()),2&n){const e=t.$implicit,i=r.GaO(2);r.E7m("header",e.name)("closable",!0)("tabIndex",e.id),r.yG2(3),r.E7m("ngIf",i.isEditMode&&i.selected),r.yG2(),r.E7m("ngIf",e.id)}}function YD(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",17)(1,"p-tabView",18,19),r.qCj("onChange",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.tabChanged(s))})("onClose",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onTabClose(s))}),r.iHE("activeIndexChange",function(s){r.usT(e);const c=r.GaO();return r.kNx(c.activeIndex,s)||(c.activeIndex=s),r.CGJ(s)}),r.I0R(3,"p-tabPanel",20)(4,"lib-winconf-configurator-starttab",21),r.qCj("openFile",function(){r.usT(e);const s=r.GaO();return r.CGJ(s.onSelectFile())}),r.C$Y()(),r.yuY(5,KD,5,5,"p-tabPanel",22),r.C$Y()()}if(2&n){const e=r.GaO();r.yG2(),r.E7m("scrollable",!0),r.OKB("activeIndex",e.activeIndex),r.yG2(4),r.E7m("ngForOf",e.constructions)("ngForTrackBy",e.trackConstructionByName)}}function QD(n,t){if(1&n&&(r.I0R(0,"span",15),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(3);r.yG2(),r.cNF(e.saveIcon)}}function ZD(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",12)(1,"p-button",13),r.qCj("onClick",function(){r.usT(e);const s=r.GaO(2);return r.CGJ(s.onDownloadClick())}),r.yuY(2,QD,2,1,"span",14),r.C$Y()()}if(2&n){const e=r.GaO(2);r.yG2(2),r.E7m("ngIf",""!==e.saveIcon)}}function XD(n,t){if(1&n&&r.wR5(0,"lib-winconf-construction-editor",16),2&n){const e=r.GaO(2);r.E7m("name",e.selected.name)("id",e.selected.id)}}function JD(n,t){if(1&n&&(r.I0R(0,"div",17),r.yuY(1,ZD,3,1,"div",10)(2,XD,1,2,"lib-winconf-construction-editor",11),r.C$Y()),2&n){const e=r.GaO();r.yG2(),r.E7m("ngIf",e.isEditMode&&e.selected),r.yG2(),r.E7m("ngIf",e.constructionModel&&e.selected)}}let zL=(()=>{class n{constructor(e,i,s,c){this.converterService=e,this.editorsService=i,this.converterToWinspecService=s,this.constructionService=c,this.group="configurator-open-file",this.frame=[],this.editorSubscription=new Ar.wH,this.ViewMode=qo,this.isEditMode=!1,this.constructionModel="",this.constructions=[],this.addConstructionEvent=new r._w7,this.selectConstructionEvent=new r._w7,this.removeConstructionEvent=new r._w7,this.saveConstructionEvent=new r._w7,this.openFileEvent=new r._w7,this.selectFileEvent=new r._w7,this.activeIndex=0,this.disabledResetImposts=!0,this.mode={type:Ae.default},this.isProlong=!0,this.saveIcon="save",this.trackConstructionByName=(h,d)=>d.name,this.editorSubscription.add(this.editorsService.onCreateEditor.subscribe(h=>{this.editor=h,this.drawing=new Ya(h),this.createArea()})),this.editorSubscription.add(this.editorsService.onSizeChanged.subscribe(h=>{this.setUndoRedo(),this.editor=h,this.drawing=new Ya(h),this.redrawCoreArea(),this.editor.gui&&this.isEditMode&&(this.editor.gui.getOnClick().subscribe(d=>{const g=new Qe(d.x,d.y);if(null!=this.area){if(this.mode.type===Ae.activeCore&&(console.log("active core"),this.changePoint(g))){this.saveEditedAreaState();const f=this.converterToWinspecService.convertCoreAreaToConstruction(this.area);return console.log(this.area),void console.log("Winspec model",f)}this.mode.type===Ae.activeImpost&&this.changeImpostPoint(g)||(this.mode.type===Ae.default||this.mode.type===Ae.activeImpost||this.mode.type===Ae.activeCore)&&this.handleActiveItem(g)||((this.mode.type===Ae.default||this.mode.type===Ae.activeImpost)&&this.area.isStrokeIncludePoint(g)&&(this.mode={type:Ae.activeCore},this.drawActiveCoreStroke()),this.mode.type===Ae.drawWing&&this.drawWing(d.x,d.y),this.drawing.clearDrawingLine(),this.mode.type===Ae.default?this.startCreateImpost(g):this.endCreateImpost(g))}else this.drawFrameEdge(g)}),this.editor.gui.getOnMouseMove().subscribe(d=>{const g=new Qe(d.x,d.y);null!=this.area||this.mode.type!==Ae.drawFrame?this.mode.type===Ae.drawImpost&&this.fittingImpost(g):this.fittingFrameEdge(g)}))}))}ngOnChanges(e){if(e.constructionModel&&this.constructionModel){let i=this.constructionModel;"string"!=typeof this.constructionModel&&(i=JSON.stringify(this.constructionModel)),this.constructionService.parseConstruction(i).subscribe(s=>{this.addConstructionEvent.emit(s),this.selectConstructionEvent.emit(s.id)})}e.constructions&&this.constructions&&this.selected&&(this.selected=this.constructions.find(i=>i.id===this.selected?.id))}ngAfterViewInit(){this.constructions.length>1&&this.selectConstructionEvent.emit(this.constructions[0].id),this.tabPanelChildren.changes.subscribe(e=>{const i=this.constructions.findIndex(s=>s.name===this.selected?.name);-1!==i?(this.activeIndex=i+1,this.selectConstruction(this.activeIndex)):(this.activeIndex=e.length-1,this.selectConstruction(e.length-1))})}ngOnDestroy(){this.editor&&this.editorsService.removeEditor(this.editor.name),this.editorSubscription.unsubscribe()}setUndoRedo(){this.undoRedo=new $3({[Qn.add]:e=>{console.log("[ActionKey.add]",e),e.forEach(i=>{switch(console.log(i),i.edge.type){case"segment":this.process(i.edge,0,i.offset,this.isProlong);break;case"arc":{const s=i.edge.chord;this.process(new at(s.p1,s.p2),i.edge.getS(),i.offset,this.isProlong)}}})},[Qn.delete]:e=>{console.log("[ActionKey.delete]",e),e.forEach(i=>{if(null==this.area)return;const s=this.area.findDividerByCoords("segment"===i.edge.type?i.edge.midpoint:i.edge.center);return s?this.deleteDividers(s.id):void 0})}})}deleteDividers(e){if(null==this.area)return[];const{deleteImposts:i}=Nn(e,this.area);return this.area.deleteDividers(e),this.saveEditedAreaState(),i}drawFrameEdge(e){const i=this.frame.length>1&&this.frame[0].equals(e,30);if(this.frame.length>0){if(this.mode.type!==Ae.drawFrame)return;const s=this.frame[this.frame.length-1];if(this.mode.meta.s&&(s.s=this.mode.meta.s),i)return void this.createArea();const c=new at(s,e);this.drawing.drawFrameEdge(this.mode.meta.s?c.getArc(this.mode.meta.s):c)}this.mode={type:Ae.drawFrame,meta:{start:e,end:e}},this.frame.push(e)}changePoint(e){if(null==this.area||this.mode.type!==Ae.activeCore)return!1;const i=this.area.points.find(c=>c.equals(e,50));if(i)return this.drawing.updateActiveCorePoint(e),this.mode={type:Ae.activeCore,meta:{activePoint:i}},!0;const s=this.area.edgeArcs.find(c=>xe.getEdgeCenter(c).equals(e,50));if(s)return this.drawing.updateActiveCorePoint(e,!1),this.mode={type:Ae.activeCore,meta:{activeEdge:s}},!0;if(this.mode.meta){if("activePoint"in this.mode.meta){const c=this.mode.meta.activePoint,h=new Qe(e.x,e.y,c.s);this.area.changePoint(c,h)}if("activeEdge"in this.mode.meta){const c=this.mode.meta.activeEdge;if(this.mode.meta.isChangedS){let h;const[d,g]=xe.getPointsOfEdge(c);try{h=new X1(d,e,g)}catch{h=new at(d,g)}const f=xe.getBasePoint(this.area,h);this.area.changeArc(c,"segment"===h.type?0:h.getS(f))}else{const h=e,d=xe.getEdgeCenter(c),_=c.shift(h.x-d.x,h.y-d.y),[y,C]=xe.getPointsOfEdge(c),[x,b]=xe.getPointsOfEdge(_),L=new Qe(x.x,x.y,y.s),V=new Qe(b.x,b.y,C.s);this.area.changePoints([{old:y,new:L},{old:C,new:V}])}}return this.drawing.clearActiveCoreStroke(),this.redrawCoreArea(),this.mode={type:Ae.default},!0}return this.saveEditedAreaState(),!1}changeImpostPoint(e){if(console.log("changeImpostPoint"),null==this.area||this.mode.type!==Ae.activeImpost)return!1;const i=this.area.findDividerById(this.mode.meta.id);if(this.saveEditedAreaState(),!i)return!1;const s=xe.getPointsOfEdge(i.edge).find(d=>d.equals(e,50));if(s)return this.drawing.updateActiveMullionsPoint(s),this.mode.meta.activePoint=s,this.mode.meta.isEdge=!1,!0;const c=xe.getEdgeCenter(i.edge);if(c.equals(e,50))return this.drawing.updateActiveMullionsPoint(c,!1),this.mode.meta.activePoint=c,this.mode.meta.isEdge=!0,!0;const h=[];if(this.mode.meta&&null!=this.mode.meta.activePoint&&!this.mode.meta.isEdge){const d=this.mode.meta.activePoint,g=new Qe(e.x,e.y,d.s);h.push(...this.area.changeImpostPoint(this.mode.meta.id,d,g));const f=this.converterToWinspecService.convertCoreAreaToConstruction(this.area);console.log(f)}if(this.mode.meta&&this.mode.meta.isEdge){const d=new Qe(e.x,e.y),g=this.area.changeImpostPosition(this.mode.meta.id,d);g.push(...g),this.saveEditedAreaState()}return this.drawing.clearActiveImposts(),this.redrawCoreArea(),h.length>0&&(this.mode={type:Ae.default},!0)}handleActiveItem(e){if(null==this.area)return!1;const i=this.area.findDividerByCoords(e);return this.setActiveImposts(i),i&&this.drawActiveMullions(),null!=i}setActiveImposts(e){this.drawing.clearActiveImposts(),this.drawing.clearActiveCoreStroke(),this.mode=e?{type:Ae.activeImpost,meta:{id:e.id}}:{type:Ae.default}}drawActiveMullions(){if(this.mode.type!==Ae.activeImpost||null==this.area)return;this.drawing.clearActiveCoreStroke();const e=this.area.findDividerById(this.mode.meta.id);this.drawing.drawActiveImpost(e)}drawActiveCoreStroke(){null!=this.area&&(this.drawing.clearActiveImposts(),this.drawing.drawActiveCoreStroke(this.area))}drawWing(e,i){this.area?.createWing(e,i),this.area&&this.drawing.drawConvertedArea(this.area),this.saveEditedAreaState();const s=this.converterToWinspecService.convertCoreAreaToConstruction(this.area);console.log(this.area),console.log("Winspec model",s)}startCreateImpost(e){this.mode.type===Ae.default&&(this.mode={type:Ae.drawImpost,meta:{start:e,end:e,s:0,offset:38}})}endCreateImpost(e){if(this.mode.type!==Ae.drawImpost)return;this.mode.meta.end=e,this.drawing.clearAreas();const i=c3(this.mode.meta),s=this.process(i,this.mode.meta.s||0,this.mode.meta.offset,this.isProlong);s.length>0&&this.undoRedo.add({type:Qn.add,args:s}),this.mode={type:Ae.default}}process(e,i,s,c=!1){if(null==this.area)return[];const h=this.area.divide(e,i,s,c,!0);this.drawing.drawConvertedArea(this.area),this.saveEditedAreaState();const d=this.converterToWinspecService.convertCoreAreaToConstruction(this.area);return console.log(this.area),console.log("Winspec model",d),h}fittingFrameEdge(e){if(this.mode.type!==Ae.drawFrame)return;const i=Ks(e);this.frame.length>1&&this.frame[0].equals(i,30)?(this.mode.meta.end=this.frame[0],this.updateTestPoint(this.frame[0],30)):(this.mode.meta.end=i,this.updateTestPoint(void 0)),this.updateTestFrame()}updateTestPoint(e,i=0){null!=e?this.drawing.addedTestPoint(e,i):this.drawing.clearTestPoints()}updateTestFrame(){if(this.mode.type!==Ae.drawFrame)return;const e=[];if(this.frame.length>0){const s=new at(this.frame[this.frame.length-1],Ks(this.mode.meta.end));e.push(this.mode.meta.s?s.getArc(this.mode.meta.s):s)}if(this.frame.length>1){const i=this.frame[0];e.push(new at(Ks(this.mode.meta.end),i))}this.drawing.updateFrameTestEdges(e)}fittingImpost(e){this.mode.type===Ae.drawImpost&&(this.mode.meta.end=e,this.updateDrawingLine())}updateDrawingLine(){if(this.mode.type!==Ae.drawImpost)return;const e=c3(this.mode.meta);let i=e;this.mode.meta.s&&(i=e.getArc(this.mode.meta.s)),this.drawing.updateDrawingLine(i)}keydown(e){switch(e.key){case"Escape":if(null==this.area){this.resetFrame();break}if(this.mode.type===Ae.default)break;this.mode={type:Ae.default},this.drawing.clearDrawingLine();break;case"Enter":null==this.area&&this.createArea();break;case"Delete":{if(this.mode.type!==Ae.activeImpost||null==this.area)break;const i=this.area.findDividerById(this.mode.meta.id);if(!i)return;const s=this.deleteDividers(i.id);this.undoRedo.add({type:Qn.delete,args:s}),this.setActiveImposts(void 0),this.redrawCoreArea();break}case"+":if(null!=this.area){if(this.mode.type===Ae.activeImpost){this.changeActiveDivider({s:i=>i+50});break}this.mode.type===Ae.drawImpost&&(this.mode.meta.s=(this.mode.meta.s||0)+50,this.updateDrawingLine());break}this.mode.type===Ae.drawFrame&&(this.mode.meta.s=(this.mode.meta.s||0)+50,this.updateTestFrame());break;case"-":if(null!=this.area){if(this.mode.type===Ae.activeImpost){this.changeActiveDivider({s:i=>i-50});break}this.mode.type===Ae.drawImpost&&(this.mode.meta.s=(this.mode.meta.s||0)-50,this.updateDrawingLine());break}this.mode.type===Ae.drawFrame&&(this.mode.meta.s=(this.mode.meta.s||0)-50,this.updateTestFrame());break;case"a":this.mode.type===Ae.activeCore&&this.mode.meta&&"activeEdge"in this.mode.meta&&(this.mode.meta.isChangedS=!0);break;case"s":this.mode={type:Ae.drawWing}}}keyup(e){switch(e.key){case"a":this.mode.type===Ae.activeCore&&this.mode.meta&&"activeEdge"in this.mode.meta&&(this.mode.meta.isChangedS=!1);break;case"s":this.mode={type:Ae.default}}}onControlZClick(e){null!=this.area&&(e.preventDefault(),this.undoRedo.undo(),this.mode={type:Ae.default},this.redrawCoreArea())}onControlShiftZClick(e){null!=this.area&&(e.preventDefault(),this.undoRedo.redo(),this.mode={type:Ae.default},this.redrawCoreArea())}resetFrame(){this.frame=[],this.drawing.clearFrames(),this.drawing.clearAreas(),this.drawing.clearAllDividers(),this.disabledResetImposts=!0,null!=this.area&&(this.area=void 0)}changeActiveDivider(e){if(null==this.area||this.mode.type!==Ae.activeImpost)return;const i=this.area.findChildDividersByDividerId(this.mode.meta.id),s=this.area.changeDivider(this.mode.meta.id,e);s&&(this.drawing.updateDivider(s),this.drawing.updateActiveImpost(s),this.drawing.updateDrawingAreas(this.area),this.drawing.clearDividers(i))}redrawCoreArea(){this.area&&(this.drawing.clearAllDividers(),this.drawing.clearAreas(),this.drawing.drawConvertedArea(this.area))}open(e){this.openFileEvent.emit(e)}onSelectFile(){console.log("openFileEvent"),this.selectFileEvent.emit({group:this.group,extension:".json"})}onSelectConstruction(e){this.selectConstructionEvent.emit(e.id)}selectConstruction(e){const i=this.constructions[e-1];i&&this.selectConstructionEvent.emit(i.id)}removeConstruction(e){const i=this.constructions[e];i&&this.removeConstructionEvent.emit(i.id)}tabChanged(e){this.activeIndex=e.index,this.selectConstruction(e.index)}onTabClose(e){const i=e.index-1;this.activeIndex=i,this.removeConstruction(i)}download(e,i){const s=((n,t)=>{const e=JSON.stringify(n);return new Blob([e],{type:"json"})})(e),c=window.URL.createObjectURL(s),h=document.createElement("a");h.href=c,h.download=`${i}.json`,h.click(),window.URL.revokeObjectURL(c)}onDownloadClick(){if(this.area){const e=this.converterToWinspecService.convertCoreAreaToConstruction(this.area);console.log("saving..."),this.download(e,e.name),this.download(this.area,`${e.name}-area`)}}saveEditedAreaState(){if(this.area&&this.selected){const e=this.converterToWinspecService.convertCoreAreaToConstruction(this.area);this.saveConstructionEvent.emit(e)}}createArea(){this.area=this.converterService.convertConstructionToCoreArea({...mi,construction:this.selected?.model})[0];const e=this.converterToWinspecService.convertCoreAreaToConstruction(this.area);console.log(this.area),console.log("Winspec model",e),this.drawing.clearAreas(),this.drawing.drawConvertedArea(this.area)}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(DC),r.GI1(ir),r.GI1(AC),r.GI1(Qa))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-configurator-viewer"]],viewQuery:function(i,s){if(1&i&&r.CC$(r0,5),2&i){let c;r.wto(c=r.Gqi())&&(s.tabPanelChildren=c)}},hostBindings:function(i,s){1&i&&r.qCj("keydown",function(h){return s.keydown(h)},!1,r.MbM)("keyup",function(h){return s.keyup(h)},!1,r.MbM)("keydown.control.z",function(h){return s.onControlZClick(h)},!1,r.wLc)("keydown.control.shift.z",function(h){return s.onControlShiftZClick(h)},!1,r.wLc)},inputs:{isEditMode:"isEditMode",viewMode:"viewMode",constructionModel:"constructionModel",constructions:"constructions",selected:"selected"},outputs:{addConstructionEvent:"addConstructionEvent",selectConstructionEvent:"selectConstructionEvent",removeConstructionEvent:"removeConstructionEvent",saveConstructionEvent:"saveConstructionEvent",openFileEvent:"openFileEvent",selectFileEvent:"selectFileEvent"},standalone:!0,features:[r.SYr,r.UHJ],decls:6,vars:4,consts:[[1,"container"],[1,"body-part"],["class","select-editor-container",4,"ngIf"],["class","configurator-editor",4,"ngIf"],["extension",".json",3,"group","openFile"],[1,"select-editor-container"],[1,"select-editor-header"],[3,"openFile"],["placeholder","Select a Construction","optionLabel","name",1,"dropdown-construction",3,"options","ngModel","ngModelChange"],[1,"select-editor-body","relative"],["class","save-button",4,"ngIf"],["class","editor-container","type","konva",3,"name","id",4,"ngIf"],[1,"save-button"],[3,"onClick"],["class","material-icons",4,"ngIf"],[1,"material-icons"],["type","konva",1,"editor-container",3,"name","id"],[1,"configurator-editor"],[3,"scrollable","activeIndex","onChange","onClose","activeIndexChange"],["tabView",""],["header","Start",1,"start-panel"],[1,"open-file-button",3,"openFile"],[3,"header","closable","tabIndex",4,"ngFor","ngForOf","ngForTrackBy"],[3,"header","closable","tabIndex"],[1,"panel-content","relative"],["panelcontent",""]],template:function(i,s){1&i&&(r.I0R(0,"div",0)(1,"div",1),r.yuY(2,$D,7,4,"div",2)(3,YD,6,4,"div",3)(4,JD,3,2,"div",3),r.C$Y(),r.I0R(5,"lib-winconf-open-file",4),r.qCj("openFile",function(h){return s.open(h)}),r.C$Y()()),2&i&&(r.yG2(2),r.E7m("ngIf",s.viewMode===s.ViewMode.select),r.yG2(),r.E7m("ngIf",s.viewMode===s.ViewMode.tabs),r.yG2(),r.E7m("ngIf",!s.viewMode||s.viewMode!==s.ViewMode.select&&s.viewMode!==s.ViewMode.tabs),r.yG2(),r.E7m("group",s.group))},dependencies:[wu,pu,r0,Sm,xu,nn,ri,zn,im,ys,nc,ND,_L,NI,OS,ZC],styles:[".configurator-editor[_ngcontent-%COMP%], .select-editor-body[_ngcontent-%COMP%]{flex:1 0 auto;display:flex;margin:0 7px 0 5px;border:solid;border-color:var(--gray-300);position:absolute;inset:0}.select-editor-container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;flex-direction:column;position:absolute;inset:0}.panel-content[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.relative[_ngcontent-%COMP%]{position:relative}.editor-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}.file-input[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{margin-top:5px;height:100%;width:100%;flex:1 0 auto;display:flex}.body-part[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex-direction:column;margin-left:5px}[_nghost-%COMP%]     .p-tabview{height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]     .p-tabview-nav-container{padding:0}[_nghost-%COMP%]     .p-tabview-panels{flex:1 0 auto;padding:0}[_nghost-%COMP%]     .p-tabview-panel{height:100%;width:100%;padding:0}p-tabView[_ngcontent-%COMP%]{flex:1 0 auto}p-tabpanel[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]     .p-dropdown-label{width:170px}[_nghost-%COMP%]     .p-dropdown-item{max-width:220px}.select-editor-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:20px;padding:10px;margin-bottom:5px}.open-file-button[_ngcontent-%COMP%]{display:block;padding:20px}.save-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:20px;z-index:1}[_nghost-%COMP%]{position:relative;width:100%;height:100%}"]})}return n})();const eA=()=>[];let yL=(()=>{class n{constructor(){this.store=(0,r.uUt)(Ee.m_),this.destroy$=new Et.E,this.construction=k6.construction,this.editMode=!1,this.outputEvent=new r._w7,this.selected$=this.store.select(eh.selectSelected).pipe((0,vn.a)(this.destroy$)),this.constructions$=this.store.select(eh.selectConstructions).pipe((0,vn.a)(this.destroy$))}ngOnInit(){this.selected$.subscribe(e=>{this.selectedConstruction=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}addConstruction(e){this.store.dispatch(Fn.addConstruction({construction:e}))}selectConstruction(e){this.store.dispatch(Fn.selectConstruction({id:e}))}removeConstruction(e){this.store.dispatch(Fn.removeConstruction({id:e}))}saveConstruction(e){this.selectedConstruction&&this.store.dispatch(Fn.saveEditedConstruction({name:this.selectedConstruction.name,construction:e})),this.outputEvent?.emit(e)}selectConstructionFile(e){this.store.dispatch(ni.selectFile(e))}openFile(e){this.store.dispatch(ni.openFile({file:e}))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-configurator-editor"]],inputs:{construction:"construction",editMode:"editMode",viewMode:"viewMode"},outputs:{outputEvent:"outputEvent"},standalone:!0,features:[r.UHJ],decls:2,vars:8,consts:[[3,"isEditMode","constructionModel","viewMode","selected","constructions","addConstructionEvent","selectConstructionEvent","removeConstructionEvent","saveConstructionEvent","selectFileEvent","openFileEvent"]],template:function(i,s){1&i&&(r.I0R(0,"lib-winconf-configurator-viewer",0),r.qCj("addConstructionEvent",function(h){return s.addConstruction(h)})("selectConstructionEvent",function(h){return s.selectConstruction(h)})("removeConstructionEvent",function(h){return s.removeConstruction(h)})("saveConstructionEvent",function(h){return s.saveConstruction(h)})("selectFileEvent",function(h){return s.selectConstructionFile(h)})("openFileEvent",function(h){return s.openFile(h)}),r.wVc(1,"async"),r.C$Y()),2&i&&r.E7m("isEditMode",s.editMode)("constructionModel",s.construction)("viewMode",s.viewMode)("selected",s.selectedConstruction)("constructions",r.kDX(1,5,s.constructions$)||r.q4q(7,eA))},dependencies:[nn,lo,zL]})}return n})();const tA=["container"],nA=["content"],iA=["xBar"],sA=["yBar"];function oA(n,t){1&n&&r.C_f(0)}const rA=["*"];let lA=(()=>{class n{platformId;el;zone;cd;document;renderer;style;styleClass;step=5;containerViewChild;contentViewChild;xBarViewChild;yBarViewChild;templates;scrollYRatio;scrollXRatio;timeoutFrame=e=>setTimeout(e,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;contentTemplate;lastScrollLeft=0;lastScrollTop=0;orientation="vertical";timer;contentId;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;constructor(e,i,s,c,h,d){this.platformId=e,this.el=i,this.zone=s,this.cd=c,this.document=h,this.renderer=d,this.contentId=Fs()+"_content"}ngAfterViewInit(){lt(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}calculateContainerHeight(){let e=this.containerViewChild.nativeElement,i=this.contentViewChild.nativeElement,s=this.xBarViewChild.nativeElement;const c=this.document.defaultView;let h=c.getComputedStyle(e),d=c.getComputedStyle(s),g=oe.getHeight(e)-parseInt(d.height,10);"none"!=h["max-height"]&&0==g&&(e.style.height=i.offsetHeight+parseInt(d.height,10)>parseInt(h["max-height"],10)?h["max-height"]:i.offsetHeight+parseFloat(h.paddingTop)+parseFloat(h.paddingBottom)+parseFloat(h.borderTopWidth)+parseFloat(h.borderBottomWidth)+"px")}moveBar(){let e=this.containerViewChild.nativeElement,i=this.contentViewChild.nativeElement,s=this.xBarViewChild.nativeElement,c=i.scrollWidth,h=i.clientWidth,d=-1*(e.clientHeight-s.clientHeight);this.scrollXRatio=h/c;let g=this.yBarViewChild.nativeElement,f=i.scrollHeight,_=i.clientHeight,y=-1*(e.clientWidth-g.clientWidth);this.scrollYRatio=_/f,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)s.setAttribute("data-p-scrollpanel-hidden","true"),oe.addClass(s,"p-scrollpanel-hidden");else{s.setAttribute("data-p-scrollpanel-hidden","false"),oe.removeClass(s,"p-scrollpanel-hidden");const C=Math.max(100*this.scrollXRatio,10);s.style.cssText="width:"+C+"%; left:"+i.scrollLeft*(100-C)/(c-h)+"%;bottom:"+d+"px;"}if(this.scrollYRatio>=1)g.setAttribute("data-p-scrollpanel-hidden","true"),oe.addClass(g,"p-scrollpanel-hidden");else{g.setAttribute("data-p-scrollpanel-hidden","false"),oe.removeClass(g,"p-scrollpanel-hidden");const C=Math.max(100*this.scrollYRatio,10);g.style.cssText="height:"+C+"%; top: calc("+i.scrollTop*(100-C)/(f-_)+"% - "+s.clientHeight+"px);right:"+y+"px;"}}),this.cd.markForCheck()}onScroll(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()}onKeyDown(e){if("vertical"===this.orientation)switch(e.code){case"ArrowDown":this.setTimer("scrollTop",this.step),e.preventDefault();break;case"ArrowUp":this.setTimer("scrollTop",-1*this.step),e.preventDefault();break;case"ArrowLeft":case"ArrowRight":e.preventDefault()}else if("horizontal"===this.orientation)switch(e.code){case"ArrowRight":this.setTimer("scrollLeft",this.step),e.preventDefault();break;case"ArrowLeft":this.setTimer("scrollLeft",-1*this.step),e.preventDefault();break;case"ArrowDown":case"ArrowUp":e.preventDefault()}}onKeyUp(){this.clearTimer()}repeat(e,i){this.contentViewChild.nativeElement[e]+=i,this.moveBar()}setTimer(e,i){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=e=>{this.onDocumentMouseMove(e)},this.document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=e=>{this.onDocumentMouseUp(e)},this.document.addEventListener("mouseup",this.documentMouseUpListener))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onYBarMouseDown(e){this.isYBarClicked=!0,this.yBarViewChild.nativeElement.focus(),this.lastPageY=e.pageY,this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","true"),oe.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","true"),oe.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onXBarMouseDown(e){this.isXBarClicked=!0,this.xBarViewChild.nativeElement.focus(),this.lastPageX=e.pageX,this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),oe.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),oe.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):(this.isYBarClicked||this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))}onMouseMoveForXBar(e){let i=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=i/this.scrollXRatio})}onMouseMoveForYBar(e){let i=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=i/this.scrollYRatio})}scrollTop(e){let i=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=e=e>i?i:e>0?e:0}onFocus(e){this.xBarViewChild.nativeElement.isSameNode(e.target)?this.orientation="horizontal":this.yBarViewChild.nativeElement.isSameNode(e.target)&&(this.orientation="vertical")}onBlur(){"horizontal"===this.orientation&&(this.orientation="vertical")}onDocumentMouseUp(e){this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),oe.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),oe.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),oe.removeClass(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(e){(window.requestAnimationFrame||this.timeoutFrame)(e)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=function(i){return new(i||n)(r.GI1(r.AHE),r.GI1(r.GMv),r.GI1(r.WW2),r.GI1(r.kD9),r.GI1(X),r.GI1(r.q87))};static \u0275cmp=r.In1({type:n,selectors:[["p-scrollPanel"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Kn,4),2&i){let h;r.wto(h=r.Gqi())&&(s.templates=h)}},viewQuery:function(i,s){if(1&i&&(r.CC$(tA,5),r.CC$(nA,5),r.CC$(iA,5),r.CC$(sA,5)),2&i){let c;r.wto(c=r.Gqi())&&(s.containerViewChild=c.first),r.wto(c=r.Gqi())&&(s.contentViewChild=c.first),r.wto(c=r.Gqi())&&(s.xBarViewChild=c.first),r.wto(c=r.Gqi())&&(s.yBarViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",step:"step"},ngContentSelectors:rA,decls:11,vars:16,consts:[[3,"ngClass","ngStyle"],["container",""],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content",3,"mouseenter","scroll"],["content",""],[4,"ngTemplateOutlet"],["tabindex","0","role","scrollbar",1,"p-scrollpanel-bar","p-scrollpanel-bar-x",3,"mousedown","keydown","keyup","focus","blur"],["xBar",""],["tabindex","0","role","scrollbar",1,"p-scrollpanel-bar","p-scrollpanel-bar-y",3,"mousedown","keydown","keyup","focus"],["yBar",""]],template:function(i,s){1&i&&(r.kPM(),r.I0R(0,"div",0,1)(2,"div",2)(3,"div",3,4),r.qCj("mouseenter",function(){return s.moveBar()})("scroll",function(h){return s.onScroll(h)}),r._Xx(5),r.yuY(6,oA,1,0,"ng-container",5),r.C$Y()(),r.I0R(7,"div",6,7),r.qCj("mousedown",function(h){return s.onXBarMouseDown(h)})("keydown",function(h){return s.onKeyDown(h)})("keyup",function(){return s.onKeyUp()})("focus",function(h){return s.onFocus(h)})("blur",function(){return s.onBlur()}),r.C$Y(),r.I0R(9,"div",8,9),r.qCj("mousedown",function(h){return s.onYBarMouseDown(h)})("keydown",function(h){return s.onKeyDown(h)})("keyup",function(){return s.onKeyUp()})("focus",function(h){return s.onFocus(h)}),r.C$Y()()),2&i&&(r.m8U(s.styleClass),r.E7m("ngClass","p-scrollpanel p-component")("ngStyle",s.style),r.e48("data-pc-name","scrollpanel"),r.yG2(2),r.e48("data-pc-section","wrapper"),r.yG2(),r.e48("data-pc-section","content"),r.yG2(3),r.E7m("ngTemplateOutlet",s.contentTemplate),r.yG2(),r.e48("aria-orientation","horizontal")("aria-valuenow",s.lastScrollLeft)("data-pc-section","barx")("aria-controls",s.contentId),r.yG2(2),r.e48("aria-orientation","vertical")("aria-valuenow",s.lastScrollTop)("data-pc-section","bary")("aria-controls",s.contentId))},dependencies:[e1,Pe,Ve],styles:["@layer primeng{.p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:hover .p-scrollpanel-bar,.p-scrollpanel:active .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;user-select:none}}\n"],encapsulation:2,changeDetection:0})}return n})(),cA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn]})}return n})(),CL=(()=>{class n extends gs{static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["MinusIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0),r.wR5(1,"path",1),r.C$Y()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},dependencies:[nn],encapsulation:2})}return n})(),ML=(()=>{class n extends gs{pathId;ngOnInit(){this.pathId="url(#"+Fs()+")"}static \u0275fac=(()=>{let e;return function(s){return(e||(e=r.otF(n)))(s||n)}})();static \u0275cmp=r.In1({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[r.eg9,r.UHJ],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,s){1&i&&(r.S2Z(),r.I0R(0,"svg",0)(1,"g"),r.wR5(2,"path",1),r.C$Y(),r.I0R(3,"defs")(4,"clipPath",2),r.wR5(5,"rect",3),r.C$Y()()()),2&i&&(r.m8U(s.getClassNames()),r.e48("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),r.yG2(),r.e48("clip-path",s.pathId),r.yG2(3),r.E7m("id",s.pathId))},encapsulation:2})}return n})();function aA(n,t){if(1&n&&(r.I0R(0,"span",10),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(2);r.e48("id",e.id+"_header"),r.yG2(),r.cNF(e.header)}}function hA(n,t){1&n&&r.C_f(0)}function uA(n,t){}function dA(n,t){1&n&&r.yuY(0,uA,0,0,"ng-template")}function vA(n,t){if(1&n&&r.wR5(0,"span",16),2&n){const e=r.GaO(5);r.m8U(e.expandIcon),r.E7m("ngClass",e.iconClass)}}function gA(n,t){if(1&n&&r.wR5(0,"MinusIcon",17),2&n){const e=r.GaO(5);r.E7m("styleClass",e.iconClass)}}function mA(n,t){if(1&n&&(r.SAx(0),r.yuY(1,vA,1,3,"span",14)(2,gA,1,1,"MinusIcon",15),r.k70()),2&n){const e=r.GaO(4);r.yG2(),r.E7m("ngIf",e.expandIcon),r.yG2(),r.E7m("ngIf",!e.expandIcon)}}function fA(n,t){if(1&n&&r.wR5(0,"span",16),2&n){const e=r.GaO(5);r.m8U(e.collapseIcon),r.E7m("ngClass",e.iconClass)}}function pA(n,t){if(1&n&&r.wR5(0,"PlusIcon",17),2&n){const e=r.GaO(5);r.E7m("styleClass",e.iconClass)}}function wA(n,t){if(1&n&&(r.SAx(0),r.yuY(1,fA,1,3,"span",14)(2,pA,1,1,"PlusIcon",15),r.k70()),2&n){const e=r.GaO(4);r.yG2(),r.E7m("ngIf",e.collapseIcon),r.yG2(),r.E7m("ngIf",!e.collapseIcon)}}function _A(n,t){if(1&n&&(r.SAx(0),r.yuY(1,mA,3,2,"ng-container",12)(2,wA,3,2,"ng-container",12),r.k70()),2&n){const e=r.GaO(3);r.yG2(),r.E7m("ngIf",!e.collapsed),r.yG2(),r.E7m("ngIf",e.collapsed)}}function zA(n,t){}function yA(n,t){1&n&&r.yuY(0,zA,0,0,"ng-template")}const CA=n=>({$implicit:n});function MA(n,t){if(1&n){const e=r.KQA();r.I0R(0,"button",11),r.qCj("click",function(s){r.usT(e);const c=r.GaO(2);return r.CGJ(c.onIconClick(s))})("keydown",function(s){r.usT(e);const c=r.GaO(2);return r.CGJ(c.onKeyDown(s))}),r.yuY(1,_A,3,2,"ng-container",12)(2,yA,1,0,null,13),r.C$Y()}if(2&n){const e=r.GaO(2);r.e48("id",e.id+"_header")("aria-label",e.buttonAriaLabel)("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed),r.yG2(),r.E7m("ngIf",!e.headerIconTemplate),r.yG2(),r.E7m("ngTemplateOutlet",e.headerIconTemplate)("ngTemplateOutletContext",r.S45(7,CA,e.collapsed))}}const xA=(n,t,e)=>({"p-panel-icons-start":n,"p-panel-icons-end":t,"p-panel-icons-center":e});function bA(n,t){if(1&n){const e=r.KQA();r.I0R(0,"div",6),r.qCj("click",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.onHeaderClick(s))}),r.yuY(1,aA,2,2,"span",7),r._Xx(2,1),r.yuY(3,hA,1,0,"ng-container",4),r.I0R(4,"div",8),r.yuY(5,dA,1,0,null,4)(6,MA,3,9,"button",9),r.C$Y()()}if(2&n){const e=r.GaO();r.e48("id",e.id+"-titlebar"),r.yG2(),r.E7m("ngIf",e.header),r.yG2(2),r.E7m("ngTemplateOutlet",e.headerTemplate),r.yG2(),r.E7m("ngClass",r.uAc(6,xA,"start"===e.iconPos,"end"===e.iconPos,"center"===e.iconPos)),r.yG2(),r.E7m("ngTemplateOutlet",e.iconTemplate),r.yG2(),r.E7m("ngIf",e.toggleable)}}function EA(n,t){1&n&&r.C_f(0)}function SA(n,t){1&n&&r.C_f(0)}function LA(n,t){if(1&n&&(r.I0R(0,"div",18),r._Xx(1,2),r.yuY(2,SA,1,0,"ng-container",4),r.C$Y()),2&n){const e=r.GaO();r.yG2(2),r.E7m("ngTemplateOutlet",e.footerTemplate)}}const VA=["*",[["p-header"]],[["p-footer"]]],HA=(n,t)=>({"p-panel p-component":!0,"p-panel-toggleable":n,"p-panel-expanded":t}),IA=n=>({transitionParams:n,height:"0",opacity:"0"}),TA=n=>({value:"hidden",params:n}),DA=n=>({transitionParams:n,height:"*",opacity:"1"}),AA=n=>({value:"visible",params:n}),OA=["*","p-header","p-footer"];let BA=(()=>{class n{el;toggleable;header;collapsed;style;styleClass;iconPos="end";expandIcon;collapseIcon;showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new r._w7;onBeforeToggle=new r._w7;onAfterToggle=new r._w7;footerFacet;templates;iconTemplate;animating;headerTemplate;contentTemplate;footerTemplate;headerIconTemplate;id=Fs();get buttonAriaLabel(){return this.header}constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template;break;case"headericons":this.headerIconTemplate=e.template}})}onHeaderClick(e){"header"===this.toggler&&this.toggle(e)}onIconClick(e){"icon"===this.toggler&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),e.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onKeyDown(e){("Enter"===e.code||"Space"===e.code)&&(this.toggle(e),e.preventDefault())}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}static \u0275fac=function(i){return new(i||n)(r.GI1(r.GMv))};static \u0275cmp=r.In1({type:n,selectors:[["p-panel"]],contentQueries:function(i,s,c){if(1&i&&(r.szK(c,hi,5),r.szK(c,Kn,4)),2&i){let h;r.wto(h=r.Gqi())&&(s.footerFacet=h.first),r.wto(h=r.Gqi())&&(s.templates=h)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:OA,decls:7,vars:25,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content",3,"id"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons",3,"ngClass"],["pRipple","","type","button","role","button","class","p-panel-header-icon p-panel-toggler p-link",3,"click","keydown",4,"ngIf"],[1,"p-panel-title"],["pRipple","","type","button","role","button",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"ngClass"],[3,"styleClass"],[1,"p-panel-footer"]],template:function(i,s){1&i&&(r.kPM(VA),r.I0R(0,"div",0),r.yuY(1,bA,7,10,"div",1),r.I0R(2,"div",2),r.qCj("@panelContent.done",function(h){return s.onToggleDone(h)}),r.I0R(3,"div",3),r._Xx(4),r.yuY(5,EA,1,0,"ng-container",4),r.C$Y(),r.yuY(6,LA,3,1,"div",5),r.C$Y()()),2&i&&(r.m8U(s.styleClass),r.E7m("ngClass",r.IBC(14,HA,s.toggleable,!s.collapsed&&s.toggleable))("ngStyle",s.style),r.e48("id",s.id)("data-pc-name","panel"),r.yG2(),r.E7m("ngIf",s.showHeader),r.yG2(),r.E7m("id",s.id+"_content")("@panelContent",s.collapsed?r.S45(19,TA,r.S45(17,IA,s.animating?s.transitionOptions:"0ms")):r.S45(23,AA,r.S45(21,DA,s.animating?s.transitionOptions:"0ms"))),r.e48("aria-labelledby",s.id+"_header")("aria-hidden",s.collapsed)("tabindex",s.collapsed?"-1":void 0),r.yG2(3),r.E7m("ngTemplateOutlet",s.contentTemplate),r.yG2(),r.E7m("ngIf",s.footerFacet||s.footerTemplate))},dependencies:()=>[e1,zn,Pe,Ve,A2,ML,CL],styles:["@layer primeng{.p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}}\n"],encapsulation:2,data:{animation:[u1("panelContent",[S1("hidden",it({height:"0"})),S1("void",it({height:"{{height}}"}),{params:{height:"0"}}),S1("visible",it({height:"*"})),qt("visible <=> hidden",[Wt("{{transitionParams}}")]),qt("void => hidden",Wt("{{transitionParams}}")),qt("void => visible",Wt("{{transitionParams}}"))])]},changeDetection:0})}return n})(),PA=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,z1,O2,ML,CL,z1]})}return n})(),kA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-configurator-sidebar"]],standalone:!0,features:[r.UHJ],decls:12,vars:8,consts:[[1,"toolbar-content"],["styleClass","custombar2",1,"toolbar-scrolling"],["header","Frame",3,"toggleable","collapsed"],["header","Group 1",3,"toggleable","collapsed"],["header","Group 2",3,"toggleable","collapsed"],["header","Group 3",3,"toggleable","collapsed"]],template:function(i,s){1&i&&(r.I0R(0,"div",0)(1,"p-scrollPanel",1),r.wR5(2,"p-panel",2),r.I0R(3,"p-panel",3)(4,"p"),r.OEk(5," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),r.C$Y()(),r.I0R(6,"p-panel",4)(7,"p"),r.OEk(8," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),r.C$Y()(),r.I0R(9,"p-panel",5)(10,"p"),r.OEk(11," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),r.C$Y()()()()),2&i&&(r.yG2(2),r.E7m("toggleable",!0)("collapsed",!1),r.yG2(),r.E7m("toggleable",!0)("collapsed",!0),r.yG2(3),r.E7m("toggleable",!0)("collapsed",!0),r.yG2(3),r.E7m("toggleable",!0)("collapsed",!0))},dependencies:[cA,lA,PA,BA],styles:[".toolbar-content[_ngcontent-%COMP%]{flex:1 0 auto;display:flex;flex-direction:column;overflow:auto;scrollbar-width:none}.toolbar-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.toolbar-scrolling[_ngcontent-%COMP%]{margin-left:5px;max-height:0}.file-input[_ngcontent-%COMP%]{display:none}"]})}return n})();function RA(n,t){if(1&n&&r.wR5(0,"lib-winconf-configurator-statusbar",7),2&n){const e=r.GaO();r.E7m("mousePos",e.mousePos)}}const NA=()=>[];let FA=(()=>{class n{constructor(e,i,s){this.constructionService=e,this.editorService=i,this.toolbarStore=s,this.store=(0,r.uUt)(Ee.m_),this.destroy$=new Et.E,this.ViewMode=qo,this.hideStatusBar=!0,this.mousePosStr="",this.selected$=this.store.select(eh.selectSelected).pipe((0,vn.a)(this.destroy$)),this.constructions$=this.store.select(eh.selectConstructions).pipe((0,vn.a)(this.destroy$)),this.group="configurator-open-file",this.toolbarState={save:Z8.Disabled,create:Z8.Disabled},this.constructionService.onEndMullionDraw.subscribe(c=>{this.toolbarState={...this.toolbarState,create:Z8.Enabled}}),this.editorService.onMouseMove.subscribe(c=>{this.mousePos=c.coord,this.mousePosStr=`${Math.round(10*c.coord.x)/10}, ${Math.round(10*c.coord.y)/10}`})}ngOnInit(){this.selected$.subscribe(e=>{this.selectedConstruction=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}addConstruction(e){this.store.dispatch(Fn.addConstruction({construction:e}))}selectConstruction(e){this.store.dispatch(Fn.selectConstruction({id:e}))}removeConstruction(e){this.store.dispatch(Fn.removeConstruction({id:e}))}saveConstruction(e){this.selectedConstruction&&this.store.dispatch(Fn.saveEditedConstruction({name:this.selectedConstruction.name,construction:e}))}selectConstructionFile(e){this.store.dispatch(ni.selectFile(e))}openFile(e){this.store.dispatch(ni.openFile({file:e}))}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(Qa),r.GI1(ir),r.GI1(Ee.m_))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-configurator"]],viewQuery:function(i,s){if(1&i&&r.CC$(r0,5),2&i){let c;r.wto(c=r.Gqi())&&(s.tabPanelChildren=c)}},standalone:!0,features:[r.UHJ],decls:8,vars:8,consts:[[1,"container"],[1,"left-part"],[1,"configurator-sidebar"],[1,"body-part"],[1,"configurator-toolbar"],[3,"isEditMode","viewMode","selected","constructions","addConstructionEvent","selectConstructionEvent","removeConstructionEvent","saveConstructionEvent","selectFileEvent","openFileEvent"],["class","configurator-status-bar",3,"mousePos",4,"ngIf"],[1,"configurator-status-bar",3,"mousePos"]],template:function(i,s){1&i&&(r.I0R(0,"div",0)(1,"div",1),r.wR5(2,"lib-winconf-configurator-sidebar",2),r.C$Y(),r.I0R(3,"div",3),r.wR5(4,"lib-winconf-configurator-toolbar",4),r.I0R(5,"lib-winconf-configurator-viewer",5),r.qCj("addConstructionEvent",function(h){return s.addConstruction(h)})("selectConstructionEvent",function(h){return s.selectConstruction(h)})("removeConstructionEvent",function(h){return s.removeConstruction(h)})("saveConstructionEvent",function(h){return s.saveConstruction(h)})("selectFileEvent",function(h){return s.selectConstructionFile(h)})("openFileEvent",function(h){return s.openFile(h)}),r.wVc(6,"async"),r.C$Y(),r.yuY(7,RA,1,1,"lib-winconf-configurator-statusbar",6),r.C$Y()()),2&i&&(r.yG2(5),r.E7m("isEditMode",!0)("viewMode",s.ViewMode.tabs)("selected",s.selectedConstruction)("constructions",r.kDX(6,5,s.constructions$)||r.q4q(7,NA)),r.yG2(2),r.E7m("ngIf",!s.hideStatusBar))},dependencies:[nn,zn,lo,cu,kA,_y,qy,wu,zL],styles:[".container[_ngcontent-%COMP%]{margin-top:5px;height:100%;width:100%;flex:1 0 auto;display:flex}.left-part[_ngcontent-%COMP%]{display:flex}.configurator-sidebar[_ngcontent-%COMP%]{width:300px;height:100%;max-height:100%;flex-direction:column;display:flex;background-color:var(--gray-50)}.body-part[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex-direction:column;margin-left:5px;border:solid;border-color:var(--gray-300)}.configurator-status-bar[_ngcontent-%COMP%]{margin:0 7px 0 5px}"]})}return n})();const GA=["list"];function UA(n,t){if(1&n&&(r.I0R(0,"span",12),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(2).$implicit;r.yG2(),r.cNF(e.label)}}function $A(n,t){if(1&n&&r.wR5(0,"span",13),2&n){const e=r.GaO(2).$implicit;r.E7m("innerHTML",e.label,r.E3n)}}const jA=()=>({exact:!1});function WA(n,t){if(1&n){const e=r.KQA();r.I0R(0,"a",8),r.qCj("click",function(s){r.usT(e);const c=r.GaO(),h=c.$implicit,d=c.index,g=r.GaO();return r.CGJ(g.onItemClick(s,h,d))})("keydown",function(s){r.usT(e);const c=r.GaO(),h=c.$implicit,d=c.index,g=r.GaO();return r.CGJ(g.onItemKeydown(s,h,d))}),r.I0R(1,"span",9),r.OEk(2),r.C$Y(),r.yuY(3,UA,2,1,"span",10)(4,$A,1,1,"ng-template",null,11,r.gJz),r.C$Y()}if(2&n){const e=r.Gew(5),i=r.GaO(),s=i.$implicit,c=i.index,h=r.GaO();r.E7m("routerLink",s.routerLink)("queryParams",s.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",s.routerLinkActiveOptions||r.q4q(19,jA))("target",s.target)("fragment",s.fragment)("queryParamsHandling",s.queryParamsHandling)("preserveFragment",s.preserveFragment)("skipLocationChange",s.skipLocationChange)("replaceUrl",s.replaceUrl)("state",s.state)("ariaCurrentWhenActive",h.exact?"step":void 0),r.e48("tabindex",h.getItemTabIndex(s,c))("aria-selected",c===h.activeIndex)("aria-expanded",c===h.activeIndex)("aria-disabled",s.disabled||h.readonly&&c!==h.activeIndex),r.yG2(2),r.cNF(c+1),r.yG2(),r.E7m("ngIf",!1!==s.escape)("ngIfElse",e)}}function qA(n,t){if(1&n&&(r.I0R(0,"span",12),r.OEk(1),r.C$Y()),2&n){const e=r.GaO(2).$implicit;r.yG2(),r.cNF(e.label)}}function KA(n,t){if(1&n&&r.wR5(0,"span",13),2&n){const e=r.GaO(2).$implicit;r.E7m("innerHTML",e.label,r.E3n)}}function YA(n,t){if(1&n){const e=r.KQA();r.I0R(0,"a",14),r.qCj("click",function(s){r.usT(e);const c=r.GaO(),h=c.$implicit,d=c.index,g=r.GaO();return r.CGJ(g.onItemClick(s,h,d))})("keydown",function(s){r.usT(e);const c=r.GaO(),h=c.$implicit,d=c.index,g=r.GaO();return r.CGJ(g.onItemKeydown(s,h,d))}),r.I0R(1,"span",9),r.OEk(2),r.C$Y(),r.yuY(3,qA,2,1,"span",10)(4,KA,1,1,"ng-template",null,15,r.gJz),r.C$Y()}if(2&n){const e=r.Gew(5),i=r.GaO(),s=i.$implicit,c=i.index,h=r.GaO();r.E7m("target",s.target)("ariaCurrentWhenActive",!h.exact||s.disabled&&!h.readonly?void 0:"step"),r.e48("href",s.url,r.K6U)("tabindex",h.getItemTabIndex(s,c))("aria-selected",c===h.activeIndex)("aria-expanded",c===h.activeIndex)("aria-disabled",s.disabled||h.readonly&&c!==h.activeIndex),r.yG2(2),r.cNF(c+1),r.yG2(),r.E7m("ngIf",!1!==s.escape)("ngIfElse",e)}}const QA=(n,t)=>({"p-highlight p-steps-current":n,"p-disabled":t});function ZA(n,t){if(1&n&&(r.I0R(0,"li",4,5),r.yuY(2,WA,6,20,"a",6)(3,YA,6,10,"ng-template",null,7,r.gJz),r.C$Y()),2&n){const e=t.$implicit,i=t.index,s=r.Gew(4),c=r.GaO();r.m8U(e.styleClass),r.E7m("ngStyle",e.style)("tooltipOptions",e.tooltipOptions)("ngClass",r.IBC(10,QA,c.isActive(e,i),e.disabled||c.readonly&&!c.isActive(e,i))),r.e48("aria-current",c.isActive(e,i)?"step":void 0)("id",e.id)("data-pc-section","menuitem"),r.yG2(2),r.E7m("ngIf",c.isClickableRouterLink(e))("ngIfElse",s)}}const XA=n=>({"p-steps p-component":!0,"p-readonly":n});let JA=(()=>{class n{router;route;cd;activeIndex=0;model;readonly=!0;style;styleClass;exact=!0;activeIndexChange=new r._w7;listViewChild;constructor(e,i,s){this.router=e,this.route=i,this.cd=s}subscription;ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}onItemClick(e,i,s){this.readonly||i.disabled?e.preventDefault():(this.activeIndexChange.emit(s),!i.url&&!i.routerLink&&e.preventDefault(),i.command&&i.command({originalEvent:e,item:i,index:s}))}onItemKeydown(e,i,s){switch(e.code){case"ArrowRight":this.navigateToNextItem(e.target),e.preventDefault();break;case"ArrowLeft":this.navigateToPrevItem(e.target),e.preventDefault();break;case"Home":this.navigateToFirstItem(e.target),e.preventDefault();break;case"End":this.navigateToLastItem(e.target),e.preventDefault();break;case"Tab":if(s!==this.activeIndex){const c=oe.find(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');c[s].children[0].tabIndex="-1",c[this.activeIndex].children[0].tabIndex="0"}break;case"Enter":case"Space":this.onItemClick(e,i,s),e.preventDefault()}}navigateToNextItem(e){const i=this.findNextItem(e);i&&this.setFocusToMenuitem(e,i)}navigateToPrevItem(e){const i=this.findPrevItem(e);i&&this.setFocusToMenuitem(e,i)}navigateToFirstItem(e){const i=this.findFirstItem();i&&this.setFocusToMenuitem(e,i)}navigateToLastItem(e){const i=this.findLastItem();i&&this.setFocusToMenuitem(e,i)}findNextItem(e){const i=e.parentElement.nextElementSibling;return i?i.children[0]:null}findPrevItem(e){const i=e.parentElement.previousElementSibling;return i?i.children[0]:null}findFirstItem(){const e=oe.findSingle(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');return e?e.children[0]:null}findLastItem(){const e=oe.find(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');return e?e[e.length-1].children[0]:null}setFocusToMenuitem(e,i){e.tabIndex="-1",i.tabIndex="0",i.focus()}isClickableRouterLink(e){return e.routerLink&&!this.readonly&&!e.disabled}isActive(e,i){if(e.routerLink){let s=Array.isArray(e.routerLink)?e.routerLink:[e.routerLink];return this.router.isActive(this.router.createUrlTree(s,{relativeTo:this.route}).toString(),!1)}return i===this.activeIndex}getItemTabIndex(e,i){return e.disabled?"-1":e.disabled||this.activeIndex!==i?e.tabindex??"-1":e.tabindex||"0"}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(r.GI1(ci),r.GI1(I2),r.GI1(r.kD9))};static \u0275cmp=r.In1({type:n,selectors:[["p-steps"]],viewQuery:function(i,s){if(1&i&&r.CC$(GA,5),2&i){let c;r.wto(c=r.Gqi())&&(s.listViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",model:"model",readonly:"readonly",style:"style",styleClass:"styleClass",exact:"exact"},outputs:{activeIndexChange:"activeIndexChange"},decls:4,vars:9,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["list",""],["class","p-steps-item","role","presentation","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["role","presentation","pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["menuitem",""],["role","tab","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","ariaCurrentWhenActive","click","keydown",4,"ngIf","ngIfElse"],["elseBlock",""],["role","tab",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","ariaCurrentWhenActive","click","keydown"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","tab",1,"p-menuitem-link",3,"target","ariaCurrentWhenActive","click","keydown"],["htmlRouteLabel",""]],template:function(i,s){1&i&&(r.I0R(0,"nav",0)(1,"ul",1,2),r.yuY(3,ZA,5,13,"li",3),r.C$Y()()),2&i&&(r.m8U(s.styleClass),r.E7m("ngClass",r.S45(7,XA,s.readonly))("ngStyle",s.style),r.e48("data-pc-name","steps"),r.yG2(),r.e48("data-pc-section","menu"),r.yG2(2),r.E7m("ngForOf",s.model))},dependencies:[e1,ri,zn,Ve,ml,fl,sa],styles:["@layer primeng{.p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}}\n"],encapsulation:2,changeDetection:0})}return n})(),eO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=r.a4G({type:n});static \u0275inj=r.s3X({imports:[nn,Oo,ui,Oo,ui]})}return n})();var bt=function(n){return n.default="Default",n.drawFrame="Draw_frame",n.drawImpost="Draw_impost",n.activeImpost="Active_impost",n.activeCore="Active_core",n}(bt||{}),lM=function(n){return n.frame="Frame",n.cut="Cut",n}(lM||{});const tO=[{label:lM.frame},{label:lM.cut}];class dr{static pointToEuclid(t){return new Qe(t.x,t.y)}static lineToEuclid(t){return new at(dr.pointToEuclid(t.start),dr.pointToEuclid(t.end))}static findDeleteElement(t,e){let i;const s=[],c=[];return function h(g){if(null!=i)return;const f=g.dividers.find(_=>_.id===t);if(f)return i=g,void s.push(f);g.areas.forEach(_=>{h(_)})}(e),0===s.length||null==i?{deleteImposts:[],deleteAreas:[]}:(i.areas.forEach(function d(g){c.push(g),s.push(...g.dividers),g.areas.forEach(d)}),{deleteImposts:s,deleteAreas:c})}}let nO=(()=>{class n{constructor(e){this.editorsService=e,this.name="plotter",this.id="123",this.mode={type:bt.default},this.drawingSteps=tO,this.drawingStep=0,this.disabledResetImposts=!0,this.isProlong=!0,this.frame=[new Qe(300,0,300),new Qe(1e3,0),new Qe(1e3,500,-100),new Qe(1500,0),new Qe(2e3,0,1600),new Qe(1500,1500),new Qe(500,1500,-200)],this.setUndoRedo(),this.editorsService.onSizeChanged.subscribe(i=>{i.name===this.name&&(this.editor||(this.editor=i,null==this.drawing&&(this.drawing=new Ya(i)),null==this.area?this.frame.length>0&&this.createArea():this.drawing.drawFrames(this.area),this.editor.gui&&(this.editor.gui.getOnClick().subscribe(s=>{const c=new Qe(s.x,s.y);null!=this.area?this.mode.type===bt.activeCore&&this.changePoint(c)||this.mode.type===bt.activeImpost&&this.changeImpostPoint(c)||(this.mode.type===bt.default||this.mode.type===bt.activeImpost||this.mode.type===bt.activeCore)&&this.handleActiveItem(c)||((this.mode.type===bt.default||this.mode.type===bt.activeImpost)&&this.area.isStrokeIncludePoint(c)&&(this.mode={type:bt.activeCore},this.drawActiveCoreStroke()),this.drawing.clearDrawingLine(),this.mode.type===bt.default?this.startCreateImpost(c):this.endCreateImpost(c)):this.drawFrameEdge(c)}),this.editor.gui.getOnMouseMove().subscribe(s=>{const c=new Qe(s.x,s.y);null!=this.area||this.mode.type!==bt.drawFrame?this.mode.type===bt.drawImpost&&this.fittingImpost(c):this.fittingFrameEdge(c)}))))})}keydown(e){switch(e.key){case"Escape":if(null==this.area){this.resetFrame();break}if(this.mode.type===bt.default)break;this.mode={type:bt.default},this.drawing.clearDrawingLine();break;case"Enter":null==this.area&&this.createArea();break;case"Delete":{if(this.mode.type!==bt.activeImpost||null==this.area)break;const i=this.area.findDividerById(this.mode.meta.id);if(!i)return;const s=this.deleteDividers(i.id);this.undoRedo.add({type:Qn.delete,args:s}),this.setActiveImposts(void 0);break}case"+":if(null!=this.area){if(this.mode.type===bt.activeImpost){this.changeActiveDivider({s:i=>i+50});break}this.mode.type===bt.drawImpost&&(this.mode.meta.s=(this.mode.meta.s||0)+50,this.updateDrawingLine());break}this.mode.type===bt.drawFrame&&(this.mode.meta.s=(this.mode.meta.s||0)+50,this.updateTestFrame());break;case"-":if(null!=this.area){if(this.mode.type===bt.activeImpost){this.changeActiveDivider({s:i=>i-50});break}this.mode.type===bt.drawImpost&&(this.mode.meta.s=(this.mode.meta.s||0)-50,this.updateDrawingLine());break}this.mode.type===bt.drawFrame&&(this.mode.meta.s=(this.mode.meta.s||0)-50,this.updateTestFrame());break;case"a":this.mode.type===bt.activeCore&&this.mode.meta&&"activeEdge"in this.mode.meta&&(this.mode.meta.isChangedS=!0)}}keyup(e){"a"===e.key&&this.mode.type===bt.activeCore&&this.mode.meta&&"activeEdge"in this.mode.meta&&(this.mode.meta.isChangedS=!1)}onControlZClick(e){null!=this.area&&(e.preventDefault(),this.undoRedo.undo(),this.mode={type:bt.default},this.drawing.updateDrawingAreas(this.area))}onControlShiftZClick(e){null!=this.area&&(e.preventDefault(),this.undoRedo.redo(),this.mode={type:bt.default},this.drawing.updateDrawingAreas(this.area))}setUndoRedo(){this.undoRedo=new $3({[Qn.add]:e=>{console.log("[ActionKey.add]",e),e.forEach(i=>{switch(i.edge.type){case"segment":this.process(i.edge,0,i.offset,this.isProlong);break;case"arc":{const s=i.edge.chord;this.process(new at(s.p1,s.p2),i.edge.getS(),i.offset,this.isProlong)}}})},[Qn.delete]:e=>{console.log("[ActionKey.delete]",e),e.forEach(i=>{if(null==this.area)return;const s=this.area.findDividerByCoords("segment"===i.edge.type?i.edge.midpoint:i.edge.center);return s?this.deleteDividers(s.id):void 0})}})}drawFrameEdge(e){const i=this.frame.length>1&&this.frame[0].equals(e,30);if(this.frame.length>0){if(this.mode.type!==bt.drawFrame)return;const s=this.frame[this.frame.length-1];if(this.mode.meta.s&&(s.s=this.mode.meta.s),i)return void this.createArea();const c=new at(s,e);this.drawing.drawFrameEdge(this.mode.meta.s?c.getArc(this.mode.meta.s):c)}this.mode={type:bt.drawFrame,meta:{start:e,end:e}},this.frame.push(e)}fittingFrameEdge(e){if(this.mode.type!==bt.drawFrame)return;const i=dr.pointToEuclid(e);this.frame.length>1&&this.frame[0].equals(i,30)?(this.mode.meta.end=this.frame[0],this.updateTestPoint(this.frame[0],30)):(this.mode.meta.end=i,this.updateTestPoint(void 0)),this.updateTestFrame()}handleActiveItem(e){if(null==this.area)return!1;const i=this.area.findDividerByCoords(e);return this.setActiveImposts(i),i&&this.drawActiveMullions(),null!=i}startCreateImpost(e){if(this.mode.type!==bt.default)return;const i=Math.floor(50+50*Math.random());console.log("offset:",i),this.mode={type:bt.drawImpost,meta:{start:e,end:e,s:0,offset:i}}}fittingImpost(e){this.mode.type===bt.drawImpost&&(this.mode.meta.end=e,this.updateDrawingLine())}endCreateImpost(e){if(this.mode.type!==bt.drawImpost)return;this.mode.meta.end=e,this.drawing.clearAreas();const i=dr.lineToEuclid(this.mode.meta),s=this.process(i,this.mode.meta.s||0,this.mode.meta.offset,this.isProlong);s.length>0&&this.undoRedo.add({type:Qn.add,args:s}),this.mode={type:bt.default}}createArea(){this.area=new Pn({points:this.frame,offset:100}),this.disabledResetImposts=!1,this.drawingStep=1,this.mode={type:bt.default},this.drawing.clearFrames(),this.drawing.clearTestPoints(),this.drawing.drawFrames(this.area)}setActiveImposts(e){this.drawing.clearActiveImposts(),this.drawing.clearActiveCoreStroke(),this.mode=e?{type:bt.activeImpost,meta:{id:e.id}}:{type:bt.default}}drawActiveMullions(){if(this.mode.type!==bt.activeImpost||null==this.area)return;this.drawing.clearActiveCoreStroke();const e=this.area.findDividerById(this.mode.meta.id);this.drawing.drawActiveImpost(e)}drawActiveCoreStroke(){null!=this.area&&(this.drawing.clearActiveImposts(),this.drawing.drawActiveCoreStroke(this.area))}changeActiveDivider(e){if(null==this.area||this.mode.type!==bt.activeImpost)return;const i=this.area.findChildDividersByDividerId(this.mode.meta.id),s=this.area.changeDivider(this.mode.meta.id,e);s&&(this.drawing.updateDivider(s),this.drawing.updateActiveImpost(s),this.drawing.updateDrawingAreas(this.area),this.drawing.clearDividers(i))}changePoint(e){if(null==this.area||this.mode.type!==bt.activeCore)return!1;const i=this.area.points.find(c=>c.equals(e,50));if(i)return this.drawing.updateActiveCorePoint(e),this.mode={type:bt.activeCore,meta:{activePoint:i}},!0;const s=this.area.edgeArcs.find(c=>xe.getEdgeCenter(c).equals(e,50));if(s)return this.drawing.updateActiveCorePoint(e,!1),this.mode={type:bt.activeCore,meta:{activeEdge:s}},!0;if(this.mode.meta){let c=[];if("activePoint"in this.mode.meta){const h=this.mode.meta.activePoint,d=new Qe(e.x,e.y,h.s);c=this.area.changePoint(h,d)}if("activeEdge"in this.mode.meta){const h=this.mode.meta.activeEdge;if(this.mode.meta.isChangedS){let d;const[g,f]=xe.getPointsOfEdge(h);try{d=new X1(g,e,f)}catch{d=new at(g,f)}const _=xe.getBasePoint(this.area,d);c=this.area.changeArc(h,"segment"===d.type?0:d.getS(_))}else{const d=e,g=xe.getEdgeCenter(h),y=h.shift(d.x-g.x,d.y-g.y),[C,x]=xe.getPointsOfEdge(h),[b,L]=xe.getPointsOfEdge(y),V=new Qe(b.x,b.y,C.s),B=new Qe(L.x,L.y,x.s);c=this.area.changePoints([{old:C,new:V},{old:x,new:B}])}}return this.drawing.updateFrames(this.area),this.drawing.updateActiveCoreStroke(this.area),this.drawing.updateAllDividers(c),this.drawing.updateDrawingAreas(this.area),this.drawing.clearActiveCoreStroke(),this.mode={type:bt.default},!0}return!1}changeImpostPoint(e){if(null==this.area||this.mode.type!==bt.activeImpost)return!1;const i=this.area.findDividerById(this.mode.meta.id);if(!i)return!1;const s=xe.getPointsOfEdge(i.edge).find(d=>d.equals(e,50));if(s)return this.drawing.updateActiveMullionsPoint(s),this.mode.meta.activePoint=s,this.mode.meta.isEdge=!1,!0;const c=xe.getEdgeCenter(i.edge);if(c.equals(e,50))return this.drawing.updateActiveMullionsPoint(c,!1),this.mode.meta.activePoint=c,this.mode.meta.isEdge=!0,!0;const h=[];if(this.mode.meta&&null!=this.mode.meta.activePoint&&!this.mode.meta.isEdge){const d=this.mode.meta.activePoint,g=new Qe(e.x,e.y,d.s);h.push(...this.area.changeImpostPoint(this.mode.meta.id,d,g))}if(this.mode.meta&&this.mode.meta.isEdge){const d=new Qe(e.x,e.y),g=this.area.changeImpostPosition(this.mode.meta.id,d);g.push(...g)}return h.length>0&&(this.drawing.updateAllDividers(h),this.drawing.updateDrawingAreas(this.area),this.drawing.clearActiveImposts(),this.mode={type:bt.default},!0)}process(e,i,s,c=!1){if(null==this.area)return[];const h=this.area.divide(e,i,s,c);return console.log(this.area),this.drawing.drawAreaDividers(this.area),this.drawing.drawSkeleton(this.area),this.drawing.drawInnerArea(this.area),h}deleteDividers(e){if(null==this.area)return[];const{deleteImposts:i}=dr.findDeleteElement(e,this.area);return this.area.deleteDividers(e),this.drawing.clearDividers(i),this.drawing.updateDrawingAreas(this.area),i}resetFrame(){this.frame=[],this.drawing.clearFrames(),this.drawing.clearAreas(),this.drawing.clearAllDividers(),this.disabledResetImposts=!0,this.drawingStep=0,null!=this.area&&(this.area=void 0)}resetImposts(){null!=this.area&&(this.area.areas=[],this.area.dividers=[],this.drawing.clearAllDividers(),this.drawing.updateDrawingAreas(this.area))}updateTestFrame(){if(this.mode.type!==bt.drawFrame)return;const e=[];if(this.frame.length>0){const s=new at(this.frame[this.frame.length-1],dr.pointToEuclid(this.mode.meta.end));e.push(this.mode.meta.s?s.getArc(this.mode.meta.s):s)}if(this.frame.length>1){const i=this.frame[0];e.push(new at(dr.pointToEuclid(this.mode.meta.end),i))}this.drawing.updateFrameTestEdges(e)}updateDrawingLine(){if(this.mode.type!==bt.drawImpost)return;const e=dr.lineToEuclid(this.mode.meta);let i=e;this.mode.meta.s&&(i=e.getArc(this.mode.meta.s)),this.drawing.updateDrawingLine(i)}updateTestPoint(e,i=0){null!=e?this.drawing.addedTestPoint(e,i):this.drawing.clearTestPoints()}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(ir))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-plotter"]],hostBindings:function(i,s){1&i&&r.qCj("keydown",function(h){return s.keydown(h)},!1,r.MbM)("keyup",function(h){return s.keyup(h)},!1,r.MbM)("keydown.control.z",function(h){return s.onControlZClick(h)},!1,r.wLc)("keydown.control.shift.z",function(h){return s.onControlShiftZClick(h)},!1,r.wLc)},standalone:!0,features:[r.UHJ],decls:7,vars:6,consts:[[3,"name","id"],[1,"absolute","top-50","right-50","flex","flex-column","gap-10"],[3,"model","activeIndex","readonly"],[1,"flex","gap-3"],["label","Reset all","size","small",3,"onClick"],["label","Reset imposts","size","small",3,"disabled","onClick"]],template:function(i,s){1&i&&(r.wR5(0,"lib-winconf-construction-editor",0),r.I0R(1,"div",1)(2,"div"),r.wR5(3,"p-steps",2),r.C$Y(),r.I0R(4,"div",3)(5,"p-button",4),r.qCj("onClick",function(){return s.resetFrame()}),r.C$Y(),r.I0R(6,"p-button",5),r.qCj("onClick",function(){return s.resetImposts()}),r.C$Y()()()),2&i&&(r.E7m("name",s.name)("id",s.id),r.yG2(3),r.E7m("model",s.drawingSteps)("activeIndex",s.drawingStep)("readonly",!0),r.yG2(3),r.E7m("disabled",s.disabledResetImposts))},dependencies:[eO,JA,ys,nc,xu],styles:[".absolute[_ngcontent-%COMP%]{position:absolute}.top-50[_ngcontent-%COMP%]{top:50px}.right-50[_ngcontent-%COMP%]{right:50px}.flex[_ngcontent-%COMP%]{display:flex}.flex-column[_ngcontent-%COMP%]{flex-direction:column}.gap-3[_ngcontent-%COMP%]{grid-gap:3px}.gap-10[_ngcontent-%COMP%]{grid-gap:10px}"]})}return n})(),iO=(()=>{class n{constructor(e,i,s,c){this.converterService=e,this.calculatorService=i,this.editorsService=s,this.convertToWinspecService=c,this.name="converter",this.id="321",this.data=R6,this.onChange=new r._w7,this.testProperty="",this.testEvent=new r._w7,this.drawingStep=0,this.disabledResetImposts=!0,this.mode={type:Ae.default},this.isProlong=!0,this.frame=[],this.editorsService.onSizeChanged.subscribe(h=>{this.setUndoRedo(),this.editor=h,this.drawing=new Ya(h),this.createArea(),this.editor.gui&&(this.editor.gui.getOnClick().subscribe(d=>{const g=new Qe(d.x,d.y);null!=this.area?this.mode.type===Ae.activeCore&&(console.log("active core"),this.changePoint(g))?console.log(this.area):this.mode.type===Ae.activeImpost&&this.changeImpostPoint(g)||(this.mode.type===Ae.default||this.mode.type===Ae.activeImpost||this.mode.type===Ae.activeCore)&&this.handleActiveItem(g)||((this.mode.type===Ae.default||this.mode.type===Ae.activeImpost)&&this.area.isStrokeIncludePoint(g)&&(this.mode={type:Ae.activeCore},this.drawActiveCoreStroke()),this.mode.type===Ae.drawWing&&this.drawWing(d.x,d.y),this.drawing.clearDrawingLine(),this.mode.type===Ae.default?this.startCreateImpost(g):this.endCreateImpost(g)):this.drawFrameEdge(g)}),this.editor.gui.getOnMouseMove().subscribe(d=>{const g=new Qe(d.x,d.y);null!=this.area||this.mode.type!==Ae.drawFrame?this.mode.type===Ae.drawImpost&&this.fittingImpost(g):this.fittingFrameEdge(g)}))})}setUndoRedo(){this.undoRedo=new $3({[Qn.add]:e=>{console.log("[ActionKey.add]",e),e.forEach(i=>{switch(console.log(i),i.edge.type){case"segment":this.process(i.edge,0,i.offset,this.isProlong);break;case"arc":{const s=i.edge.chord;this.process(new at(s.p1,s.p2),i.edge.getS(),i.offset,this.isProlong)}}})},[Qn.delete]:e=>{console.log("[ActionKey.delete]",e),e.forEach(i=>{if(null==this.area)return;const s=this.area.findDividerByCoords("segment"===i.edge.type?i.edge.midpoint:i.edge.center);return s?this.deleteDividers(s.id):void 0})}})}deleteDividers(e){if(null==this.area)return[];const{deleteImposts:i}=Nn(e,this.area);return this.area.deleteDividers(e),i}drawFrameEdge(e){const i=this.frame.length>1&&this.frame[0].equals(e,30);if(this.frame.length>0){if(this.mode.type!==Ae.drawFrame)return;const s=this.frame[this.frame.length-1];if(this.mode.meta.s&&(s.s=this.mode.meta.s),i)return void this.createArea();const c=new at(s,e);this.drawing.drawFrameEdge(this.mode.meta.s?c.getArc(this.mode.meta.s):c)}this.mode={type:Ae.drawFrame,meta:{start:e,end:e}},this.frame.push(e)}changePoint(e){if(null==this.area||this.mode.type!==Ae.activeCore)return!1;const i=this.area.points.find(c=>c.equals(e,50));if(i)return this.drawing.updateActiveCorePoint(e),this.mode={type:Ae.activeCore,meta:{activePoint:i}},!0;const s=this.area.edgeArcs.find(c=>xe.getEdgeCenter(c).equals(e,50));if(s)return this.drawing.updateActiveCorePoint(e,!1),this.mode={type:Ae.activeCore,meta:{activeEdge:s}},!0;if(this.mode.meta){if("activePoint"in this.mode.meta){const c=this.mode.meta.activePoint,h=new Qe(e.x,e.y,c.s);this.area.changePoint(c,h)}if("activeEdge"in this.mode.meta){const c=this.mode.meta.activeEdge;if(this.mode.meta.isChangedS){let h;const[d,g]=xe.getPointsOfEdge(c);try{h=new X1(d,e,g)}catch{h=new at(d,g)}const f=xe.getBasePoint(this.area,h);this.area.changeArc(c,"segment"===h.type?0:h.getS(f))}else{const h=e,d=xe.getEdgeCenter(c),_=c.shift(h.x-d.x,h.y-d.y),[y,C]=xe.getPointsOfEdge(c),[x,b]=xe.getPointsOfEdge(_),L=new Qe(x.x,x.y,y.s),V=new Qe(b.x,b.y,C.s);this.area.changePoints([{old:y,new:L},{old:C,new:V}])}}return this.drawing.clearActiveCoreStroke(),this.redrawCoreArea(),this.mode={type:Ae.default},!0}return!1}changeImpostPoint(e){if(console.log("changeImpostPoint"),null==this.area||this.mode.type!==Ae.activeImpost)return!1;const i=this.area.findDividerById(this.mode.meta.id);if(!i)return!1;const s=xe.getPointsOfEdge(i.edge).find(d=>d.equals(e,50));if(s)return this.drawing.updateActiveMullionsPoint(s),this.mode.meta.activePoint=s,this.mode.meta.isEdge=!1,!0;const c=xe.getEdgeCenter(i.edge);if(c.equals(e,50))return this.drawing.updateActiveMullionsPoint(c,!1),this.mode.meta.activePoint=c,this.mode.meta.isEdge=!0,!0;const h=[];if(this.mode.meta&&null!=this.mode.meta.activePoint&&!this.mode.meta.isEdge){const d=this.mode.meta.activePoint,g=new Qe(e.x,e.y,d.s);h.push(...this.area.changeImpostPoint(this.mode.meta.id,d,g))}if(this.mode.meta&&this.mode.meta.isEdge){const d=new Qe(e.x,e.y),g=this.area.changeImpostPosition(this.mode.meta.id,d);g.push(...g)}return this.drawing.clearActiveImposts(),this.redrawCoreArea(),h.length>0&&(this.mode={type:Ae.default},!0)}handleActiveItem(e){if(null==this.area)return!1;const i=this.area.findDividerByCoords(e);return this.setActiveImposts(i),i&&this.drawActiveMullions(),null!=i}setActiveImposts(e){this.drawing.clearActiveImposts(),this.drawing.clearActiveCoreStroke(),this.mode=e?{type:Ae.activeImpost,meta:{id:e.id}}:{type:Ae.default}}drawActiveMullions(){if(this.mode.type!==Ae.activeImpost||null==this.area)return;this.drawing.clearActiveCoreStroke();const e=this.area.findDividerById(this.mode.meta.id);this.drawing.drawActiveImpost(e)}drawActiveCoreStroke(){null!=this.area&&(this.drawing.clearActiveImposts(),this.drawing.drawActiveCoreStroke(this.area))}drawWing(e,i){this.area?.createWing(e,i),this.area&&this.drawing.drawConvertedArea(this.area),console.log(this.area)}startCreateImpost(e){this.mode.type===Ae.default&&(this.mode={type:Ae.drawImpost,meta:{start:e,end:e,s:0,offset:38}})}endCreateImpost(e){if(this.mode.type!==Ae.drawImpost)return;this.mode.meta.end=e,this.drawing.clearAreas();const i=c3(this.mode.meta),s=this.process(i,this.mode.meta.s||0,this.mode.meta.offset,this.isProlong);s.length>0&&this.undoRedo.add({type:Qn.add,args:s}),this.mode={type:Ae.default}}process(e,i,s,c=!1){if(null==this.area)return[];const h=this.area.divide(e,i,s,c,!0);return this.drawing.drawConvertedArea(this.area),console.log(this.area),this.onChange.emit(this.area),h}fittingFrameEdge(e){if(this.mode.type!==Ae.drawFrame)return;const i=Ks(e);this.frame.length>1&&this.frame[0].equals(i,30)?(this.mode.meta.end=this.frame[0],this.updateTestPoint(this.frame[0],30)):(this.mode.meta.end=i,this.updateTestPoint(void 0)),this.updateTestFrame()}updateTestPoint(e,i=0){null!=e?this.drawing.addedTestPoint(e,i):this.drawing.clearTestPoints()}updateTestFrame(){if(this.mode.type!==Ae.drawFrame)return;const e=[];if(this.frame.length>0){const s=new at(this.frame[this.frame.length-1],Ks(this.mode.meta.end));e.push(this.mode.meta.s?s.getArc(this.mode.meta.s):s)}if(this.frame.length>1){const i=this.frame[0];e.push(new at(Ks(this.mode.meta.end),i))}this.drawing.updateFrameTestEdges(e)}fittingImpost(e){this.mode.type===Ae.drawImpost&&(this.mode.meta.end=e,this.updateDrawingLine())}updateDrawingLine(){if(this.mode.type!==Ae.drawImpost)return;const e=c3(this.mode.meta);let i=e;this.mode.meta.s&&(i=e.getArc(this.mode.meta.s)),this.drawing.updateDrawingLine(i)}keydown(e){switch(e.key){case"Escape":if(null==this.area){this.resetFrame();break}if(this.mode.type===Ae.default)break;this.mode={type:Ae.default},this.drawing.clearDrawingLine();break;case"Enter":null==this.area&&this.createArea();break;case"Delete":{if(this.mode.type!==Ae.activeImpost||null==this.area)break;const i=this.area.findDividerById(this.mode.meta.id);if(!i)return;const s=this.deleteDividers(i.id);this.undoRedo.add({type:Qn.delete,args:s}),this.setActiveImposts(void 0),this.redrawCoreArea();break}case"+":if(null!=this.area){if(this.mode.type===Ae.activeImpost){this.changeActiveDivider({s:i=>i+50});break}this.mode.type===Ae.drawImpost&&(this.mode.meta.s=(this.mode.meta.s||0)+50,this.updateDrawingLine());break}this.mode.type===Ae.drawFrame&&(this.mode.meta.s=(this.mode.meta.s||0)+50,this.updateTestFrame());break;case"-":if(null!=this.area){if(this.mode.type===Ae.activeImpost){this.changeActiveDivider({s:i=>i-50});break}this.mode.type===Ae.drawImpost&&(this.mode.meta.s=(this.mode.meta.s||0)-50,this.updateDrawingLine());break}this.mode.type===Ae.drawFrame&&(this.mode.meta.s=(this.mode.meta.s||0)-50,this.updateTestFrame());break;case"a":this.mode.type===Ae.activeCore&&this.mode.meta&&"activeEdge"in this.mode.meta&&(this.mode.meta.isChangedS=!0);break;case"s":this.mode={type:Ae.drawWing}}}keyup(e){switch(e.key){case"a":this.mode.type===Ae.activeCore&&this.mode.meta&&"activeEdge"in this.mode.meta&&(this.mode.meta.isChangedS=!1);break;case"s":this.mode={type:Ae.default}}}onControlZClick(e){null!=this.area&&(e.preventDefault(),this.undoRedo.undo(),this.mode={type:Ae.default},this.redrawCoreArea())}onControlShiftZClick(e){null!=this.area&&(e.preventDefault(),this.undoRedo.redo(),this.mode={type:Ae.default},this.redrawCoreArea())}resetFrame(){this.testEvent.emit("Message from plotter component event"),this.frame=[],this.drawing.clearFrames(),this.drawing.clearAreas(),this.drawing.clearAllDividers(),this.disabledResetImposts=!0,this.drawingStep=0,null!=this.area&&(this.area=void 0)}changeActiveDivider(e){if(null==this.area||this.mode.type!==Ae.activeImpost)return;const i=this.area.findChildDividersByDividerId(this.mode.meta.id),s=this.area.changeDivider(this.mode.meta.id,e);s&&(this.drawing.updateDivider(s),this.drawing.updateActiveImpost(s),this.drawing.updateDrawingAreas(this.area),this.drawing.clearDividers(i))}resetComponents(){null!=this.area&&(this.area.areas=[],this.area.dividers=[],this.area.convertIntoFilling(),this.redrawCoreArea())}redrawCoreArea(){this.area&&(this.drawing.clearAllDividers(),this.drawing.clearAreas(),this.drawing.drawConvertedArea(this.area))}createArea(){this.area=this.converterService.convertConstructionToCoreArea(this.data)[0],console.log(this.area),this.drawing.drawConvertedArea(this.area)}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(DC),r.GI1(HS),r.GI1(ir),r.GI1(AC))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-winconf-converter"]],hostBindings:function(i,s){1&i&&r.qCj("keydown",function(h){return s.keydown(h)},!1,r.MbM)("keyup",function(h){return s.keyup(h)},!1,r.MbM)("keydown.control.z",function(h){return s.onControlZClick(h)},!1,r.wLc)("keydown.control.shift.z",function(h){return s.onControlShiftZClick(h)},!1,r.wLc)},inputs:{data:"data",testProperty:"testProperty"},outputs:{onChange:"onChange",testEvent:"testEvent"},standalone:!0,features:[r.UHJ],decls:3,vars:2,consts:[[3,"name","id"],[1,"absolute","top-70","right-50","flex","flex-column","gap-10"],["label","Reset components","size","small",3,"onClick"]],template:function(i,s){1&i&&(r.wR5(0,"lib-winconf-construction-editor",0),r.I0R(1,"div",1)(2,"p-button",2),r.qCj("onClick",function(){return s.resetComponents()}),r.C$Y()()),2&i&&r.E7m("name",s.name)("id",s.id)},dependencies:[ys,nc,xu],styles:[".absolute[_ngcontent-%COMP%]{position:absolute}.top-70[_ngcontent-%COMP%]{top:70px}.right-50[_ngcontent-%COMP%]{right:50px}.flex[_ngcontent-%COMP%]{display:flex}.flex-column[_ngcontent-%COMP%]{flex-direction:column}.gap-3[_ngcontent-%COMP%]{grid-gap:3px}.gap-10[_ngcontent-%COMP%]{grid-gap:10px}"]})}return n})();var Mn=E(6639),sO=E(3735);const oO=["addListener","removeListener"],rO=["addEventListener","removeEventListener"],lO=["on","off"];function xs(n,t,e,i){if((0,Si.m)(e)&&(i=e,e=void 0),i)return xs(n,t,e).pipe(Ct(i));const[s,c]=function hO(n){return(0,Si.m)(n.addEventListener)&&(0,Si.m)(n.removeEventListener)}(n)?rO.map(h=>d=>n[h](t,d,e)):function cO(n){return(0,Si.m)(n.addListener)&&(0,Si.m)(n.removeListener)}(n)?oO.map(xL(n,t)):function aO(n){return(0,Si.m)(n.on)&&(0,Si.m)(n.off)}(n)?lO.map(xL(n,t)):[];if(!s&&(0,sO.G)(n))return(0,vt.O)(h=>xs(h,t,e))((0,Tr.Uv)(n));if(!s)throw new TypeError("Invalid event target");return new t1._(h=>{const d=(...g)=>h.next(1<g.length?g:g[0]);return s(d),()=>c(d)})}function xL(n,t){return e=>i=>n[e](t,i)}function R1(n,t){(function uO(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var e=function dO(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===t?n:Math.min(t,Math.max(0,parseFloat(n))),e&&(n=parseInt(String(n*t),10)/100),Math.abs(n-t)<1e-6?1:n=360===t?(n<0?n%t+t:n%t)/parseFloat(String(t)):n%t/parseFloat(String(t))}function Um(n){return Math.min(1,Math.max(0,n))}function bL(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function $m(n){return n<=1?"".concat(100*Number(n),"%"):n}function h0(n){return 1===n.length?"0"+n:String(n)}function EL(n,t,e){n=R1(n,255),t=R1(t,255),e=R1(e,255);var i=Math.max(n,t,e),s=Math.min(n,t,e),c=0,h=0,d=(i+s)/2;if(i===s)h=0,c=0;else{var g=i-s;switch(h=d>.5?g/(2-i-s):g/(i+s),i){case n:c=(t-e)/g+(t<e?6:0);break;case t:c=(e-n)/g+2;break;case e:c=(n-t)/g+4}c/=6}return{h:c,s:h,l:d}}function hM(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*e*(t-n):e<.5?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function jm(n,t,e){n=R1(n,255),t=R1(t,255),e=R1(e,255);var i=Math.max(n,t,e),s=Math.min(n,t,e),c=0,h=i,d=i-s,g=0===i?0:d/i;if(i===s)c=0;else{switch(i){case n:c=(t-e)/d+(t<e?6:0);break;case t:c=(e-n)/d+2;break;case e:c=(n-t)/d+4}c/=6}return{h:c,s:g,v:h}}function Wm(n,t,e,i){var s=[h0(Math.round(n).toString(16)),h0(Math.round(t).toString(16)),h0(Math.round(e).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function SL(n){return Math.round(255*parseFloat(n)).toString(16)}function LL(n){return ts(n)/255}function ts(n){return parseInt(n,16)}var uM={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function a2(n){var t={r:0,g:0,b:0},e=1,i=null,s=null,c=null,h=!1,d=!1;return"string"==typeof n&&(n=function zO(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var t=!1;if(uM[n])n=uM[n],t=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var e=h2.rgb.exec(n);return e?{r:e[1],g:e[2],b:e[3]}:(e=h2.rgba.exec(n))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=h2.hsl.exec(n))?{h:e[1],s:e[2],l:e[3]}:(e=h2.hsla.exec(n))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=h2.hsv.exec(n))?{h:e[1],s:e[2],v:e[3]}:(e=h2.hsva.exec(n))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=h2.hex8.exec(n))?{r:ts(e[1]),g:ts(e[2]),b:ts(e[3]),a:LL(e[4]),format:t?"name":"hex8"}:(e=h2.hex6.exec(n))?{r:ts(e[1]),g:ts(e[2]),b:ts(e[3]),format:t?"name":"hex"}:(e=h2.hex4.exec(n))?{r:ts(e[1]+e[1]),g:ts(e[2]+e[2]),b:ts(e[3]+e[3]),a:LL(e[4]+e[4]),format:t?"name":"hex8"}:!!(e=h2.hex3.exec(n))&&{r:ts(e[1]+e[1]),g:ts(e[2]+e[2]),b:ts(e[3]+e[3]),format:t?"name":"hex"}}(n)),"object"==typeof n&&(vr(n.r)&&vr(n.g)&&vr(n.b)?(t=function vO(n,t,e){return{r:255*R1(n,255),g:255*R1(t,255),b:255*R1(e,255)}}(n.r,n.g,n.b),h=!0,d="%"===String(n.r).substr(-1)?"prgb":"rgb"):vr(n.h)&&vr(n.s)&&vr(n.v)?(i=$m(n.s),s=$m(n.v),t=function mO(n,t,e){n=6*R1(n,360),t=R1(t,100),e=R1(e,100);var i=Math.floor(n),s=n-i,c=e*(1-t),h=e*(1-s*t),d=e*(1-(1-s)*t),g=i%6;return{r:255*[e,h,c,c,d,e][g],g:255*[d,e,e,h,c,c][g],b:255*[c,c,d,e,e,h][g]}}(n.h,i,s),h=!0,d="hsv"):vr(n.h)&&vr(n.s)&&vr(n.l)&&(i=$m(n.s),c=$m(n.l),t=function gO(n,t,e){var i,s,c;if(n=R1(n,360),t=R1(t,100),e=R1(e,100),0===t)s=e,c=e,i=e;else{var h=e<.5?e*(1+t):e+t-e*t,d=2*e-h;i=hM(d,h,n+1/3),s=hM(d,h,n),c=hM(d,h,n-1/3)}return{r:255*i,g:255*s,b:255*c}}(n.h,i,c),h=!0,d="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(e=n.a)),e=bL(e),{ok:h,format:n.format||d,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}var uc="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),dM="[\\s|\\(]+(".concat(uc,")[,|\\s]+(").concat(uc,")[,|\\s]+(").concat(uc,")\\s*\\)?"),vM="[\\s|\\(]+(".concat(uc,")[,|\\s]+(").concat(uc,")[,|\\s]+(").concat(uc,")[,|\\s]+(").concat(uc,")\\s*\\)?"),h2={CSS_UNIT:new RegExp(uc),rgb:new RegExp("rgb"+dM),rgba:new RegExp("rgba"+vM),hsl:new RegExp("hsl"+dM),hsla:new RegExp("hsla"+vM),hsv:new RegExp("hsv"+dM),hsva:new RegExp("hsva"+vM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function vr(n){return!!h2.CSS_UNIT.exec(String(n))}var qm=function(){function n(t,e){var i;if(void 0===t&&(t=""),void 0===e&&(e={}),t instanceof n)return t;"number"==typeof t&&(t=function pO(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(t)),this.originalInput=t;var s=a2(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=e.format)&&void 0!==i?i:s.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},n.prototype.getLuminance=function(){var t=this.toRgb(),c=t.r/255,h=t.g/255,d=t.b/255;return.2126*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.7152*(h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4))+.0722*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(t){return this.a=bL(t),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var t=jm(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},n.prototype.toHsvString=function(){var t=jm(this.r,this.g,this.b),e=Math.round(360*t.h),i=Math.round(100*t.s),s=Math.round(100*t.v);return 1===this.a?"hsv(".concat(e,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(e,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var t=EL(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},n.prototype.toHslString=function(){var t=EL(this.r,this.g,this.b),e=Math.round(360*t.h),i=Math.round(100*t.s),s=Math.round(100*t.l);return 1===this.a?"hsl(".concat(e,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(e,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(t){return void 0===t&&(t=!1),Wm(this.r,this.g,this.b,t)},n.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},n.prototype.toHex8=function(t){return void 0===t&&(t=!1),function fO(n,t,e,i,s){var c=[h0(Math.round(n).toString(16)),h0(Math.round(t).toString(16)),h0(Math.round(e).toString(16)),h0(SL(i))];return s&&c[0].startsWith(c[0].charAt(1))&&c[1].startsWith(c[1].charAt(1))&&c[2].startsWith(c[2].charAt(1))&&c[3].startsWith(c[3].charAt(1))?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("")}(this.r,this.g,this.b,this.a,t)},n.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},n.prototype.toHexShortString=function(t){return void 0===t&&(t=!1),1===this.a?this.toHexString(t):this.toHex8String(t)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),i=Math.round(this.b);return 1===this.a?"rgb(".concat(t,", ").concat(e,", ").concat(i,")"):"rgba(".concat(t,", ").concat(e,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var t=function(e){return"".concat(Math.round(100*R1(e,255)),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var t=function(e){return Math.round(100*R1(e,255))};return 1===this.a?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+Wm(this.r,this.g,this.b,!1),e=0,i=Object.entries(uM);e<i.length;e++){var s=i[e];if(t===s[1])return s[0]}return!1},n.prototype.toString=function(t){var e=!!t;t=t??this.format;var i=!1;return!e&&this.a<1&&this.a>=0&&(t.startsWith("hex")||"name"===t)?"name"===t&&0===this.a?this.toName():this.toRgbString():("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(t){void 0===t&&(t=10);var e=this.toHsl();return e.l+=t/100,e.l=Um(e.l),new n(e)},n.prototype.brighten=function(t){void 0===t&&(t=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(-t/100*255))),e.g=Math.max(0,Math.min(255,e.g-Math.round(-t/100*255))),e.b=Math.max(0,Math.min(255,e.b-Math.round(-t/100*255))),new n(e)},n.prototype.darken=function(t){void 0===t&&(t=10);var e=this.toHsl();return e.l-=t/100,e.l=Um(e.l),new n(e)},n.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},n.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},n.prototype.desaturate=function(t){void 0===t&&(t=10);var e=this.toHsl();return e.s-=t/100,e.s=Um(e.s),new n(e)},n.prototype.saturate=function(t){void 0===t&&(t=10);var e=this.toHsl();return e.s+=t/100,e.s=Um(e.s),new n(e)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(t){var e=this.toHsl(),i=(e.h+t)%360;return e.h=i<0?360+i:i,new n(e)},n.prototype.mix=function(t,e){void 0===e&&(e=50);var i=this.toRgb(),s=new n(t).toRgb(),c=e/100;return new n({r:(s.r-i.r)*c+i.r,g:(s.g-i.g)*c+i.g,b:(s.b-i.b)*c+i.b,a:(s.a-i.a)*c+i.a})},n.prototype.analogous=function(t,e){void 0===t&&(t=6),void 0===e&&(e=30);var i=this.toHsl(),s=360/e,c=[this];for(i.h=(i.h-(s*t>>1)+720)%360;--t;)i.h=(i.h+s)%360,c.push(new n(i));return c},n.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new n(t)},n.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var e=this.toHsv(),i=e.h,s=e.s,c=e.v,h=[],d=1/t;t--;)h.push(new n({h:i,s,v:c})),c=(c+d)%1;return h},n.prototype.splitcomplement=function(){var t=this.toHsl(),e=t.h;return[this,new n({h:(e+72)%360,s:t.s,l:t.l}),new n({h:(e+216)%360,s:t.s,l:t.l})]},n.prototype.onBackground=function(t){var e=this.toRgb(),i=new n(t).toRgb(),s=e.a+i.a*(1-e.a);return new n({r:(e.r*e.a+i.r*i.a*(1-e.a))/s,g:(e.g*e.a+i.g*i.a*(1-e.a))/s,b:(e.b*e.a+i.b*i.a*(1-e.a))/s,a:s})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(t){for(var e=this.toHsl(),i=e.h,s=[this],c=360/t,h=1;h<t;h++)s.push(new n({h:(i+h*c)%360,s:e.s,l:e.l}));return s},n.prototype.equals=function(t){return this.toRgbString()===new n(t).toRgbString()},n}();const Km=2,VL=.16,MO=.05,xO=.05,bO=.15,HL=5,IL=4,EO=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function TL({r:n,g:t,b:e}){const i=jm(n,t,e);return{h:360*i.h,s:i.s,v:i.v}}function Ym({r:n,g:t,b:e}){return`#${Wm(n,t,e,!1)}`}function DL(n,t,e){let i;return i=Math.round(n.h)>=60&&Math.round(n.h)<=240?e?Math.round(n.h)-Km*t:Math.round(n.h)+Km*t:e?Math.round(n.h)+Km*t:Math.round(n.h)-Km*t,i<0?i+=360:i>=360&&(i-=360),i}function AL(n,t,e){if(0===n.h&&0===n.s)return n.s;let i;return i=e?n.s-VL*t:t===IL?n.s+VL:n.s+MO*t,i>1&&(i=1),e&&t===HL&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function OL(n,t,e){let i;return i=e?n.v+xO*t:n.v-bO*t,i>1&&(i=1),Number(i.toFixed(2))}function BL(n,t={}){const e=[],i=a2(n);for(let s=HL;s>0;s-=1){const c=TL(i),h=Ym(a2({h:DL(c,s,!0),s:AL(c,s,!0),v:OL(c,s,!0)}));e.push(h)}e.push(Ym(i));for(let s=1;s<=IL;s+=1){const c=TL(i),h=Ym(a2({h:DL(c,s),s:AL(c,s),v:OL(c,s)}));e.push(h)}return"dark"===t.theme?EO.map(({index:s,opacity:c})=>Ym(function SO(n,t,e){const i=e/100;return{r:(t.r-n.r)*i+n.r,g:(t.g-n.g)*i+n.g,b:(t.b-n.b)*i+n.b}}(a2(t.backgroundColor||"#141414"),a2(e[s]),100*c))):e}const PL={};const Qm=(...n)=>function kL(n,...t){(0,r.sPQ)()&&function VO(...n){const t=n.reduce((e,i)=>e+i.toString(),"");return!PL[t]&&(PL[t]=!0,!0)}(...t)&&n(...t)}((...t)=>console.warn("[NG-ZORRO]:",...t),...n);function Zm(n,t=0){return function IO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function DO(n){return function HO(n){return null!=n&&"false"!=`${n}`}(n)}function Hn(){return function mM(n,t){return function e(i,s,c){const h=`$$__zorroPropDecorator__${s}`;return Object.prototype.hasOwnProperty.call(i,h)&&Qm(`The prop "${h}" is already exist, it will be overrided by ${n} decorator.`),Object.defineProperty(i,h,{configurable:!0,writable:!0}),{get(){return c&&c.get?c.get.bind(this)():this[h]},set(d){c&&c.set&&c.set.bind(this)(t(d)),this[h]=t(d)}}}}("InputBoolean",DO)}function GL(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const WO="rc-util-key";function UL({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:WO}function yM(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function $L(n,t={}){if(!GL())return null;const e=document.createElement("style");t.cspNonce&&(e.nonce=t.cspNonce),e.innerHTML=n;const i=yM(t),{firstChild:s}=i;return t.prepend&&i.prepend?i.prepend(e):t.prepend&&s?i.insertBefore(e,s):i.appendChild(e),e}const CM=new Map;const WL=new r.UbH("nz-config"),KO=`-ant-${Date.now()}-${Math.random()}`;function qL(n,t,e){const i=function YO(n,t){const e={},i=(h,d)=>{let g=h.clone();return g=d?.(g)||g,g.toRgbString()},s=(h,d)=>{const g=new qm(h),f=BL(g.toRgbString());e[`${d}-color`]=i(g),e[`${d}-color-disabled`]=f[1],e[`${d}-color-hover`]=f[4],e[`${d}-color-active`]=f[7],e[`${d}-color-outline`]=g.clone().setAlpha(.2).toRgbString(),e[`${d}-color-deprecated-bg`]=f[1],e[`${d}-color-deprecated-border`]=f[3]};if(t.primaryColor){s(t.primaryColor,"primary");const h=new qm(t.primaryColor),d=BL(h.toRgbString());d.forEach((f,_)=>{e[`primary-${_+1}`]=f}),e["primary-color-deprecated-l-35"]=i(h,f=>f.lighten(35)),e["primary-color-deprecated-l-20"]=i(h,f=>f.lighten(20)),e["primary-color-deprecated-t-20"]=i(h,f=>f.tint(20)),e["primary-color-deprecated-t-50"]=i(h,f=>f.tint(50)),e["primary-color-deprecated-f-12"]=i(h,f=>f.setAlpha(.12*f.getAlpha()));const g=new qm(d[0]);e["primary-color-active-deprecated-f-30"]=i(g,f=>f.setAlpha(.3*f.getAlpha())),e["primary-color-active-deprecated-d-02"]=i(g,f=>f.darken(2))}return t.successColor&&s(t.successColor,"success"),t.warningColor&&s(t.warningColor,"warning"),t.errorColor&&s(t.errorColor,"error"),t.infoColor&&s(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(e).map(h=>`--${n}-${h}: ${e[h]};`).join("\n")}\n  }\n  `.trim()}(n,t);GL()?function qO(n,t,e={}){const i=yM(e);if(!CM.has(i)){const h=$L("",e),{parentNode:d}=h;CM.set(i,d),d.removeChild(h)}const s=function jL(n,t={}){const e=yM(t);return Array.from(CM.get(e)?.children||[]).find(i=>"STYLE"===i.tagName&&i.getAttribute(UL(t))===n)}(t,e);if(s)return e.cspNonce&&s.nonce!==e.cspNonce&&(s.nonce=e.cspNonce),s.innerHTML!==n&&(s.innerHTML=n),s;const c=$L(n,e);c?.setAttribute(UL(e),t)}(i,`${KO}-dynamic-theme`,{cspNonce:e}):Qm("NzConfigService: SSR do not support dynamic theme with css variables.")}const KL=function(n){return void 0!==n};let MM=(()=>{class n{constructor(e,i){this.configUpdated$=new Et.E,this.config=e||{},this.cspNonce=i,this.config.theme&&qL(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme,i)}getConfig(){return this.config}getConfigForComponent(e){return this.config[e]}getConfigChangeEventForComponent(e){return this.configUpdated$.pipe((0,p1.I)(i=>i===e),Y0(void 0))}set(e,i){this.config[e]={...this.config[e],...i},"theme"===e&&this.config.theme&&qL(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme,this.cspNonce),this.configUpdated$.next(e)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(WL,8),r.CoB(r.YND,8))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jm(){return function(t,e,i){const s=`$$__zorroConfigDecorator__${e}`;return Object.defineProperty(t,s,{configurable:!0,writable:!0,enumerable:!1}),{get(){const c=i?.get?i.get.bind(this)():this[s],h=(this.propertyAssignCounter?.[e]||0)>1,d=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[e];return h&&KL(c)?c:KL(d)?d:c},set(c){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[e]=(this.propertyAssignCounter[e]||0)+1,i?.set?i.set.bind(this)(c):this[s]=c},configurable:!0,enumerable:!0}}}var ef=2,QL=.16,QO=.05,ZO=.05,XO=.15,ZL=5,XL=4,JO=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function JL(n){var s=jm(n.r,n.g,n.b);return{h:360*s.h,s:s.s,v:s.v}}function tf(n){return"#".concat(Wm(n.r,n.g,n.b,!1))}function eV(n,t,e){var i;return(i=Math.round(n.h)>=60&&Math.round(n.h)<=240?e?Math.round(n.h)-ef*t:Math.round(n.h)+ef*t:e?Math.round(n.h)+ef*t:Math.round(n.h)-ef*t)<0?i+=360:i>=360&&(i-=360),i}function tV(n,t,e){return 0===n.h&&0===n.s?n.s:((i=e?n.s-QL*t:t===XL?n.s+QL:n.s+QO*t)>1&&(i=1),e&&t===ZL&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function nV(n,t,e){var i;return(i=e?n.v+ZO*t:n.v-XO*t)>1&&(i=1),Number(i.toFixed(2))}function xM(n){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[],i=a2(n),s=ZL;s>0;s-=1){var c=JL(i),h=tf(a2({h:eV(c,s,!0),s:tV(c,s,!0),v:nV(c,s,!0)}));e.push(h)}e.push(tf(i));for(var d=1;d<=XL;d+=1){var g=JL(i),f=tf(a2({h:eV(g,d),s:tV(g,d),v:nV(g,d)}));e.push(f)}return"dark"===t.theme?JO.map(function(_){var y=_.index,C=_.opacity,x=tf(function eB(n,t,e){var i=e/100;return{r:(t.r-n.r)*i+n.r,g:(t.g-n.g)*i+n.g,b:(t.b-n.b)*i+n.b}}(a2(t.backgroundColor||"#141414"),a2(e[y]),100*C));return x}):e}var bM={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},N1={},EM={};Object.keys(bM).forEach(function(n){N1[n]=xM(bM[n]),N1[n].primary=N1[n][5],EM[n]=xM(bM[n],{theme:"dark",backgroundColor:"#141414"}),EM[n].primary=EM[n][5]});var iV=E(2500);const gr="[@ant-design/icons-angular]:";function sV(n){(0,r.sPQ)()&&console.warn(`${gr} ${n}.`)}function oV(n){return xM(n)[0]}function nf(n,t){switch(t){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${gr}Theme "${t}" is not a recognized theme!`)}}function rV(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}function sf(n){const t=n.split(":");switch(t.length){case 1:return[n,""];case 2:return[t[1],t[0]];default:throw new Error(`${gr}The icon type ${n} is not valid!`)}}function lV(n){return new Error(`${gr}the icon ${n} does not exist or is not registered.`)}function dB(){return new Error(`${gr}<svg> tag not found.`)}const mB=new r.UbH("ant_icons");let cV=(()=>{class n{set twoToneColor({primaryColor:e,secondaryColor:i}){this._twoToneColorPalette.primaryColor=e,this._twoToneColorPalette.secondaryColor=i||oV(e)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}constructor(e,i,s,c,h){this._rendererFactory=e,this._handler=i,this._document=s,this.sanitizer=c,this._antIcons=h,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new Et.E,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new tu(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?sV("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=e=>{this._jsonpIconLoad$.next(e)})}changeAssetsSource(e){this._assetsUrlRoot=e.endsWith("/")?e:e+"/"}addIcon(...e){e.forEach(i=>{this._svgDefinitions.set(nf(i.name,i.theme),i)})}addIconLiteral(e,i){const[s,c]=sf(e);if(!c)throw function aB(){return new Error(`${gr}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:e,icon:i})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(e,i){const s=rV(e)?e:this._svgDefinitions.get(e)||null;if(!s&&this._disableDynamicLoading)throw lV(e);return(s?(0,st.of)(s):this._loadIconDynamically(e)).pipe((0,xt.k)(h=>{if(!h)throw lV(e);return this._loadSVGFromCacheOrCreateNew(h,i)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(e){if(!this._http&&!this._enableJsonpLoading)return(0,st.of)(function hB(){return function tB(n){console.error(`${gr} ${n}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let i=this._inProgressFetches.get(e);if(!i){const[s,c]=sf(e),h=c?{name:e,icon:""}:function oB(n){const t=n.split("-"),e=function iB(n){return"o"===n?"outline":n}(t.splice(t.length-1,1)[0]);return{name:t.join("-"),theme:e,icon:""}}(s),g=(c?`${this._assetsUrlRoot}assets/${c}/${s}`:`${this._assetsUrlRoot}assets/${h.theme}/${h.name}`)+(this._enableJsonpLoading?".js":".svg"),f=this.sanitizer.sanitize(r.SI6.URL,g);if(!f)throw function uB(n){return new Error(`${gr}The url "${n}" is unsafe.`)}(g);i=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(h,f):this._http.get(f,{responseType:"text"}).pipe((0,xt.k)(y=>({...h,icon:y})))).pipe(w1(y=>this.addIcon(y)),E2(()=>this._inProgressFetches.delete(e)),(0,b2.a)(()=>(0,st.of)(null)),(0,iV.o)()),this._inProgressFetches.set(e,i)}return i}_loadIconDynamicallyWithJsonp(e,i){return new t1._(s=>{const c=this._document.createElement("script"),h=setTimeout(()=>{d(),s.error(function vB(){return new Error(`${gr}Importing timeout error.`)}())},6e3);function d(){c.parentNode.removeChild(c),clearTimeout(h)}c.src=i,this._document.body.appendChild(c),this._jsonpIconLoad$.pipe((0,p1.I)(g=>g.name===e.name&&g.theme===e.theme),(0,x2.U)(1)).subscribe(g=>{s.next(g),d()})})}_loadSVGFromCacheOrCreateNew(e,i){let s;const c=i||this._twoToneColorPalette.primaryColor,h=oV(c)||this._twoToneColorPalette.secondaryColor,d="twotone"===e.theme?function nB(n,t,e,i){return`${nf(n,t)}-${e}-${i}`}(e.name,e.theme,c,h):void 0===e.theme?e.name:nf(e.name,e.theme),g=this._svgRenderedDefinitions.get(d);return g?s=g.icon:(s=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function cB(n){return""!==sf(n)[1]}(e.name)?e.icon:function lB(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(e.icon)),"twotone"===e.theme,c,h)),this._svgRenderedDefinitions.set(d,{...e,icon:s})),function rB(n){return n.cloneNode(!0)}(s)}_createSVGElementFromString(e){const i=this._document.createElement("div");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw dB;return s}_setSVGAttribute(e){return this._renderer.setAttribute(e,"width","1em"),this._renderer.setAttribute(e,"height","1em"),e}_colorizeSVGIcon(e,i,s,c){if(i){const h=e.childNodes,d=h.length;for(let g=0;g<d;g++){const f=h[g];"secondaryColor"===f.getAttribute("fill")?this._renderer.setAttribute(f,"fill",c):this._renderer.setAttribute(f,"fill",s)}}return this._renderer.setAttribute(e,"fill","currentColor"),e}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(r.O8F),r.CoB(lr,8),r.CoB(X,8),r.CoB(U0),r.CoB(mB,8))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})(),pB=(()=>{class n{constructor(e,i,s){this._iconService=e,this._elementRef=i,this._renderer=s}ngOnChanges(e){(e.type||e.theme||e.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(e=>{if(!this.type)return this._clearSVGElement(),void e(null);const i=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(s=>{const c=this._getSelfRenderMeta();!function fB(n,t){return n.type===t.type&&n.theme===t.theme&&n.twoToneColor===t.twoToneColor}(i,c)?e(null):(this._setSVGElement(s),e(s))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(e,i){if(rV(e))return e;{const[s,c]=sf(e);return c?e:function sB(n){return n.endsWith("-fill")||n.endsWith("-o")||n.endsWith("-twotone")}(s)?(i&&sV(`'type' ${s} already gets a theme inside so 'theme' ${i} would be ignored`),s):nf(s,i||this._iconService.defaultTheme)}}_setSVGElement(e){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,e)}_clearSVGElement(){const e=this._elementRef.nativeElement,i=e.childNodes;for(let c=i.length-1;c>=0;c--){const h=i[c];"svg"===h.tagName?.toLowerCase()&&this._renderer.removeChild(e,h)}}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(cV),r.GI1(r.GMv),r.GI1(r.q87))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[r.SYr]})}return n})();const aV={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};let SM;try{SM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{SM=!1}let rf=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?lt(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!SM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(r.AHE))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eo=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(eo||{});let lf,u0;function Au(){if("object"!=typeof document||!document)return eo.NORMAL;if(null==lf){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),lf=eo.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,lf=0===n.scrollLeft?eo.NEGATED:eo.INVERTED),n.remove()}return lf}const hP=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'},{name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},aV,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},aV,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],uV=new r.UbH("nz_icons"),dV=(new r.UbH("nz_icon_default_twotone_color"),"#1890ff");let vV=(()=>{class n extends cV{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(e){e.getAttribute("viewBox")||this._renderer.setAttribute(e,"viewBox","0 0 1024 1024"),(!e.getAttribute("width")||!e.getAttribute("height"))&&(this._renderer.setAttribute(e,"width","1em"),this._renderer.setAttribute(e,"height","1em")),e.getAttribute("fill")||this._renderer.setAttribute(e,"fill","currentColor")}fetchFromIconfont(e){const{scriptUrl:i}=e;if(this._document&&!this.iconfontCache.has(i)){const s=this._renderer.createElement("script");this._renderer.setAttribute(s,"src",i),this._renderer.setAttribute(s,"data-namespace",i.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,s),this.iconfontCache.add(i)}}createIconfontIcon(e){return this._createSVGElementFromString(`<svg><use xlink:href="${e}"></svg>`)}constructor(e,i,s,c,h,d,g){super(e,h,d,i,[...hP,...g||[]]),this.nzConfigService=s,this.platform=c,this.configUpdated$=new Et.E,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const e=this.getConfig();this.defaultTheme=e.nzTheme||"outline"}configDefaultTwotoneColor(){const i=this.getConfig().nzTwotoneColor||dV;let s=dV;i&&(i.startsWith("#")?s=i:Qm("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:s}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(r.O8F),r.CoB(U0),r.CoB(MM),r.CoB(rf),r.CoB(lr,8),r.CoB(X,8),r.CoB(uV,8))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gV=new r.UbH("nz_icons_patch");let mV=(()=>{class n{constructor(e,i){this.extraIcons=e,this.rootIconService=i,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(e=>this.rootIconService.addIcon(e)),this.patched=!0)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(gV,2),r.CoB(vV))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})(),Ou=(()=>{class n extends pB{set nzSpin(e){this.spin=e}set nzType(e){this.type=e}set nzTheme(e){this.theme=e}set nzTwotoneColor(e){this.twoToneColor=e}set nzIconfont(e){this.iconfont=e}constructor(e,i,s,c,h,d){super(c,s,h),this.ngZone=e,this.changeDetectorRef=i,this.iconService=c,this.renderer=h,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new Et.E,d&&d.doPatch(),this.el=s.nativeElement}ngOnChanges(e){const{nzType:i,nzTwotoneColor:s,nzSpin:c,nzTheme:h,nzRotate:d}=e;i||s||c||h?this.changeIcon2():d?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const e=this.el.children;let i=e.length;if(!this.type&&e.length)for(;i--;){const s=e[i];"svg"===s.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(s)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{(0,Je.Q)(this._changeIcon()).pipe((0,vn.a)(this.destroy$)).subscribe({next:e=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),e&&(this.setSVGData(e),this.handleSpin(e),this.handleRotate(e))})},error:Qm})})}handleSpin(e){this.spin||"loading"===this.type?this.renderer.addClass(e,"anticon-spin"):this.renderer.removeClass(e,"anticon-spin")}handleRotate(e){this.nzRotate?this.renderer.setAttribute(e,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(e,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(e){this.renderer.setAttribute(e,"data-icon",this.type),this.renderer.setAttribute(e,"aria-hidden","true")}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.WW2),r.GI1(r.kD9),r.GI1(r.GMv),r.GI1(vV),r.GI1(r.q87),r.GI1(mV,8))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(i,s){2&i&&r.eAK("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],standalone:!0,features:[r.eg9,r.SYr]})}return(0,Mn.UN)([Hn()],n.prototype,"nzSpin",null),n})(),VM=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:uV,useValue:e}]}}static forChild(e){return{ngModule:n,providers:[mV,{provide:gV,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})();const uP=new r.UbH("cdk-dir-doc",{providedIn:"root",factory:function dP(){return(0,r.uUt)(X)}}),vP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Bu=(()=>{class n{constructor(e){this.value="ltr",this.change=new r._w7,e&&(this.value=function gP(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?vP.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(uP,8))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mP=(()=>{class n{setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}constructor(e,i){this.elementRef=e,this.renderer=i,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(r.q87))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},standalone:!0,features:[r.SYr]})}return n})(),fP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})();const pP={disabled:!1},wP=new r.UbH("nz-wave-global-options");function _P(n){return(0,r.AFj)([{provide:wP,useValue:n}])}let zP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({providers:[_P(pP)]})}return n})();const yP=["nz-button",""];function CP(n,t){1&n&&r.wR5(0,"span",0)}const MP=["*"];let xP=(()=>{class n{insertSpan(e,i){e.forEach(s=>{if("#text"===s.nodeName){const c=i.createElement("span"),h=i.parentNode(s);i.insertBefore(h,c,s),i.appendChild(c,s)}})}get iconOnly(){const e=Array.from(this.elementRef?.nativeElement?.childNodes||[]),i=e.every(c=>"#text"!==c.nodeName),s=0==e.filter(c=>!("#comment"===c.nodeName||c?.attributes?.getNamedItem("nz-icon"))).length;return!!this.nzIconDirectiveElement&&s&&i}constructor(e,i,s,c,h,d){this.ngZone=e,this.elementRef=i,this.cdr=s,this.renderer=c,this.nzConfigService=h,this.directionality=d,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new Et.E,this.loading$=new Et.E,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,vn.a)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,vn.a)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{xs(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,vn.a)(this.destroy$)).subscribe(e=>{(this.disabled&&"A"===e.target?.tagName||this.nzLoading)&&(e.preventDefault(),e.stopImmediatePropagation())})})}ngOnChanges(e){const{nzLoading:i}=e;i&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(n1(this.nzLoading),(0,p1.I)(()=>!!this.nzIconDirectiveElement),(0,vn.a)(this.destroy$)).subscribe(e=>{const i=this.nzIconDirectiveElement.nativeElement;e?this.renderer.setStyle(i,"display","none"):this.renderer.removeStyle(i,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.WW2),r.GI1(r.GMv),r.GI1(r.kD9),r.GI1(r.q87),r.GI1(MM),r.GI1(Bu,8))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Ou,5,r.GMv),2&i){let h;r.wto(h=r.Gqi())&&(s.nzIconDirectiveElement=h.first)}},hostAttrs:[1,"ant-btn"],hostVars:34,hostBindings:function(i,s){2&i&&(r.e48("tabindex",s.disabled?-1:null===s.tabIndex?null:s.tabIndex)("disabled",s.disabled||null),r.eAK("ant-btn-default","default"===s.nzType)("ant-btn-primary","primary"===s.nzType)("ant-btn-dashed","dashed"===s.nzType)("ant-btn-link","link"===s.nzType)("ant-btn-text","text"===s.nzType)("ant-btn-circle","circle"===s.nzShape)("ant-btn-round","round"===s.nzShape)("ant-btn-lg","large"===s.nzSize)("ant-btn-sm","small"===s.nzSize)("ant-btn-dangerous",s.nzDanger)("ant-btn-loading",s.nzLoading)("ant-btn-background-ghost",s.nzGhost)("ant-btn-block",s.nzBlock)("ant-input-search-button",s.nzSearch)("ant-btn-rtl","rtl"===s.dir)("ant-btn-icon-only",s.iconOnly))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],standalone:!0,features:[r.SYr,r.UHJ],attrs:yP,ngContentSelectors:MP,decls:2,vars:1,consts:[["nz-icon","","nzType","loading"]],template:function(i,s){1&i&&(r.kPM(),r.yuY(0,CP,1,0,"span",0),r._Xx(1)),2&i&&r.C0Y(0,s.nzLoading?0:-1)},dependencies:[VM,Ou],encapsulation:2,changeDetection:0})}return(0,Mn.UN)([Hn()],n.prototype,"nzBlock",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzGhost",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzSearch",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzLoading",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzDanger",void 0),(0,Mn.UN)([Hn()],n.prototype,"disabled",void 0),(0,Mn.UN)([Jm()],n.prototype,"nzSize",void 0),n})(),bP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({imports:[xP,fP,zP]})}return n})();class dc{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(t,e=null,i=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,t instanceof dc)return t;this.service=i||null,this.origin=t,this.key=t.key,this.parentNode=e,this._title=t.title||"---",this._icon=t.icon||"",this._isLeaf=t.isLeaf||!1,this._children=[],this._isChecked=t.checked||!1,this._isSelectable=t.disabled||!1!==t.selectable,this._isDisabled=t.disabled||!1,this._isDisableCheckbox=t.disableCheckbox||!1,this._isExpanded=!t.isLeaf&&(t.expanded||!1),this._isHalfChecked=!1,this._isSelected=!t.disabled&&t.selected||!1,this._isLoading=!1,this.isMatched=!1,this.level=e?e.level+1:0,typeof t.children<"u"&&null!==t.children&&t.children.forEach(s=>{const c=this.treeService;c&&!c.isCheckStrictly&&t.checked&&!t.disabled&&!s.disabled&&!s.disableCheckbox&&(s.checked=t.checked),this._children.push(new dc(s,this))})}get title(){return this._title}set title(t){this._title=t,this.update()}get icon(){return this._icon}set icon(t){this._icon=t,this.update()}get children(){return this._children}set children(t){this._children=t,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(t){this._isLeaf=t,this.update()}get isChecked(){return this._isChecked}set isChecked(t){this._isChecked=t,this.origin.checked=t,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(t){this._isHalfChecked=t,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(t){this._isSelectable=t,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(t){this._isDisabled=t,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(t){this._isDisableCheckbox=t,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(t){this._isExpanded=t,this.origin.expanded=t,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(t){this._isSelected=t,this.origin.selected=t,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(t){this._isLoading=t,this.update()}setSyncChecked(t=!1,e=!1){this.setChecked(t,e),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(t=!1,e=!1){this.origin.checked=t,this.isChecked=t,this.isHalfChecked=e}setExpanded(t){this._isExpanded=t,this.origin.expanded=t,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(t,e=-1){this.isLeaf||(t.forEach(i=>{const s=h=>{h.getChildren().forEach(d=>{d.level=d.getParentNode().level+1,d.origin.level=d.level,s(d)})};let c=i;c instanceof dc?c.parentNode=this:c=new dc(i,this),c.level=this.level+1,c.origin.level=c.level,s(c);try{-1===e?this.children.push(c):this.children.splice(e,0,c)}catch{}}),this.origin.children=this.getChildren().map(i=>i.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){const t=this.getParentNode();t&&(t.children=t.getChildren().filter(e=>e.key!==this.key),t.origin.children=t.origin.children.filter(e=>e.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(t){if(this.treeService)switch(t){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(e=>e.key))}this.update()}update(){this.component&&this.component.markForCheck()}}function HM(n){const{isDisabled:t,isDisableCheckbox:e}=n;return!(!t&&!e)}function pV(n,t){return t.length>0&&t.indexOf(n)>-1}function wV(n=[],t=[]){const e=new Set(!0===t?[]:t),i=[];return function s(c,h=null){return c.map((d,g)=>{const f=function EP(n,t){return`${n}-${t}`}(h?h.pos:"0",g),_=function SP(n,t){return n??t}(d.key,f);d.isStart=[...h?h.isStart:[],0===g],d.isEnd=[...h?h.isEnd:[],g===c.length-1];const y={parent:h,pos:f,children:[],data:d,isStart:[...h?h.isStart:[],0===g],isEnd:[...h?h.isEnd:[],g===c.length-1]};return i.push(y),y.children=!0===t||e.has(_)||d.isExpanded?s(d.children||[],y):[],y})}(n),i}let cf=(()=>{class n{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new H1.g([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(e){this.rootNodes=e,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(e,i=[]){this.flattenNodes$.next(wV(e,i).map(s=>s.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeKeys(){const e=[],i=this.getCheckedNodeList(),s=c=>{c.forEach(h=>{e.push(h.key),!(h.children.length<1)&&s(h.children)})};return s(i),e}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(e){return e.every(i=>i instanceof dc)}setSelectedNode(e){this.selectedNode=e}setNodeActive(e){!this.isMultiple&&e.isSelected&&(this.selectedNodeList.forEach(i=>{e.key!==i.key&&(i.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(e,this.isMultiple)}setSelectedNodeList(e,i=!1){const s=this.getIndexOfArray(this.selectedNodeList,e.key);i?e.isSelected&&-1===s&&this.selectedNodeList.push(e):e.isSelected&&-1===s&&(this.selectedNodeList=[e]),e.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(c=>c.key!==e.key))}setHalfCheckedNodeList(e){const i=this.getIndexOfArray(this.halfCheckedNodeList,e.key);e.isHalfChecked&&-1===i?this.halfCheckedNodeList.push(e):!e.isHalfChecked&&i>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(s=>e.key!==s.key))}setCheckedNodeList(e){const i=this.getIndexOfArray(this.checkedNodeList,e.key);e.isChecked&&-1===i?this.checkedNodeList.push(e):!e.isChecked&&i>-1&&(this.checkedNodeList=this.checkedNodeList.filter(s=>e.key!==s.key))}conductNodeState(e="check"){let i=[];switch(e){case"select":i=this.selectedNodeList;break;case"expand":i=this.expandedNodeList;break;case"match":i=this.matchedNodeList;break;case"check":i=this.checkedNodeList;const s=c=>{const h=c.getParentNode();return!!h&&(this.checkedNodeList.findIndex(d=>d.key===h.key)>-1||s(h))};this.isCheckStrictly||(i=this.checkedNodeList.filter(c=>!s(c)));break;case"halfCheck":this.isCheckStrictly||(i=this.halfCheckedNodeList)}return i}setExpandedNodeList(e){if(e.isLeaf)return;const i=this.getIndexOfArray(this.expandedNodeList,e.key);e.isExpanded&&-1===i?this.expandedNodeList.push(e):!e.isExpanded&&i>-1&&this.expandedNodeList.splice(i,1)}setMatchedNodeList(e){const i=this.getIndexOfArray(this.matchedNodeList,e.key);e.isMatched&&-1===i?this.matchedNodeList.push(e):!e.isMatched&&i>-1&&this.matchedNodeList.splice(i,1)}refreshCheckState(e=!1){e||this.checkedNodeList.forEach(i=>{this.conduct(i,e)})}conduct(e,i=!1){const s=e.isChecked;e&&!i&&(this.conductUp(e),this.conductDown(e,s))}conductUp(e){const i=e.getParentNode();i&&(HM(i)||(i.children.every(s=>HM(s)||!s.isHalfChecked&&s.isChecked)?(i.isChecked=!0,i.isHalfChecked=!1):i.children.some(s=>s.isHalfChecked||s.isChecked)?(i.isChecked=!1,i.isHalfChecked=!0):(i.isChecked=!1,i.isHalfChecked=!1)),this.setCheckedNodeList(i),this.setHalfCheckedNodeList(i),this.conductUp(i))}conductDown(e,i){HM(e)||(e.isChecked=i,e.isHalfChecked=!1,this.setCheckedNodeList(e),this.setHalfCheckedNodeList(e),e.children.forEach(s=>{this.conductDown(s,i)}))}afterRemove(e){const i=s=>{this.selectedNodeList=this.selectedNodeList.filter(c=>c.key!==s.key),this.expandedNodeList=this.expandedNodeList.filter(c=>c.key!==s.key),this.checkedNodeList=this.checkedNodeList.filter(c=>c.key!==s.key),s.children&&s.children.forEach(c=>{i(c)})};e.forEach(s=>{i(s)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(e){0===e.children.length?this.conductUp(e):e.children.forEach(i=>{this.refreshDragNode(i)})}resetNodeLevel(e){const i=e.getParentNode();e.level=i?i.level+1:0;for(const s of e.children)this.resetNodeLevel(s)}calcDropPosition(e){const{clientY:i}=e,{top:s,bottom:c,height:h}=e.target.getBoundingClientRect(),d=Math.max(h*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return i<=s+d?-1:i>=c-d?1:0}dropAndApply(e,i=-1){if(!e||i>1)return;const s=e.treeService,c=e.getParentNode(),h=this.selectedNode.getParentNode();switch(h?h.children=h.children.filter(d=>d.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(d=>d.key!==this.selectedNode.key),i){case 0:e.addChildren([this.selectedNode]),this.resetNodeLevel(e);break;case-1:case 1:const d=1===i?1:0;if(c){c.addChildren([this.selectedNode],c.children.indexOf(e)+d);const g=this.selectedNode.getParentNode();g&&this.resetNodeLevel(g)}else{const g=this.rootNodes.indexOf(e)+d;this.rootNodes.splice(g,0,this.selectedNode),this.rootNodes[g].parentNode=null,this.resetNodeLevel(this.rootNodes[g])}}this.rootNodes.forEach(d=>{d.treeService||(d.service=s),this.refreshDragNode(d)})}formatEvent(e,i,s){const c={eventName:e,node:i,event:s};switch(e){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(c,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(c,{selectedKeys:this.selectedNodeList}),Object.assign(c,{nodes:this.selectedNodeList}),Object.assign(c,{keys:this.selectedNodeList.map(d=>d.key)});break;case"check":const h=this.getCheckedNodeList();Object.assign(c,{checkedKeys:h}),Object.assign(c,{nodes:h}),Object.assign(c,{keys:h.map(d=>d.key)});break;case"search":Object.assign(c,{matchedKeys:this.getMatchedNodeList()}),Object.assign(c,{nodes:this.getMatchedNodeList()}),Object.assign(c,{keys:this.getMatchedNodeList().map(d=>d.key)});break;case"expand":Object.assign(c,{nodes:this.expandedNodeList}),Object.assign(c,{keys:this.expandedNodeList.map(d=>d.key)})}return c}getIndexOfArray(e,i){return e.findIndex(s=>s.key===i)}conductCheck(e,i){this.checkedNodeList=[],this.halfCheckedNodeList=[];const s=c=>{c.forEach(h=>{null===e?h.isChecked=!!h.origin.checked:pV(h.key,e||[])?(h.isChecked=!0,h.isHalfChecked=!1):(h.isChecked=!1,h.isHalfChecked=!1),h.children.length>0&&s(h.children)})};s(this.rootNodes),this.refreshCheckState(i)}conductExpandedKeys(e=[]){const i=new Set(!0===e?[]:e);this.expandedNodeList=[];const s=c=>{c.forEach(h=>{h.setExpanded(!0===e||i.has(h.key)||!0===h.isExpanded),h.isExpanded&&this.setExpandedNodeList(h),h.children.length>0&&s(h.children)})};s(this.rootNodes)}conductSelectedKeys(e,i){this.selectedNodeList.forEach(c=>c.isSelected=!1),this.selectedNodeList=[];const s=c=>c.every(h=>{if(pV(h.key,e)){if(h.isSelected=!0,this.setSelectedNodeList(h),!i)return!1}else h.isSelected=!1;return!(h.children.length>0)||s(h.children)});s(this.rootNodes)}expandNodeAllParentBySearch(e){const i=s=>{if(s&&(s.canHide=!1,s.setExpanded(!0),this.setExpandedNodeList(s),s.getParentNode()))return i(s.getParentNode())};i(e.getParentNode())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();const LP=new r.UbH("NzTreeHigherOrder");class VP{constructor(t){this.nzTreeService=t}coerceTreeNodes(t){let e=[];return e=this.nzTreeService.isArrayOfNzTreeNode(t)?t.map(i=>(i.service=this.nzTreeService,i)):t.map(i=>new dc(i,null,this.nzTreeService)),e}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(t){const e=[],i=s=>{e.push(s),s.getChildren().forEach(c=>{i(c)})};return this.getTreeNodes().forEach(s=>{i(s)}),e.find(s=>s.key===t)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}}let HP=(()=>{class n{static ngTemplateContextGuard(e,i){return!0}recreateView(){this.viewContainer.clear();const e=this.nzStringTemplateOutlet instanceof r.Yw2;this.embeddedViewRef=this.viewContainer.createEmbeddedView(e?this.nzStringTemplateOutlet:this.templateRef,e?this.nzStringTemplateOutletContext:this.context)}updateContext(){const i=this.nzStringTemplateOutlet instanceof r.Yw2?this.nzStringTemplateOutletContext:this.context,s=this.embeddedViewRef.context;if(i)for(const c of Object.keys(i))s[c]=i[c]}constructor(e,i){this.viewContainer=e,this.templateRef=i,this.embeddedViewRef=null,this.context=new IP,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(e){const{nzStringTemplateOutletContext:i,nzStringTemplateOutlet:s}=e;s&&(this.context.$implicit=s.currentValue),(()=>{let d=!1;return s&&(d=!!s.firstChange||(s.previousValue instanceof r.Yw2||s.currentValue instanceof r.Yw2)),i&&(_=>{const y=Object.keys(_.previousValue||{}),C=Object.keys(_.currentValue||{});if(y.length===C.length){for(const x of C)if(-1===y.indexOf(x))return!0;return!1}return!0})(i)||d})()?this.recreateView():this.updateContext()}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.y8U),r.GI1(r.Yw2))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[r.SYr]})}return n})();class IP{}let TP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})();const DP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AP=/([^\#-~ |!])/g;let BP=(()=>{class n{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(e,i,s,c){if(!i)return e;const h=new RegExp(i.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),s);return function OP(n){return n.replace(/&/g,"&amp;").replace(DP,t=>`&#${1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536};`).replace(AP,t=>`&#${t.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e.replace(h,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`)).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),c?`<span class="${c}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=r.UTH({name:"nzHighlight",type:n,pure:!0,standalone:!0})}return n})(),PP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})(),IM=(()=>{class n{constructor(){this.animationType=(0,r.uUt)(r.qwP,{optional:!0}),this.nzNoAnimation=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(i,s){2&i&&r.eAK("nz-animate-disabled",s.nzNoAnimation||"NoopAnimations"===s.animationType)},inputs:{nzNoAnimation:[r.Wk5.HasDecoratorInputTransform,"nzNoAnimation","nzNoAnimation",r.cZD]},exportAs:["nzNoAnimation"],standalone:!0,features:[r.QJr]})}return n})();var _V=E(6944);const Pu={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Pu;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(c=>{e=void 0,n(c)});return new Ar.wH(()=>e?.(s))},requestAnimationFrame(...n){const{delegate:t}=Pu;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Pu;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var zV=E(5955);const NP=new class RP extends zV.k{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class kP extends _V.m{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Pu.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:c}=t;null!=e&&(null===(s=c[c.length-1])||void 0===s?void 0:s.id)!==e&&(Pu.cancelAnimationFrame(e),t._scheduled=void 0)}});let TM,FP=1;const af={};function yV(n){return n in af&&(delete af[n],!0)}const GP={setImmediate(n){const t=FP++;return af[t]=!0,TM||(TM=Promise.resolve()),TM.then(()=>yV(t)&&n()),t},clearImmediate(n){yV(n)}},{setImmediate:UP,clearImmediate:$P}=GP,hf={setImmediate(...n){const{delegate:t}=hf;return(t?.setImmediate||UP)(...n)},clearImmediate(n){const{delegate:t}=hf;return(t?.clearImmediate||$P)(n)},delegate:void 0},qP=new class WP extends zV.k{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class jP extends _V.m{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=hf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:c}=t;null!=e&&(null===(s=c[c.length-1])||void 0===s?void 0:s.id)!==e&&(hf.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var KP=E(2435),CV=E(4544),QP=E(7876),ZP=E(8200);function DM(n,t=CV.M){return function YP(n){return(0,I1.i)((t,e)=>{let i=!1,s=null,c=null,h=!1;const d=()=>{if(c?.unsubscribe(),c=null,i){i=!1;const f=s;s=null,e.next(f)}h&&e.complete()},g=()=>{c=null,h&&e.complete()};t.subscribe((0,c1.e)(e,f=>{i=!0,s=f,c||(0,Tr.Uv)(n(f)).subscribe(c=(0,c1.e)(e,d,g))},()=>{h=!0,(!i||!c||c.closed)&&e.complete()}))})}(()=>function XP(n=0,t,e=CV.a){let i=-1;return null!=t&&((0,QP.G)(t)?e=t:i=t),new t1._(s=>{let c=(0,ZP.e)(n)?+n-e.now():n;c<0&&(c=0);let h=0;return e.schedule(function(){s.closed||(s.next(h++),0<=i?this.schedule(void 0,i):s.complete())},c)})}(n,t))}var MV=E(1652);class tk{}class ik extends tk{constructor(t){super(),this._data=t}connect(){return po(this._data)?this._data:(0,st.of)(this._data)}disconnect(){}}var vc=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(vc||{});const xV=new r.UbH("_ViewRepeater");class sk{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,s,c){t.forEachOperation((h,d,g)=>{let f,_;null==h.previousIndex?(f=this._insertView(()=>i(h,d,g),g,e,s(h)),_=f?vc.INSERTED:vc.REPLACED):null==g?(this._detachAndCacheView(d,e),_=vc.REMOVED):(f=this._moveView(d,g,e,s(h)),_=vc.MOVED),c&&c({context:f?.context,operation:_,record:h})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,s){const c=this._insertViewFromCache(e,i);if(c)return void(c.context.$implicit=s);const h=t();return i.createEmbeddedView(h.templateRef,h.context,h.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,s){const c=i.get(t);return i.move(c,e),c.context.$implicit=s,c}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const ok=["contentWrapper"],rk=["*"],bV=new r.UbH("VIRTUAL_SCROLL_STRATEGY");class lk{constructor(t,e,i){this._scrolledIndexChange=new Et.E,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,KP.a)()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),s=this._viewport.getDataLength();let c=this._viewport.measureScrollOffset(),h=this._itemSize>0?c/this._itemSize:0;if(e.end>s){const g=Math.ceil(i/this._itemSize),f=Math.max(0,Math.min(h,s-g));h!=f&&(h=f,c=f*this._itemSize,e.start=Math.floor(h)),e.end=Math.max(0,Math.min(s,e.start+g))}const d=c-e.start*this._itemSize;if(d<this._minBufferPx&&0!=e.start){const g=Math.ceil((this._maxBufferPx-d)/this._itemSize);e.start=Math.max(0,e.start-g),e.end=Math.min(s,Math.ceil(h+(i+this._minBufferPx)/this._itemSize))}else{const g=e.end*this._itemSize-(c+i);if(g<this._minBufferPx&&e.end!=s){const f=Math.ceil((this._maxBufferPx-g)/this._itemSize);f>0&&(e.end=Math.min(s,e.end+f),e.start=Math.max(0,Math.floor(h-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(h))}}function ck(n){return n._scrollStrategy}let ak=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new lk(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=Zm(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Zm(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Zm(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[r.M5G([{provide:bV,useFactory:ck,deps:[(0,r.wd)(()=>n)]}]),r.SYr]})}return n})(),AM=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Et.E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new t1._(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(DM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,st.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe((0,p1.I)(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,e)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=function TO(n){return n instanceof r.GMv?n.nativeElement:n}(i),c=e.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(r.WW2),r.CoB(rf),r.CoB(X,8))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EV=(()=>{class n{constructor(e,i,s,c){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=s,this.dir=c,this._destroyed=new Et.E,this._elementScrolled=new t1._(h=>this.ngZone.runOutsideAngular(()=>xs(this.elementRef.nativeElement,"scroll").pipe((0,vn.a)(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),s&&Au()!=eo.NORMAL?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),Au()==eo.INVERTED?e.left=e.right:Au()==eo.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function cP(){if(null==u0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return u0=!1,u0;if("scrollBehavior"in document.documentElement.style)u0=!0;else{const n=Element.prototype.scrollTo;u0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return u0}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",s="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==e?e=h?s:i:"end"==e&&(e=h?i:s),h&&Au()==eo.INVERTED?e==i?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:h&&Au()==eo.NEGATED?e==i?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==i?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(AM),r.GI1(r.WW2),r.GI1(Bu,8))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),dk=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Et.E,this._changeListener=c=>{this._change.next(c)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,c=s.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-c.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(DM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(rf),r.CoB(r.WW2),r.CoB(X,8))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const SV=new r.UbH("VIRTUAL_SCROLLABLE");let vk=(()=>{class n extends EV{constructor(e,i,s,c){super(e,i,s,c)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(AM),r.GI1(r.WW2),r.GI1(Bu,8))};static#t=this.\u0275dir=r.Sc5({type:n,features:[r.eg9]})}return n})();const mk=typeof requestAnimationFrame<"u"?NP:qP;let uf=(()=>{class n extends vk{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}constructor(e,i,s,c,h,d,g,f){super(e,d,s,h),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=c,this.scrollable=f,this._platform=(0,r.uUt)(rf),this._detachedSubject=new Et.E,this._renderedRangeSubject=new Et.E,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new t1._(_=>this._scrollStrategy.scrolledIndexChange.subscribe(y=>Promise.resolve().then(()=>this.ngZone.run(()=>_.next(y))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ar.wH.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(n1(null),DM(0,mk),(0,vn.a)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe((0,vn.a)(this._detachedSubject)).subscribe(i=>{const s=i.length;s!==this._dataLength&&(this._dataLength=s,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function gk(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const c="horizontal"==this.orientation,h=c?"X":"Y";let g=`translate${h}(${Number((c&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(g+=` translate${h}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const s={behavior:i};"horizontal"===this.orientation?s.start=e:s.top=e,this.scrollable.scrollTo(s)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?s=>super.measureScrollOffset(s):s=>this.scrollable.measureScrollOffset(s),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const s="left",c="right",h="rtl"==this.dir?.value;i="start"==e?h?c:s:"end"==e?h?s:c:e||("horizontal"===this.orientation?"left":"top");const d=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-d}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.GMv),r.GI1(r.kD9),r.GI1(r.WW2),r.GI1(bV,8),r.GI1(Bu,8),r.GI1(AM),r.GI1(dk),r.GI1(SV,8))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,s){if(1&i&&r.CC$(ok,7),2&i){let c;r.wto(c=r.Gqi())&&(s._contentWrapper=c.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,s){2&i&&r.eAK("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation",appendOnly:[r.Wk5.HasDecoratorInputTransform,"appendOnly","appendOnly",r.cZD]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[r.M5G([{provide:EV,useFactory:(e,i)=>e||i,deps:[[new r.T7N,new r.y_5(SV)],n]}]),r.QJr,r.eg9,r.UHJ],ngContentSelectors:rk,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(i,s){1&i&&(r.kPM(),r.I0R(0,"div",0,1),r._Xx(2),r.C$Y(),r.wR5(3,"div",2)),2&i&&(r.yG2(3),r.m4B("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return n})();function LV(n,t,e){if(!e.getBoundingClientRect)return 0;const s=e.getBoundingClientRect();return"horizontal"===n?"start"===t?s.left:s.right:"start"===t?s.top:s.bottom}let fk=(()=>{class n{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function nk(n){return n&&"function"==typeof n.connect&&!(n instanceof M2)}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new ik(po(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,s)=>e(i+(this._renderedRange?this._renderedRange.start:0),s):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=Zm(e)}constructor(e,i,s,c,h,d){this._viewContainerRef=e,this._template=i,this._differs=s,this._viewRepeater=c,this._viewport=h,this.viewChange=new Et.E,this._dataSourceChanges=new Et.E,this.dataStream=this._dataSourceChanges.pipe(n1(null),function JP(){return(0,I1.i)((n,t)=>{let e,i=!1;n.subscribe((0,c1.e)(t,s=>{const c=e;e=s,i&&t.next([c,s]),i=!0}))})}(),(0,qn.G)(([g,f])=>this._changeDataSource(g,f)),function ek(n,t,e){let i,s=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:s=!1,scheduler:e}=n):i=n??1/0,(0,iV.o)({connector:()=>new MV.o(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Et.E,this.dataStream.subscribe(g=>{this._data=g,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,vn.a)(this._destroyed)).subscribe(g=>{this._renderedRange=g,this.viewChange.observers.length&&d.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const s=e.start-this._renderedRange.start,c=e.end-e.start;let h,d;for(let g=0;g<c;g++){const f=this._viewContainerRef.get(g+s);if(f&&f.rootNodes.length){h=d=f.rootNodes[0];break}}for(let g=c-1;g>-1;g--){const f=this._viewContainerRef.get(g+s);if(f&&f.rootNodes.length){d=f.rootNodes[f.rootNodes.length-1];break}}return h&&d?LV(i,"end",d)-LV(i,"start",h):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):(0,st.of)()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const s=this._viewContainerRef.get(i);s.context.index=this._renderedRange.start+i,s.context.count=e,this._updateComputedContextProperties(s.context),s.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(c,h,d)=>this._getEmbeddedViewArgs(c,d),c=>c.item),e.forEachIdentityChange(c=>{this._viewContainerRef.get(c.currentIndex).context.$implicit=c.item});const i=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const c=this._viewContainerRef.get(s);c.context.index=this._renderedRange.start+s,c.context.count=i,this._updateComputedContextProperties(c.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.y8U),r.GI1(r.Yw2),r.GI1(r.Uj7),r.GI1(xV),r.GI1(uf,4),r.GI1(r.WW2))};static#t=this.\u0275dir=r.Sc5({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[r.M5G([{provide:xV,useClass:sk}])]})}return n})(),F1=(()=>{class n{static#e=this.SLOW="0.3s";static#t=this.BASE="0.2s";static#n=this.FAST="0.1s"}return n})(),ii=(()=>{class n{static#e=this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)";static#t=this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)";static#n=this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)";static#i=this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)";static#s=this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)";static#o=this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)";static#r=this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)";static#l=this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)";static#c=this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)";static#a=this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)";static#h=this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)";static#u=this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)";static#d=this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)";static#v=this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}return n})();u1("collapseMotion",[S1("expanded",it({height:"*"})),S1("collapsed",it({height:0,overflow:"hidden"})),S1("hidden",it({height:0,overflow:"hidden",borderTopWidth:"0"})),qt("expanded => collapsed",Wt(`150ms ${ii.EASE_IN_OUT}`)),qt("expanded => hidden",Wt(`150ms ${ii.EASE_IN_OUT}`)),qt("collapsed => expanded",Wt(`150ms ${ii.EASE_IN_OUT}`)),qt("hidden => expanded",Wt(`150ms ${ii.EASE_IN_OUT}`))]);const pk=u1("treeCollapseMotion",[qt("* => *",[Zn("nz-tree-node:leave,nz-tree-builtin-node:leave",[it({overflow:"hidden"}),rc(0,[Wt(`150ms ${ii.EASE_IN_OUT}`,it({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),Zn("nz-tree-node:enter,nz-tree-builtin-node:enter",[it({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),rc(0,[Wt(`150ms ${ii.EASE_IN_OUT}`,it({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),wk=(u1("drawerMaskMotion",[qt(":enter",[it({opacity:0}),Wt(`${F1.SLOW}`,it({opacity:1}))]),qt(":leave",[it({opacity:1}),Wt(`${F1.SLOW}`,it({opacity:0}))])]),u1("fadeMotion",[qt("* => enter",[it({opacity:0}),Wt(`${F1.BASE}`,it({opacity:1}))]),qt("* => leave, :leave",[it({opacity:1}),Wt(`${F1.BASE}`,it({opacity:0}))])]),u1("helpMotion",[qt(":enter",[it({opacity:0,transform:"translateY(-5px)"}),Wt(`${F1.SLOW} ${ii.EASE_IN_OUT}`,it({opacity:1,transform:"translateY(0)"}))]),qt(":leave",[it({opacity:1,transform:"translateY(0)"}),Wt(`${F1.SLOW} ${ii.EASE_IN_OUT}`,it({opacity:0,transform:"translateY(-5px)"}))])]),u1("moveUpMotion",[qt("* => enter",[it({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),Wt(`${F1.BASE}`,it({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),qt("* => leave",[it({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),Wt(`${F1.BASE}`,it({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),u1("notificationMotion",[S1("enterRight",it({opacity:1,transform:"translateX(0)"})),qt("* => enterRight",[it({opacity:0,transform:"translateX(5%)"}),Wt("100ms linear")]),S1("enterLeft",it({opacity:1,transform:"translateX(0)"})),qt("* => enterLeft",[it({opacity:0,transform:"translateX(-5%)"}),Wt("100ms linear")]),S1("enterTop",it({opacity:1,transform:"translateY(0)"})),qt("* => enterTop",[it({opacity:0,transform:"translateY(-5%)"}),Wt("100ms linear")]),S1("enterBottom",it({opacity:1,transform:"translateY(0)"})),qt("* => enterBottom",[it({opacity:0,transform:"translateY(5%)"}),Wt("100ms linear")]),S1("leave",it({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),qt("* => leave",[it({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Wt("100ms linear")])]),`${F1.BASE} ${ii.EASE_OUT_QUINT}`),_k=`${F1.BASE} ${ii.EASE_IN_QUINT}`;function zk(n,t){if(1&n&&r.wR5(0,"span"),2&n){const e=t.index,i=r.GaO();r.eAK("ant-tree-indent-unit",!i.nzSelectMode)("ant-select-tree-indent-unit",i.nzSelectMode)("ant-select-tree-indent-unit-start",i.nzSelectMode&&i.nzIsStart[e])("ant-tree-indent-unit-start",!i.nzSelectMode&&i.nzIsStart[e])("ant-select-tree-indent-unit-end",i.nzSelectMode&&i.nzIsEnd[e])("ant-tree-indent-unit-end",!i.nzSelectMode&&i.nzIsEnd[e])}}u1("slideMotion",[S1("void",it({opacity:0,transform:"scaleY(0.8)"})),S1("enter",it({opacity:1,transform:"scaleY(1)"})),qt("void => *",[Wt(wk)]),qt("* => void",[Wt(_k)])]),u1("slideAlertMotion",[qt(":leave",[it({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Wt(`${F1.SLOW} ${ii.EASE_IN_OUT_CIRC}`,it({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),u1("tabSwitchMotion",[S1("leave",it({display:"none"})),qt("* => enter",[it({display:"block",opacity:0}),Wt(F1.SLOW)]),qt("* => leave, :leave",[it({position:"absolute",top:0,left:0,width:"100%"}),Wt(F1.SLOW,it({opacity:0})),it({display:"none"})])]),u1("thumbMotion",[S1("from",it({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),S1("to",it({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),qt("from => to",Wt(`300ms ${ii.EASE_IN_OUT}`))]),u1("zoomBigMotion",[qt("void => active",[it({opacity:0,transform:"scale(0.8)"}),Wt(`${F1.BASE} ${ii.EASE_OUT_CIRC}`,it({opacity:1,transform:"scale(1)"}))]),qt("active => void",[it({opacity:1,transform:"scale(1)"}),Wt(`${F1.BASE} ${ii.EASE_IN_OUT_CIRC}`,it({opacity:0,transform:"scale(0.8)"}))])]),u1("zoomBadgeMotion",[qt(":enter",[it({opacity:0,transform:"scale(0) translate(50%, -50%)"}),Wt(`${F1.SLOW} ${ii.EASE_OUT_BACK}`,it({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),qt(":leave",[it({opacity:1,transform:"scale(1) translate(50%, -50%)"}),Wt(`${F1.SLOW} ${ii.EASE_IN_BACK}`,it({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);const VV=["builtin",""];function yk(n,t){if(1&n&&(r.SAx(0),r.wR5(1,"span",4),r.k70()),2&n){const e=r.GaO(3);r.yG2(),r.eAK("ant-select-tree-switcher-icon",e.nzSelectMode)("ant-tree-switcher-icon",!e.nzSelectMode)}}const OM=(n,t)=>({$implicit:n,origin:t});function Ck(n,t){if(1&n&&(r.SAx(0),r.yuY(1,yk,2,4,"ng-container",3),r.k70()),2&n){const e=r.GaO(2);r.yG2(),r.E7m("nzStringTemplateOutlet",e.nzExpandedIcon)("nzStringTemplateOutletContext",r.IBC(2,OM,e.context,e.context.origin))}}function Mk(n,t){if(1&n&&(r.SAx(0),r.yuY(1,Ck,2,5,"ng-container",2),r.k70()),2&n){const e=r.GaO(),i=r.Gew(3);r.yG2(),r.E7m("ngIf",!e.isLoading)("ngIfElse",i)}}function xk(n,t){if(1&n&&r.wR5(0,"span",7),2&n){const e=r.GaO(4);r.E7m("nzType",e.isSwitcherOpen?"minus-square":"plus-square")}}function bk(n,t){1&n&&r.wR5(0,"span",8)}function Ek(n,t){if(1&n&&(r.SAx(0),r.yuY(1,xk,1,1,"span",5)(2,bk,1,0,"span",6),r.k70()),2&n){const e=r.GaO(3);r.yG2(),r.E7m("ngIf",e.isShowLineIcon),r.yG2(),r.E7m("ngIf",!e.isShowLineIcon)}}function Sk(n,t){if(1&n&&(r.SAx(0),r.yuY(1,Ek,3,2,"ng-container",3),r.k70()),2&n){const e=r.GaO(2);r.yG2(),r.E7m("nzStringTemplateOutlet",e.nzExpandedIcon)("nzStringTemplateOutletContext",r.IBC(2,OM,e.context,e.context.origin))}}function Lk(n,t){if(1&n&&(r.SAx(0),r.yuY(1,Sk,2,5,"ng-container",2),r.k70()),2&n){const e=r.GaO(),i=r.Gew(3);r.yG2(),r.E7m("ngIf",!e.isLoading)("ngIfElse",i)}}function Vk(n,t){1&n&&r.wR5(0,"span",9),2&n&&r.E7m("nzSpin",!0)}function Hk(n,t){}function Ik(n,t){if(1&n&&r.wR5(0,"span",6),2&n){const e=r.GaO(3);r.E7m("nzType",e.icon)}}function Tk(n,t){if(1&n&&(r.I0R(0,"span")(1,"span"),r.yuY(2,Ik,1,1,"span",5),r.C$Y()()),2&n){const e=r.GaO(2);r.eAK("ant-tree-icon__open",e.isSwitcherOpen)("ant-tree-icon__close",e.isSwitcherClose)("ant-tree-icon_loading",e.isLoading)("ant-select-tree-iconEle",e.selectMode)("ant-tree-iconEle",!e.selectMode),r.yG2(),r.eAK("ant-select-tree-iconEle",e.selectMode)("ant-select-tree-icon__customize",e.selectMode)("ant-tree-iconEle",!e.selectMode)("ant-tree-icon__customize",!e.selectMode),r.yG2(),r.E7m("ngIf",e.icon)}}function Dk(n,t){if(1&n&&(r.SAx(0),r.yuY(1,Tk,3,19,"span",3),r.wR5(2,"span",4),r.wVc(3,"nzHighlight"),r.k70()),2&n){const e=r.GaO();r.yG2(),r.E7m("ngIf",e.icon&&e.showIcon),r.yG2(),r.E7m("innerHTML",r.wB1(3,2,e.title,e.matchedValue,"i","font-highlight"),r.E3n)}}function Ak(n,t){if(1&n&&r.wR5(0,"nz-tree-drop-indicator",7),2&n){const e=r.GaO();r.E7m("dropPosition",e.dragPosition)("level",e.context.level)}}function Ok(n,t){if(1&n){const e=r.KQA();r.I0R(0,"nz-tree-node-switcher",4),r.qCj("click",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.clickExpand(s))}),r.C$Y()}if(2&n){const e=r.GaO();r.E7m("nzShowExpand",e.nzShowExpand)("nzShowLine",e.nzShowLine)("nzExpandedIcon",e.nzExpandedIcon)("nzSelectMode",e.nzSelectMode)("context",e.nzTreeNode)("isLeaf",e.isLeaf)("isExpanded",e.isExpanded)("isLoading",e.isLoading)}}function Bk(n,t){if(1&n){const e=r.KQA();r.I0R(0,"nz-tree-node-checkbox",5),r.qCj("click",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.clickCheckBox(s))}),r.C$Y()}if(2&n){const e=r.GaO();r.E7m("nzSelectMode",e.nzSelectMode)("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisabled",e.isDisabled)("isDisableCheckbox",e.isDisableCheckbox)}}const Pk=["nzTreeTemplate"];function kk(n,t){}const HV=n=>({$implicit:n});function Rk(n,t){if(1&n&&(r.SAx(0),r.yuY(1,kk,0,0,"ng-template",10),r.k70()),2&n){const e=t.$implicit;r.GaO(2);const i=r.Gew(9);r.yG2(),r.E7m("ngTemplateOutlet",i)("ngTemplateOutletContext",r.S45(2,HV,e))}}function Nk(n,t){if(1&n&&(r.I0R(0,"cdk-virtual-scroll-viewport",8),r.yuY(1,Rk,2,4,"ng-container",9),r.C$Y()),2&n){const e=r.GaO();r.m4B("height",e.nzVirtualHeight),r.eAK("ant-select-tree-list-holder-inner",e.nzSelectMode)("ant-tree-list-holder-inner",!e.nzSelectMode),r.E7m("itemSize",e.nzVirtualItemSize)("minBufferPx",e.nzVirtualMinBufferPx)("maxBufferPx",e.nzVirtualMaxBufferPx),r.yG2(),r.E7m("cdkVirtualForOf",e.nzFlattenNodes)("cdkVirtualForTrackBy",e.trackByFlattenNode)}}function Fk(n,t){}function Gk(n,t){if(1&n&&(r.SAx(0),r.yuY(1,Fk,0,0,"ng-template",10),r.k70()),2&n){const e=t.$implicit;r.GaO(2);const i=r.Gew(9);r.yG2(),r.E7m("ngTemplateOutlet",i)("ngTemplateOutletContext",r.S45(2,HV,e))}}function Uk(n,t){if(1&n&&(r.I0R(0,"div",11),r.yuY(1,Gk,2,4,"ng-container",12),r.C$Y()),2&n){const e=r.GaO();r.eAK("ant-select-tree-list-holder-inner",e.nzSelectMode)("ant-tree-list-holder-inner",!e.nzSelectMode),r.E7m("@.disabled",e.beforeInit||!(null==e.noAnimation||!e.noAnimation.nzNoAnimation))("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("@treeCollapseMotion",e.nzFlattenNodes.length),r.yG2(),r.E7m("ngForOf",e.nzFlattenNodes)("ngForTrackBy",e.trackByFlattenNode)}}function $k(n,t){if(1&n){const e=r.KQA();r.I0R(0,"nz-tree-node",13),r.qCj("nzExpandChange",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzClick",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzDblClick",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzContextMenu",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzCheckBoxChange",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzOnDragStart",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzOnDragEnter",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzOnDragOver",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzOnDragLeave",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzOnDragEnd",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))})("nzOnDrop",function(s){r.usT(e);const c=r.GaO();return r.CGJ(c.eventTriggerChanged(s))}),r.C$Y()}if(2&n){const e=t.$implicit,i=r.GaO();r.E7m("icon",e.icon)("title",e.title)("isLoading",e.isLoading)("isSelected",e.isSelected)("isDisabled",e.isDisabled)("isMatched",e.isMatched)("isExpanded",e.isExpanded)("isLeaf",e.isLeaf)("isStart",e.isStart)("isEnd",e.isEnd)("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisableCheckbox",e.isDisableCheckbox)("isSelectable",e.isSelectable)("canHide",e.canHide)("nzTreeNode",e)("nzSelectMode",i.nzSelectMode)("nzShowLine",i.nzShowLine)("nzExpandedIcon",i.nzExpandedIcon)("nzDraggable",i.nzDraggable)("nzCheckable",i.nzCheckable)("nzShowExpand",i.nzShowExpand)("nzAsyncData",i.nzAsyncData)("nzSearchValue",i.nzSearchValue)("nzHideUnMatched",i.nzHideUnMatched)("nzBeforeDrop",i.nzBeforeDrop)("nzShowIcon",i.nzShowIcon)("nzTreeTemplate",i.nzTreeTemplate||i.nzTreeTemplateChild)}}let jk=(()=>{class n{constructor(e){this.cdr=e,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(e){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(e,i="ltr"){const c="ltr"===i?"left":"right",d={[c]:"4px",["ltr"===i?"right":"left"]:"0px"};switch(e){case-1:d.top="-3px";break;case 1:d.bottom="-3px";break;case 0:d.bottom="-3px",d[c]="28px";break;default:d.display="none"}this.style=d,this.cdr.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.kD9))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(i,s){2&i&&(r.m_g(s.style),r.eAK("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:"level",direction:"direction"},exportAs:["NzTreeDropIndicator"],standalone:!0,features:[r.SYr,r.UHJ],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Wk=(()=>{class n{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(e){const{nzTreeLevel:i}=e;i&&(this.listOfUnit=[...new Array(i.currentValue||0)])}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(i,s){2&i&&(r.e48("aria-hidden",!0),r.eAK("ant-tree-indent",!s.nzSelectMode)("ant-select-tree-indent",s.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],standalone:!0,features:[r.SYr,r.UHJ],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(i,s){1&i&&r.yuY(0,zk,1,12,"span",0),2&i&&r.E7m("ngForOf",s.listOfUnit)},dependencies:[ri],encapsulation:2,changeDetection:0})}return n})(),qk=(()=>{class n{constructor(){this.nzSelectMode=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(i,s){2&i&&r.eAK("ant-select-tree-checkbox",s.nzSelectMode)("ant-select-tree-checkbox-checked",s.nzSelectMode&&s.isChecked)("ant-select-tree-checkbox-indeterminate",s.nzSelectMode&&s.isHalfChecked)("ant-select-tree-checkbox-disabled",s.nzSelectMode&&(s.isDisabled||s.isDisableCheckbox))("ant-tree-checkbox",!s.nzSelectMode)("ant-tree-checkbox-checked",!s.nzSelectMode&&s.isChecked)("ant-tree-checkbox-indeterminate",!s.nzSelectMode&&s.isHalfChecked)("ant-tree-checkbox-disabled",!s.nzSelectMode&&(s.isDisabled||s.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},standalone:!0,features:[r.UHJ],attrs:VV,decls:1,vars:4,template:function(i,s){1&i&&r.wR5(0,"span"),2&i&&r.eAK("ant-tree-checkbox-inner",!s.nzSelectMode)("ant-select-tree-checkbox-inner",s.nzSelectMode)},encapsulation:2,changeDetection:0})}return n})(),Kk=(()=>{class n{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(i,s){2&i&&r.eAK("ant-select-tree-switcher",s.nzSelectMode)("ant-select-tree-switcher-noop",s.nzSelectMode&&s.isLeaf)("ant-select-tree-switcher_open",s.nzSelectMode&&s.isSwitcherOpen)("ant-select-tree-switcher_close",s.nzSelectMode&&s.isSwitcherClose)("ant-tree-switcher",!s.nzSelectMode)("ant-tree-switcher-noop",!s.nzSelectMode&&s.isLeaf)("ant-tree-switcher_open",!s.nzSelectMode&&s.isSwitcherOpen)("ant-tree-switcher_close",!s.nzSelectMode&&s.isSwitcherClose)},inputs:{nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},standalone:!0,features:[r.UHJ],decls:4,vars:2,consts:[[4,"ngIf"],["loadingTemplate",""],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(i,s){1&i&&r.yuY(0,Mk,2,2,"ng-container",0)(1,Lk,2,2,"ng-container",0)(2,Vk,1,1,"ng-template",null,1,r.gJz),2&i&&(r.E7m("ngIf",s.isShowSwitchIcon),r.yG2(),r.E7m("ngIf",s.nzShowLine))},dependencies:[VM,Ou,zn,TP,HP],encapsulation:2,changeDetection:0})}return n})(),Yk=(()=>{class n{get canDraggable(){return!(!this.draggable||this.isDisabled)||null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(e){this.cdr=e,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(e){const{showIndicator:i,dragPosition:s}=e;(i||s)&&this.cdr.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(r.kD9))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(i,s){2&i&&(r.e48("title",s.title)("draggable",s.canDraggable)("aria-grabbed",s.canDraggable),r.eAK("draggable",s.canDraggable)("ant-select-tree-node-content-wrapper",s.selectMode)("ant-select-tree-node-content-wrapper-open",s.selectMode&&s.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",s.selectMode&&s.isSwitcherClose)("ant-select-tree-node-selected",s.selectMode&&s.isSelected)("ant-tree-node-content-wrapper",!s.selectMode)("ant-tree-node-content-wrapper-open",!s.selectMode&&s.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!s.selectMode&&s.isSwitcherClose)("ant-tree-node-selected",!s.selectMode&&s.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:"draggable",showIcon:"showIcon",selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",showIndicator:"showIndicator",dragPosition:"dragPosition"},standalone:!0,features:[r.SYr,r.UHJ],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"dropPosition","level",4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(i,s){1&i&&r.yuY(0,Hk,0,0,"ng-template",0)(1,Dk,4,7,"ng-container",1)(2,Ak,1,2,"nz-tree-drop-indicator",2),2&i&&(r.E7m("ngTemplateOutlet",s.treeTemplate)("ngTemplateOutletContext",r.IBC(4,OM,s.context,s.context.origin)),r.yG2(),r.E7m("ngIf",!s.treeTemplate),r.yG2(),r.E7m("ngIf",s.showIndicator))},dependencies:[Pe,zn,VM,Ou,PP,BP,jk],encapsulation:2,changeDetection:0})}return n})(),Qk=(()=>{class n{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(e){e.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);const i=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzExpandChange.emit(i)}clickSelect(e){e.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);const i=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzClick.emit(i)}dblClick(e){e.preventDefault();const i=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzDblClick.emit(i)}contextMenu(e){e.preventDefault();const i=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzContextMenu.emit(i)}clickCheckBox(e){if(e.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);const i=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzCheckBoxChange.emit(i)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(i=>{this.renderer.removeClass(this.elementRef.nativeElement,i)})}handleDragStart(e){try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;const i=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzOnDragStart.emit(i)}handleDragEnter(e){e.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{const i=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,e);this.nzOnDragEnter.emit(i)})}handleDragOver(e){e.preventDefault();const i=this.nzTreeService.calcDropPosition(e);this.dragPos!==i&&(this.clearDragClass(),this.renderIndicator(i),0===this.dragPos&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));const s=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzOnDragOver.emit(s)}handleDragLeave(e){e.preventDefault(),this.renderIndicator(2),this.clearDragClass();const i=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzOnDragLeave.emit(i)}handleDragDrop(e){e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();const i=this.nzTreeService.getSelectedNode();if(!i||i&&i.key===this.nzTreeNode.key||0===this.dragPos&&this.isLeaf)return;const s=this.nzTreeService.formatEvent("drop",this.nzTreeNode,e),c=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(h=>{h&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(s),this.nzOnDragEnd.emit(c)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(s))})}handleDragEnd(e){e.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;const i=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzOnDragEnd.emit(i)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){const e=this.elementRef.nativeElement;this.destroy$=new Et.E,xs(e,"dragstart").pipe((0,vn.a)(this.destroy$)).subscribe(i=>this.handleDragStart(i)),xs(e,"dragenter").pipe((0,vn.a)(this.destroy$)).subscribe(i=>this.handleDragEnter(i)),xs(e,"dragover").pipe((0,vn.a)(this.destroy$)).subscribe(i=>this.handleDragOver(i)),xs(e,"dragleave").pipe((0,vn.a)(this.destroy$)).subscribe(i=>this.handleDragLeave(i)),xs(e,"drop").pipe((0,vn.a)(this.destroy$)).subscribe(i=>this.handleDragDrop(i)),xs(e,"dragend").pipe((0,vn.a)(this.destroy$)).subscribe(i=>this.handleDragEnd(i))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(e,i,s,c,h,d){this.nzTreeService=e,this.ngZone=i,this.renderer=s,this.elementRef=c,this.cdr=h,this.noAnimation=d,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new r._w7,this.nzDblClick=new r._w7,this.nzContextMenu=new r._w7,this.nzCheckBoxChange=new r._w7,this.nzExpandChange=new r._w7,this.nzOnDragStart=new r._w7,this.nzOnDragEnter=new r._w7,this.nzOnDragOver=new r._w7,this.nzOnDragLeave=new r._w7,this.nzOnDrop=new r._w7,this.nzOnDragEnd=new r._w7,this.destroy$=new Et.E,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{xs(this.elementRef.nativeElement,"mousedown").pipe((0,vn.a)(this.destroy$)).subscribe(e=>{this.nzSelectMode&&e.preventDefault()})})}ngOnChanges(e){const{nzDraggable:i}=e;i&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(e){this.ngZone.run(()=>{this.showIndicator=2!==e,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||0===e&&this.isLeaf)&&(this.dragPos=e,this.cdr.markForCheck())})}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(cf),r.GI1(r.WW2),r.GI1(r.q87),r.GI1(r.GMv),r.GI1(r.kD9),r.GI1(IM,9))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(i,s){2&i&&(r.m4B("display",s.displayStyle),r.eAK("ant-select-tree-treenode",s.nzSelectMode)("ant-select-tree-treenode-disabled",s.nzSelectMode&&s.isDisabled)("ant-select-tree-treenode-switcher-open",s.nzSelectMode&&s.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",s.nzSelectMode&&s.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",s.nzSelectMode&&s.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",s.nzSelectMode&&s.isHalfChecked)("ant-select-tree-treenode-selected",s.nzSelectMode&&s.isSelected)("ant-select-tree-treenode-loading",s.nzSelectMode&&s.isLoading)("ant-tree-treenode",!s.nzSelectMode)("ant-tree-treenode-disabled",!s.nzSelectMode&&s.isDisabled)("ant-tree-treenode-switcher-open",!s.nzSelectMode&&s.isSwitcherOpen)("ant-tree-treenode-switcher-close",!s.nzSelectMode&&s.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!s.nzSelectMode&&s.isChecked)("ant-tree-treenode-checkbox-indeterminate",!s.nzSelectMode&&s.isHalfChecked)("ant-tree-treenode-selected",!s.nzSelectMode&&s.isSelected)("ant-tree-treenode-loading",!s.nzSelectMode&&s.isLoading)("dragging",s.draggingKey===s.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],standalone:!0,features:[r.SYr,r.UHJ],attrs:VV,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition","dblclick","click","contextmenu"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click"]],template:function(i,s){1&i&&(r.wR5(0,"nz-tree-indent",0),r.yuY(1,Ok,1,8,"nz-tree-node-switcher",1)(2,Bk,1,5,"nz-tree-node-checkbox",2),r.I0R(3,"nz-tree-node-title",3),r.qCj("dblclick",function(h){return s.dblClick(h)})("click",function(h){return s.clickSelect(h)})("contextmenu",function(h){return s.contextMenu(h)}),r.C$Y()),2&i&&(r.E7m("nzTreeLevel",s.nzTreeNode.level)("nzSelectMode",s.nzSelectMode)("nzIsStart",s.isStart)("nzIsEnd",s.isEnd),r.yG2(),r.E7m("ngIf",s.nzShowExpand),r.yG2(),r.E7m("ngIf",s.nzCheckable),r.yG2(),r.E7m("icon",s.icon)("title",s.title)("isLoading",s.isLoading)("isSelected",s.isSelected)("isDisabled",s.isDisabled)("isMatched",s.isMatched)("isExpanded",s.isExpanded)("isLeaf",s.isLeaf)("searchValue",s.nzSearchValue)("treeTemplate",s.nzTreeTemplate)("draggable",s.nzDraggable)("showIcon",s.nzShowIcon)("selectMode",s.nzSelectMode)("context",s.nzTreeNode)("showIndicator",s.showIndicator)("dragPosition",s.dragPos))},dependencies:[Wk,Kk,zn,qk,Yk],encapsulation:2,changeDetection:0})}return(0,Mn.UN)([Hn()],n.prototype,"nzShowLine",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzShowExpand",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzCheckable",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzAsyncData",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzHideUnMatched",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzNoAnimation",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzSelectMode",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzShowIcon",void 0),n})(),IV=(()=>{class n extends cf{constructor(){super()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();function Zk(){const n=(0,r.uUt)(LP,{skipSelf:!0,optional:!0}),t=(0,r.uUt)(IV);return n??t}let Jk=(()=>{class n extends VP{writeValue(e){this.handleNzData(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}renderTreeProperties(e){let i=!1,s=!1;const{nzData:c,nzExpandedKeys:h,nzSelectedKeys:d,nzCheckedKeys:g,nzCheckStrictly:f,nzExpandAll:_,nzMultiple:y,nzSearchValue:C}=e;_&&(i=!0,s=this.nzExpandAll),y&&(this.nzTreeService.isMultiple=this.nzMultiple),f&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),c&&this.handleNzData(this.nzData),g&&this.handleCheckedKeys(this.nzCheckedKeys),f&&this.handleCheckedKeys(null),(h||_)&&(i=!0,this.handleExpandedKeys(s||this.nzExpandedKeys)),d&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),C&&(C.firstChange&&!this.nzSearchValue||(i=!1,this.handleSearchValue(C.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));const x=this.getExpandedNodeList().map(L=>L.key);this.handleFlattenNodes(this.nzTreeService.rootNodes,i?s||this.nzExpandedKeys:x)}trackByFlattenNode(e,i){return i.key}handleNzData(e){if(Array.isArray(e)){const i=this.coerceTreeNodes(e);this.nzTreeService.initTree(i)}}handleFlattenNodes(e,i=[]){this.nzTreeService.flattenTreeData(e,i)}handleCheckedKeys(e){this.nzTreeService.conductCheck(e,this.nzCheckStrictly)}handleExpandedKeys(e=[]){this.nzTreeService.conductExpandedKeys(e)}handleSelectedKeys(e,i){this.nzTreeService.conductSelectedKeys(e,i)}handleSearchValue(e,i){wV(this.nzTreeService.rootNodes,!0).map(h=>h.data).forEach(h=>{h.isMatched=(h=>i?i(h.origin):!(!e||!h.title.toLowerCase().includes(e.toLowerCase())))(h),h.canHide=!h.isMatched,h.isMatched?this.nzTreeService.expandNodeAllParentBySearch(h):(h.setExpanded(!1),this.nzTreeService.setExpandedNodeList(h)),this.nzTreeService.setMatchedNodeList(h)})}eventTriggerChanged(e){const i=e.node;switch(e.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(e);break;case"click":this.nzClick.emit(e);break;case"dblclick":this.nzDblClick.emit(e);break;case"contextmenu":this.nzContextMenu.emit(e);break;case"check":this.nzTreeService.setCheckedNodeList(i),this.nzCheckStrictly||this.nzTreeService.conduct(i);const s=this.nzTreeService.formatEvent("check",i,e.event);this.nzCheckBoxChange.emit(s);const c=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(c);break;case"dragstart":i.isExpanded&&(i.setExpanded(!i.isExpanded),this.renderTree()),this.nzOnDragStart.emit(e);break;case"dragenter":const h=this.nzTreeService.getSelectedNode();h&&h.key!==i.key&&!i.isExpanded&&!i.isLeaf&&(i.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(e);break;case"dragover":this.nzOnDragOver.emit(e);break;case"dragleave":this.nzOnDragLeave.emit(e);break;case"dragend":this.nzOnDragEnd.emit(e);break;case"drop":this.renderTree(),this.nzOnDrop.emit(e)}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(e=>e.key)),this.cdr.markForCheck()}constructor(e,i,s,c,h){super(e),this.nzConfigService=i,this.cdr=s,this.directionality=c,this.noAnimation=h,this._nzModuleName="tree",this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new r._w7,this.nzSelectedKeysChange=new r._w7,this.nzCheckedKeysChange=new r._w7,this.nzSearchValueChange=new r._w7,this.nzClick=new r._w7,this.nzDblClick=new r._w7,this.nzContextMenu=new r._w7,this.nzCheckBoxChange=new r._w7,this.nzExpandChange=new r._w7,this.nzOnDragStart=new r._w7,this.nzOnDragEnter=new r._w7,this.nzOnDragOver=new r._w7,this.nzOnDragLeave=new r._w7,this.nzOnDrop=new r._w7,this.nzOnDragEnd=new r._w7,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new Et.E,this.onChange=()=>null,this.onTouched=()=>null}ngOnInit(){this.nzTreeService.flattenNodes$.pipe((0,vn.a)(this.destroy$)).subscribe(e=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?e.filter(i=>!i.canHide):e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,vn.a)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnChanges(e){this.renderTreeProperties(e)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(cf),r.GI1(MM),r.GI1(r.kD9),r.GI1(Bu,8),r.GI1(IM,9))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["nz-tree"]],contentQueries:function(i,s,c){if(1&i&&r.szK(c,Pk,7),2&i){let h;r.wto(h=r.Gqi())&&(s.nzTreeTemplateChild=h.first)}},viewQuery:function(i,s){if(1&i&&r.CC$(uf,5,uf),2&i){let c;r.wto(c=r.Gqi())&&(s.cdkVirtualScrollViewport=c.first)}},hostVars:20,hostBindings:function(i,s){2&i&&r.eAK("ant-select-tree",s.nzSelectMode)("ant-select-tree-show-line",s.nzSelectMode&&s.nzShowLine)("ant-select-tree-icon-hide",s.nzSelectMode&&!s.nzShowIcon)("ant-select-tree-block-node",s.nzSelectMode&&s.nzBlockNode)("ant-tree",!s.nzSelectMode)("ant-tree-rtl","rtl"===s.dir)("ant-tree-show-line",!s.nzSelectMode&&s.nzShowLine)("ant-tree-icon-hide",!s.nzSelectMode&&!s.nzShowIcon)("ant-tree-block-node",!s.nzSelectMode&&s.nzBlockNode)("draggable-tree",s.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],standalone:!0,features:[r.M5G([IV,{provide:cf,useFactory:Zk},{provide:ki,useExisting:(0,r.wd)(()=>n),multi:!0}]),r.eg9,r.SYr,r.UHJ],decls:10,vars:6,consts:[[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],["nodeTemplate",""],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate","nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop"]],template:function(i,s){1&i&&(r.I0R(0,"div"),r.wR5(1,"input",0),r.C$Y(),r.I0R(2,"div",1)(3,"div",2),r.wR5(4,"div",3),r.C$Y()(),r.I0R(5,"div",4),r.yuY(6,Nk,2,11,"cdk-virtual-scroll-viewport",5)(7,Uk,2,9,"div",6),r.C$Y(),r.yuY(8,$k,1,28,"ng-template",null,7,r.gJz)),2&i&&(r.yG2(),r.E7m("ngStyle",s.HIDDEN_STYLE),r.yG2(),r.E7m("ngStyle",s.HIDDEN_NODE_STYLE),r.yG2(3),r.eAK("ant-select-tree-list",s.nzSelectMode),r.yG2(),r.E7m("ngIf",s.nzVirtualHeight),r.yG2(),r.E7m("ngIf",!s.nzVirtualHeight))},dependencies:[Ve,uf,ak,zn,fk,Pe,IM,ri,Qk],encapsulation:2,data:{animation:[pk]},changeDetection:0})}return(0,Mn.UN)([Hn(),Jm()],n.prototype,"nzShowIcon",void 0),(0,Mn.UN)([Hn(),Jm()],n.prototype,"nzHideUnMatched",void 0),(0,Mn.UN)([Hn(),Jm()],n.prototype,"nzBlockNode",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzExpandAll",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzSelectMode",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzCheckStrictly",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzShowExpand",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzShowLine",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzCheckable",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzAsyncData",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzDraggable",void 0),(0,Mn.UN)([Hn()],n.prototype,"nzMultiple",void 0),n})();function eR(n){return function t(e){const i=0===(e.children||[]).length,s={title:e.title,key:e.id,isLeaf:i};return i||(s.children=e.children?.map(t)),s}(n.root)}function tR(n,t){if(1&n){const e=r.KQA();r.I0R(0,"span",5),r.qCj("click",function(){r.usT(e);const s=r.GaO().$implicit,c=r.GaO();return r.CGJ(c.openFolder(s))}),r.C$Y()}if(2&n){const e=r.GaO().$implicit;r.E7m("nzType",e.isExpanded?"minus":"plus")}}function nR(n,t){if(1&n&&(r.I0R(0,"div",3),r.yuY(1,tR,1,1,"span",4),r.I0R(2,"span"),r.OEk(3),r.C$Y()()),2&n){const e=t.$implicit,i=r.GaO();r.m4B("padding-left",i.calculatePadding(e.level)),r.eAK("pl-2",e.isLeaf),r.yG2(),r.E7m("ngIf",e.children.length),r.yG2(2),r.cNF(e.title)}}function iR(n,t){1&n&&(r.S2Z(),r.I0R(0,"svg",6),r.wR5(1,"path",7),r.C$Y())}let sR=(()=>{class n{constructor(){this.tree=null,this.data=[],this.calculatePadding=e=>(console.log(e),8*e+"px")}ngOnInit(){this.tree&&(this.data=[eR(this.tree)],console.log(this.data))}openFolder(e){if(e instanceof dc)e.isExpanded=!e.isExpanded;else{const i=e.node;i&&(i.isExpanded=!i.isExpanded)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-tree"]],inputs:{tree:[r.Wk5.None,"data","tree"]},standalone:!0,features:[r.UHJ],decls:6,vars:6,consts:[["nzBlockNode","",3,"nzData","nzTreeTemplate","nzMultiple","nzHideUnMatched","nzShowIcon","nzShowExpand"],["templateRef",""],["expandIcon",""],[1,"flex","gap-2","items-center","w-full"],["nz-icon","",3,"nzType","click",4,"ngIf"],["nz-icon","",3,"nzType","click"],["width","12","height","12","viewBox","0 0 12 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.00016 1.33325L6.00016 10.6666M1.3335 5.99992L10.6668 5.99992","stroke","#D8D2C8","stroke-width","1.5","stroke-linecap","square","stroke-linejoin","round"]],template:function(i,s){if(1&i&&(r.SAx(0),r.wR5(1,"nz-tree",0),r.yuY(2,nR,4,6,"ng-template",null,1,r.gJz),r.k70(),r.yuY(4,iR,2,0,"ng-template",null,2,r.gJz)),2&i){const c=r.Gew(3);r.yG2(),r.E7m("nzData",s.data)("nzTreeTemplate",c)("nzMultiple",!1)("nzHideUnMatched",!0)("nzShowIcon",!1)("nzShowExpand",!1)}},dependencies:[bP,mP,Jk,Ou,zn],styles:["[_nghost-%COMP%]     nz-tree-node{display:flex;align-items:center;gap:10px}"],changeDetection:0})}return n})(),oR=(()=>{class n{convertToBaseTreeElement(e){const i=this.createBaseTreeElement(e.name||"Unnamed Construction");if(e.elements){const s=this.createBaseTreeElement("Elements");e.elements.forEach(c=>{const h=this.convertElementToBaseTreeElement(c);s.children?.push(h)}),i.children?.push(s)}return i}convertElementToBaseTreeElement(e){return this.createBaseTreeElement(e.name||"Unnamed Element")}createBaseTreeElement(e,i=[]){return{id:qs(),title:e,children:i}}convert(e){const i=e.name||"Unnamed Construction",s=e.elements?.map(h=>{const d=h.skeleton,{template:g}=d,f=[];return"frame"===g.type&&f.push(this.parseFrame(g)),this.createBaseTreeElement("element",f)});return this.createBaseTreeElement(i,s)}parseFrame(e){const s=e.sides.map((h,d)=>this.createBaseTreeElement("side "+d+1)),c=this.parseArea(e.area);return this.createBaseTreeElement("Frame",[...s,c])}parseArea(e){let i=[];return e.dividers?.length&&(i=[...i,...this.parseDividers(e.dividers)]),e.components?.length&&(i=[...i,...this.parseComponents(e.components)]),this.createBaseTreeElement("area",i)}parseDividers(e){return e.map((i,s)=>this.createBaseTreeElement(`${i.type} ${s}`))}parseComponents(e){return e.map(i=>i.type?this.createBaseTreeElement(i.type):this.parseArea(i))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lR=[{path:"",redirectTo:U2.CONFIGURATOR,pathMatch:"full"},{path:U2.HOME,component:Ko},{path:U2.CONFIGURATOR,component:FA},{path:U2.PLOTTER,component:nO},{path:U2.CONVERTER,component:iO},{path:U2.TREE_CONVERTER,component:(()=>{class n{constructor(e){this.treeConverterService=e,this.constructionModel=k6.construction,this.tree={id:"new",root:{id:"1",title:"first item",children:[{id:"2",title:"child first item",children:[]},{id:"3",title:"child second item",children:[{id:"9",title:"child child second item",children:[]}]}]}},this.ViewMode=qo,this.tree={root:e.convertToBaseTreeElement(this.constructionModel),id:"1"};const i=this.treeConverterService.convert(R6.construction);this.tree={root:i,id:"1"}}static#e=this.\u0275fac=function(i){return new(i||n)(r.GI1(oR))};static#t=this.\u0275cmp=r.In1({type:n,selectors:[["lib-tree-converter"]],hostAttrs:[1,"w-[100vw]","h-[100vh]","flex","relative","overflow-hidden"],standalone:!0,features:[r.UHJ],decls:3,vars:3,consts:[[1,"py-5","px-10","min-w-[400px]"],[3,"data"],[1,"flex-1",3,"viewMode","editMode"]],template:function(i,s){1&i&&(r.I0R(0,"div",0),r.wR5(1,"lib-tree",1),r.C$Y(),r.wR5(2,"lib-winconf-configurator-editor",2)),2&i&&(r.yG2(),r.E7m("data",s.tree),r.yG2(),r.E7m("viewMode",s.ViewMode.tabs)("editMode",!0))},dependencies:[nn,sR,yL]})}return n})()}];function gR(n){return[{provide:df,useFactory:t=>({...t?.reduce((e,i)=>({...e,...i}),{}),...n}),deps:[[df,new r.T7N,new r.Qfh]],multi:!0}]}E(8552),new r.UbH("Ng Icon Config"),new r.UbH("Ng Icon Loader Token"),new r.UbH("Ng Icon Cache Token");const df=new r.UbH("Icons Token");let zR=(()=>{class n{constructor(e){if(0===Object.keys(e).length)throw new Error("No icons have been provided. Ensure to include some icons by importing them using NgIconsModule.withIcons({ ... }).")}static withIcons(e){return{ngModule:n,providers:gR(e)}}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(df))};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({})}return n})();var MR=E(480);function BV(n){return new r.OBp(3e3,!1)}function gc(n){switch(n.length){case 0:return new l0;case 1:return n[0];default:return new yu(n)}}function PV(n,t,e=new Map,i=new Map){const s=[],c=[];let h=-1,d=null;if(t.forEach(g=>{const f=g.get("offset"),_=f==h,y=_&&d||new Map;g.forEach((C,x)=>{let b=x,L=C;if("offset"!==x)switch(b=n.normalizePropertyName(b,s),L){case"!":L=e.get(x);break;case Ms:L=i.get(x);break;default:L=n.normalizeStyleValue(x,b,L,s)}y.set(b,L)}),_||c.push(y),d=y,h=f}),s.length)throw function WR(n){return new r.OBp(3502,!1)}();return c}function BM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&PM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&PM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&PM(e,"destroy",n)))}}function PM(n,t,e){const c=kM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),h=n._data;return null!=h&&(c._data=h),c}function kM(n,t,e,i,s="",c=0,h){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:c,disabled:!!h}}function ns(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function kV(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const sN=typeof document>"u"?null:document.documentElement;function RM(n){const t=n.parentNode||n.host||null;return t===sN?null:t}let d0=null,RV=!1;function NV(n,t){for(;t;){if(t===n)return!0;t=RM(t)}return!1}function FV(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let NM=(()=>{class n{validateStyleProperty(e){return function rN(n){d0||(d0=function lN(){return typeof document<"u"?document.body:null}()||{},RV=!!d0.style&&"WebkitAppearance"in d0.style);let t=!0;return d0.style&&!function oN(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in d0.style,!t&&RV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in d0.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return NV(e,i)}getParentElement(e){return RM(e)}query(e,i,s){return FV(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,c,h,d=[],g){return new l0(s,c)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})();class FM{static#e=this.NOOP=new NM}class GM{}const aN=1e3,UM="ng-enter",vf="ng-leave",gf="ng-trigger",mf=".ng-trigger",UV="ng-animating",$M=".ng-animating";function mr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:jM(parseFloat(t[1]),t[2])}function jM(n,t){return"s"===t?n*aN:n}function ff(n,t,e){return n.hasOwnProperty("duration")?n:function uN(n,t,e){let s,c=0,h="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(BV()),{duration:0,delay:0,easing:""};s=jM(parseFloat(d[1]),d[2]);const g=d[3];null!=g&&(c=jM(parseFloat(g),d[4]));const f=d[5];f&&(h=f)}else s=n;if(!e){let d=!1,g=t.length;s<0&&(t.push(function xR(){return new r.OBp(3100,!1)}()),d=!0),c<0&&(t.push(function bR(){return new r.OBp(3101,!1)}()),d=!0),d&&t.splice(g,0,BV())}return{duration:s,delay:c,easing:h}}(n,t,e)}function to(n,t,e){t.forEach((i,s)=>{const c=qM(s);e&&!e.has(s)&&e.set(s,n.style[c]),n.style[c]=i})}function v0(n,t){t.forEach((e,i)=>{const s=qM(i);n.style[s]=""})}function ku(n){return Array.isArray(n)?1==n.length?n[0]:function _u(n,t=null){return{type:_t.Sequence,steps:n,options:t}}(n):n}const WM=new RegExp("{{\\s*(.+?)\\s*}}","g");function jV(n){let t=[];if("string"==typeof n){let e;for(;e=WM.exec(n);)t.push(e[1]);WM.lastIndex=0}return t}function Ru(n,t,e){const i=`${n}`,s=i.replace(WM,(c,h)=>{let d=t[h];return null==d&&(e.push(function SR(n){return new r.OBp(3003,!1)}()),d=""),d.toString()});return s==i?n:s}const gN=/-+([a-z0-9])/g;function qM(n){return n.replace(gN,(...t)=>t[1].toUpperCase())}function is(n,t,e){switch(t.type){case _t.Trigger:return n.visitTrigger(t,e);case _t.State:return n.visitState(t,e);case _t.Transition:return n.visitTransition(t,e);case _t.Sequence:return n.visitSequence(t,e);case _t.Group:return n.visitGroup(t,e);case _t.Animate:return n.visitAnimate(t,e);case _t.Keyframes:return n.visitKeyframes(t,e);case _t.Style:return n.visitStyle(t,e);case _t.Reference:return n.visitReference(t,e);case _t.AnimateChild:return n.visitAnimateChild(t,e);case _t.AnimateRef:return n.visitAnimateRef(t,e);case _t.Query:return n.visitQuery(t,e);case _t.Stagger:return n.visitStagger(t,e);default:throw function LR(n){return new r.OBp(3004,!1)}()}}function KM(n,t){return window.getComputedStyle(n)[t]}const pN=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class WV extends GM{normalizePropertyName(t,e){return qM(t)}normalizeStyleValue(t,e,i,s){let c="";const h=i.toString().trim();if(pN.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&s.push(function VR(n,t){return new r.OBp(3005,!1)}())}return h+c}}const pf="*";const wf=new Set(["true","1"]),_f=new Set(["false","0"]);function qV(n,t){const e=wf.has(n)||_f.has(n),i=wf.has(t)||_f.has(t);return(s,c)=>{let h=n==pf||n==s,d=t==pf||t==c;return!h&&e&&"boolean"==typeof s&&(h=s?wf.has(n):_f.has(n)),!d&&i&&"boolean"==typeof c&&(d=c?wf.has(t):_f.has(t)),h&&d}}const yN=new RegExp("s*:selfs*,?","g");function YM(n,t,e,i){return new CN(n).build(t,e,i)}class CN{constructor(t){this._driver=t}build(t,e,i){const s=new bN(e);return this._resetContextStyleTimingState(s),is(this,ku(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const c=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function HR(){return new r.OBp(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),d.type==_t.State){const g=d,f=g.name;f.toString().split(/\s*,\s*/).forEach(_=>{g.name=_,c.push(this.visitState(g,e))}),g.name=f}else if(d.type==_t.Transition){const g=this.visitTransition(d,e);i+=g.queryCount,s+=g.depCount,h.push(g)}else e.errors.push(function IR(){return new r.OBp(3007,!1)}())}),{type:_t.Trigger,name:t.name,states:c,transitions:h,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const c=new Set,h=s||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(g=>{jV(g).forEach(f=>{h.hasOwnProperty(f)||c.add(f)})})}),c.size&&e.errors.push(function TR(n,t){return new r.OBp(3008,!1)}(0,c.values()))}return{type:_t.State,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=is(this,ku(t.animation),e),s=function wN(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _N(n,t,e){if(":"==n[0]){const g=function zN(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function GR(n){return new r.OBp(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function FR(n){return new r.OBp(3015,!1)}()),t;const s=i[1],c=i[2],h=i[3];t.push(qV(s,h)),"<"==c[0]&&(s!=pf||h!=pf)&&t.push(qV(h,s))}(i,e,t)):e.push(n),e}(t.expr,e.errors);return{type:_t.Transition,matchers:s,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:g0(t.options)}}visitSequence(t,e){return{type:_t.Sequence,steps:t.steps.map(i=>is(this,i,e)),options:g0(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const c=t.steps.map(h=>{e.currentTime=i;const d=is(this,h,e);return s=Math.max(s,e.currentTime),d});return e.currentTime=s,{type:_t.Group,steps:c,options:g0(t.options)}}visitAnimate(t,e){const i=function SN(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return QM(ff(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=QM(0,0,"");return c.dynamic=!0,c.strValue=e,c}const s=ff(e,t);return QM(s.duration,s.delay,s.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,c=t.styles?t.styles:it({});if(c.type==_t.Keyframes)s=this.visitKeyframes(c,e);else{let h=t.styles,d=!1;if(!h){d=!0;const f={};i.easing&&(f.easing=i.easing),h=it(f)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(h,e);g.isEmptyStep=d,s=g}return e.currentAnimateTimings=null,{type:_t.Animate,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of s)"string"==typeof d?d===Ms?i.push(d):e.errors.push(new r.OBp(3002,!1)):i.push(new Map(Object.entries(d)));let c=!1,h=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(h=d.get("easing"),d.delete("easing")),!c))for(let g of d.values())if(g.toString().indexOf("{{")>=0){c=!0;break}}),{type:_t.Style,styles:i,easing:h,offset:t.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,c=e.currentTime;i&&c>0&&(c-=i.duration+i.delay),t.styles.forEach(h=>{"string"!=typeof h&&h.forEach((d,g)=>{const f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(g);let y=!0;_&&(c!=s&&c>=_.startTime&&s<=_.endTime&&(e.errors.push(function AR(n,t,e,i,s){return new r.OBp(3010,!1)}()),y=!1),c=_.startTime),y&&f.set(g,{startTime:c,endTime:s}),e.options&&function vN(n,t,e){const i=t.params||{},s=jV(n);s.length&&s.forEach(c=>{i.hasOwnProperty(c)||e.push(function ER(n){return new r.OBp(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:_t.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function OR(){return new r.OBp(3011,!1)}()),i;let c=0;const h=[];let d=!1,g=!1,f=0;const _=t.steps.map(B=>{const R=this._makeStyleAst(B,e);let te=null!=R.offset?R.offset:function EN(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(R.styles),J=0;return null!=te&&(c++,J=R.offset=te),g=g||J<0||J>1,d=d||J<f,f=J,h.push(J),R});g&&e.errors.push(function BR(){return new r.OBp(3012,!1)}()),d&&e.errors.push(function PR(){return new r.OBp(3200,!1)}());const y=t.steps.length;let C=0;c>0&&c<y?e.errors.push(function kR(){return new r.OBp(3202,!1)}()):0==c&&(C=1/(y-1));const x=y-1,b=e.currentTime,L=e.currentAnimateTimings,V=L.duration;return _.forEach((B,R)=>{const te=C>0?R==x?1:C*R:h[R],J=te*V;e.currentTime=b+L.delay+J,L.duration=J,this._validateStyleAst(B,e),B.offset=te,i.styles.push(B)}),i}visitReference(t,e){return{type:_t.Reference,animation:is(this,ku(t.animation),e),options:g0(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:_t.AnimateChild,options:g0(t.options)}}visitAnimateRef(t,e){return{type:_t.AnimateRef,animation:this.visitReference(t.animation,e),options:g0(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[c,h]=function MN(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(yN,"")),n=n.replace(/@\*/g,mf).replace(/@\w+/g,e=>mf+"-"+e.slice(1)).replace(/:animating/g,$M),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+c:c,ns(e.collectedStyles,e.currentQuerySelector,new Map);const d=is(this,ku(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:_t.Query,selector:c,limit:s.limit||0,optional:!!s.optional,includeSelf:h,animation:d,originalSelector:t.selector,options:g0(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function RR(){return new r.OBp(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ff(t.timings,e.errors,!0);return{type:_t.Stagger,animation:is(this,ku(t.animation),e),timings:i,options:null}}}class bN{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function g0(n){return n?(n={...n}).params&&(n.params=function xN(n){return n?{...n}:null}(n.params)):n={},n}function QM(n,t,e){return{duration:n,delay:t,easing:e}}function ZM(n,t,e,i,s,c,h=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:c,totalTime:s+c,easing:h,subTimeline:d}}class zf{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const HN=new RegExp(":enter","g"),TN=new RegExp(":leave","g");function XM(n,t,e,i,s,c=new Map,h=new Map,d,g,f=[]){return(new DN).buildKeyframes(n,t,e,i,s,c,h,d,g,f)}class DN{buildKeyframes(t,e,i,s,c,h,d,g,f,_=[]){f=f||new zf;const y=new JM(t,e,f,s,c,_,[]);y.options=g;const C=g.delay?mr(g.delay):0;y.currentTimeline.delayNextStep(C),y.currentTimeline.setStyles([h],null,y.errors,g),is(this,i,y);const x=y.timelines.filter(b=>b.containsAnimation());if(x.length&&d.size){let b;for(let L=x.length-1;L>=0;L--){const V=x[L];if(V.element===e){b=V;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([d],null,y.errors,g)}return x.length?x.map(b=>b.buildKeyframes()):[ZM(e,[],[],[],0,C,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const s=e.createSubContext(t.options),c=e.currentTimeline.currentTime,h=this._visitSubInstructions(i,s,s.options);c!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const s of t){const c=s?.delay;if(c){const h="number"==typeof c?c:mr(Ru(c,s?.params??{},e.errors));i.delayNextStep(h)}}}_visitSubInstructions(t,e,i){let c=e.currentTimeline.currentTime;const h=null!=i.duration?mr(i.duration):null,d=null!=i.delay?mr(i.delay):null;return 0!==h&&t.forEach(g=>{const f=e.appendInstructionToTimeline(g,h,d);c=Math.max(c,f.duration+f.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),is(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const c=t.options;if(c&&(c.params||c.delay)&&(s=e.createSubContext(c),s.transformIntoNewTimeline(),null!=c.delay)){s.previousNode.type==_t.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=yf);const h=mr(c.delay);s.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>is(this,h,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?mr(t.options.delay):0;t.steps.forEach(h=>{const d=e.createSubContext(t.options);c&&d.delayNextStep(c),is(this,h,d),s=Math.max(s,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ff(e.params?Ru(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const c=t.style;c.type==_t.Keyframes?this.visitKeyframes(c,e):(e.incrementTime(i.duration),this.visitStyle(c,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const c=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(c):i.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,c=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(g=>{d.forwardTime((g.offset||0)*c),d.setStyles(g.styles,g.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(s+c),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},c=s.delay?mr(s.delay):0;c&&(e.previousNode.type===_t.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yf);let h=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=d.length;let g=null;d.forEach((f,_)=>{e.currentQueryIndex=_;const y=e.createSubContext(t.options,f);c&&y.delayNextStep(c),f===e.element&&(g=y.currentTimeline),is(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,c=t.timings,h=Math.abs(c.duration),d=h*(e.currentQueryTotal-1);let g=h*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":g=d-g;break;case"full":g=i.currentStaggerTime}const _=e.currentTimeline;g&&_.delayNextStep(g);const y=_.currentTime;is(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-y+(s.startTime-i.currentTimeline.startTime)}}const yf={};class JM{constructor(t,e,i,s,c,h,d,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=c,this.errors=h,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Cf(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=mr(i.duration)),null!=i.delay&&(s.delay=mr(i.delay));const c=i.params;if(c){let h=s.params;h||(h=this.options.params={}),Object.keys(c).forEach(d=>{(!e||!h.hasOwnProperty(d))&&(h[d]=Ru(c[d],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,c=new JM(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=yf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},c=new AN(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(c),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,c,h){let d=[];if(s&&d.push(this.element),t.length>0){t=(t=t.replace(HN,"."+this._enterClassName)).replace(TN,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),d.push(...f)}return!c&&0==d.length&&h.push(function NR(n){return new r.OBp(3014,!1)}()),d}}class Cf{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Cf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ms),this._currentKeyframe.set(e,Ms);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&this._previousKeyframe.set("easing",e);const c=s&&s.params||{},h=function ON(n,t){const e=new Map;let i;return n.forEach(s=>{if("*"===s){i??=t.keys();for(let c of i)e.set(c,Ms)}else for(let[c,h]of s)e.set(c,h)}),e}(t,this._globalTimelineStyles);for(let[d,g]of h){const f=Ru(g,c,i);this._pendingStyles.set(d,f),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Ms),this._updateStyle(d,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const s=this._styleSummary.get(i);(!s||e.time>s.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((d,g)=>{const f=new Map([...this._backFill,...d]);f.forEach((_,y)=>{"!"===_?t.add(y):_===Ms&&e.add(y)}),i||f.set("offset",g/this.duration),s.push(f)});const c=[...t.values()],h=[...e.values()];if(i){const d=s[0],g=new Map(d);d.set("offset",0),g.set("offset",1),s=[d,g]}return ZM(this.element,s,c,h,this.duration,this.startTime,this.easing,!1)}}class AN extends Cf{constructor(t,e,i,s,c,h,d=!1){super(t,e,h.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=c,this._stretchStartingKeyframe=d,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],h=i+e,d=e/h,g=new Map(t[0]);g.set("offset",0),c.push(g);const f=new Map(t[0]);f.set("offset",QV(d)),c.push(f);const _=t.length-1;for(let y=1;y<=_;y++){let C=new Map(t[y]);const x=C.get("offset");C.set("offset",QV((e+x*i)/h)),c.push(C)}i=h,e=0,s="",t=c}return ZM(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function QV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}function ZV(n,t,e,i,s,c,h,d,g,f,_,y,C){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:c,toState:i,toStyles:h,timelines:d,queriedElements:g,preStyleProps:f,postStyleProps:_,totalTime:y,errors:C}}const ex={};class XV{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function BN(n,t,e,i,s){return n.some(c=>c(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){let s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,i):new Map}build(t,e,i,s,c,h,d,g,f,_){const y=[],C=this.ast.options&&this.ast.options.params||ex,b=this.buildStyles(i,d&&d.params||ex,y),L=g&&g.params||ex,V=this.buildStyles(s,L,y),B=new Set,R=new Map,te=new Map,J="void"===s,ve={params:JV(L,C),delay:this.ast.options?.delay},ge=_?[]:XM(t,e,this.ast.animation,c,h,b,V,ve,f,y);let Re=0;return ge.forEach(Te=>{Re=Math.max(Te.duration+Te.delay,Re)}),y.length?ZV(e,this._triggerName,i,s,J,b,V,[],[],R,te,Re,y):(ge.forEach(Te=>{const Ne=Te.element,Ze=ns(R,Ne,new Set);Te.preStyleProps.forEach(ot=>Ze.add(ot));const Xe=ns(te,Ne,new Set);Te.postStyleProps.forEach(ot=>Xe.add(ot)),Ne!==e&&B.add(Ne)}),ZV(e,this._triggerName,i,s,J,b,V,ge,[...B.values()],R,te,Re))}}function JV(n,t){const e={...t};return Object.entries(n).forEach(([i,s])=>{null!=s&&(e[i]=s)}),e}class PN{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,s=JV(t,this.defaultParams);return this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,d)=>{h&&(h=Ru(h,s,e));const g=this.normalizer.normalizePropertyName(d,e);h=this.normalizer.normalizeStyleValue(d,g,h,e),i.set(d,h)})}),i}}class RN{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(s=>{this.states.set(s.name,new PN(s.style,s.options&&s.options.params||{},i))}),eH(this.states,"true","1"),eH(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new XV(t,s,this.states))}),this.fallbackTransition=function NN(n,t,e){return new XV(n,{type:_t.Transition,animation:{type:_t.Sequence,steps:[],options:null},matchers:[(h,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(h=>h.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function eH(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const FN=new zf;class GN{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],c=YM(this._driver,e,i,[]);if(i.length)throw function qR(n){return new r.OBp(3503,!1)}();this._animations.set(t,c)}_buildPlayer(t,e,i){const s=t.element,c=PV(this._normalizer,t.keyframes,e,i);return this._driver.animate(s,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],c=this._animations.get(t);let h;const d=new Map;if(c?(h=XM(this._driver,e,c,UM,vf,new Map,new Map,i,FN,s),h.forEach(_=>{const y=ns(d,_.element,new Map);_.postStyleProps.forEach(C=>y.set(C,null))})):(s.push(function KR(){return new r.OBp(3300,!1)}()),h=[]),s.length)throw function YR(n){return new r.OBp(3504,!1)}();d.forEach((_,y)=>{_.forEach((C,x)=>{_.set(x,this._driver.computeStyle(y,x,Ms))})});const f=gc(h.map(_=>{const y=d.get(_.element);return this._buildPlayer(_,new Map,y)}));return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function QR(n){return new r.OBp(3301,!1)}();return e}listen(t,e,i,s){const c=kM(e,"","","");return BM(this._getPlayer(t),i,c,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const c=this._getPlayer(t);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const tH="ng-animate-queued",tx="ng-animate-disabled",qN=[],nH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},u2="__ng_removed";class nx{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function XN(n){return n??null}(i?t.value:t),i){const{value:c,...h}=t;this.options=h}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Nu="void",ix=new nx(Nu);class YN{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bs(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.has(e))throw function ZR(n,t){return new r.OBp(3302,!1)}();if(null==i||0==i.length)throw function XR(n){return new r.OBp(3303,!1)}();if(!function JN(n){return"start"==n||"done"==n}(i))throw function JR(n,t){return new r.OBp(3400,!1)}();const c=ns(this._elementListeners,t,[]),h={name:e,phase:i,callback:s};c.push(h);const d=ns(this._engine.statesByElement,t,new Map);return d.has(e)||(bs(t,gf),bs(t,gf+"-"+e),d.set(e,ix)),()=>{this._engine.afterFlush(()=>{const g=c.indexOf(h);g>=0&&c.splice(g,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function eN(n){return new r.OBp(3401,!1)}();return e}trigger(t,e,i,s=!0){const c=this._getTrigger(e),h=new sx(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(bs(t,gf),bs(t,gf+"-"+e),this._engine.statesByElement.set(t,d=new Map));let g=d.get(e);const f=new nx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&f.absorbOptions(g.options),d.set(e,f),g||(g=ix),f.value!==Nu&&g.value===f.value){if(!function nF(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const c=e[s];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(g.params,f.params)){const L=[],V=c.matchStyles(g.value,g.params,L),B=c.matchStyles(f.value,f.params,L);L.length?this._engine.reportError(L):this._engine.afterFlush(()=>{v0(t,V),to(t,B)})}return}const C=ns(this._engine.playersByElement,t,[]);C.forEach(L=>{L.namespaceId==this.id&&L.triggerName==e&&L.queued&&L.destroy()});let x=c.matchTransition(g.value,f.value,t,f.params),b=!1;if(!x){if(!s)return;x=c.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:x,fromState:g,toState:f,player:h,isFallbackTransition:b}),b||(bs(t,tH),h.onStart(()=>{Sh(t,tH)})),h.onDone(()=>{let L=this.players.indexOf(h);L>=0&&this.players.splice(L,1);const V=this._engine.playersByElement.get(t);if(V){let B=V.indexOf(h);B>=0&&V.splice(B,1)}}),this.players.push(h),C.push(h),h}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,mf,!0);i.forEach(s=>{if(s[u2])return;const c=this._engine.fetchNamespacesByElement(s);c.size?c.forEach(h=>h.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const c=this._engine.statesByElement.get(t),h=new Map;if(c){const d=[];if(c.forEach((g,f)=>{if(h.set(f,g.value),this._triggers.has(f)){const _=this.trigger(t,f,Nu,s);_&&d.push(_)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),i&&gc(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(c=>{const h=c.name;if(s.has(h))return;s.add(h);const g=this._triggers.get(h).fallbackTransition,f=i.get(h)||ix,_=new nx(Nu),y=new sx(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:g,fromState:f,toState:_,player:y,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(t):[];if(c&&c.length)s=!0;else{let h=t;for(;h=h.parentNode;)if(i.statesByElement.get(h)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const c=t[u2];(!c||c===nH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){bs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const c=i.element,h=this._elementListeners.get(c);h&&h.forEach(d=>{if(d.name==i.triggerName){const g=kM(c,i.triggerName,i.fromState.value,i.toState.value);g._data=t,BM(i.player,d.phase,g,d.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const c=i.transition.ast.depCount,h=s.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class QN{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i,s){this.bodyNode=t,this.driver=e,this._normalizer=i,this.scheduler=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new YN(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let h=!1,d=this.driver.getParentElement(e);for(;d;){const g=s.get(d);if(g){const f=i.indexOf(g);i.splice(f+1,0,t),h=!0;break}d=this.driver.getParentElement(d)}h||i.unshift(t)}else i.push(t);return s.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let s of i.values())if(s.namespaceId){const c=this._fetchNamespace(s.namespaceId);c&&e.add(c)}return e}trigger(t,e,i,s){if(Mf(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!Mf(e))return;const c=e[u2];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bs(t,tx)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Sh(t,tx))}removeNode(t,e,i){if(Mf(e)){this.scheduler?.notify();const s=t?this._fetchNamespace(t):null;s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,s,c){this.collectedLeaveElements.push(e),e[u2]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,i,s,c){return Mf(e)?this._fetchNamespace(t).listen(e,i,s,c):()=>{}}_buildInstruction(t,e,i,s,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,mf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,$M,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return gc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[u2];if(e&&e.setForRemoval){if(t[u2]=nH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(tx)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?gc(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw function tN(n){return new r.OBp(3402,!1)}()}_flushAnimations(t,e){const i=new zf,s=[],c=new Map,h=[],d=new Map,g=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(He=>{_.add(He);const We=this.driver.query(He,".ng-animate-queued",!0);for(let nt=0;nt<We.length;nt++)_.add(We[nt])});const y=this.bodyNode,C=Array.from(this.statesByElement.keys()),x=oH(C,this.collectedEnterElements),b=new Map;let L=0;x.forEach((He,We)=>{const nt=UM+L++;b.set(We,nt),He.forEach(Vt=>bs(Vt,nt))});const V=[],B=new Set,R=new Set;for(let He=0;He<this.collectedLeaveElements.length;He++){const We=this.collectedLeaveElements[He],nt=We[u2];nt&&nt.setForRemoval&&(V.push(We),B.add(We),nt.hasAnimation?this.driver.query(We,".ng-star-inserted",!0).forEach(Vt=>B.add(Vt)):R.add(We))}const te=new Map,J=oH(C,Array.from(B));J.forEach((He,We)=>{const nt=vf+L++;te.set(We,nt),He.forEach(Vt=>bs(Vt,nt))}),t.push(()=>{x.forEach((He,We)=>{const nt=b.get(We);He.forEach(Vt=>Sh(Vt,nt))}),J.forEach((He,We)=>{const nt=te.get(We);He.forEach(Vt=>Sh(Vt,nt))}),V.forEach(He=>{this.processLeaveNode(He)})});const ve=[],ge=[];for(let He=this._namespaceList.length-1;He>=0;He--)this._namespaceList[He].drainQueuedTransitions(e).forEach(nt=>{const Vt=nt.player,pt=nt.element;if(ve.push(Vt),this.collectedEnterElements.length){const si=pt[u2];if(si&&si.setForMove){if(si.previousTriggersValues&&si.previousTriggersValues.has(nt.triggerName)){const m0=si.previousTriggersValues.get(nt.triggerName),Es=this.statesByElement.get(nt.element);if(Es&&Es.has(nt.triggerName)){const Ef=Es.get(nt.triggerName);Ef.value=m0,Es.set(nt.triggerName,Ef)}}return void Vt.destroy()}}const tn=!y||!this.driver.containsElement(y,pt),bn=te.get(pt),G1=b.get(pt),rn=this._buildInstruction(nt,i,G1,bn,tn);if(rn.errors&&rn.errors.length)return void ge.push(rn);if(tn)return Vt.onStart(()=>v0(pt,rn.fromStyles)),Vt.onDestroy(()=>to(pt,rn.toStyles)),void s.push(Vt);if(nt.isFallbackTransition)return Vt.onStart(()=>v0(pt,rn.fromStyles)),Vt.onDestroy(()=>to(pt,rn.toStyles)),void s.push(Vt);const mH=[];rn.timelines.forEach(si=>{si.stretchStartingKeyframe=!0,this.disabledNodes.has(si.element)||mH.push(si)}),rn.timelines=mH,i.append(pt,rn.timelines),h.push({instruction:rn,player:Vt,element:pt}),rn.queriedElements.forEach(si=>ns(d,si,[]).push(Vt)),rn.preStyleProps.forEach((si,m0)=>{if(si.size){let Es=g.get(m0);Es||g.set(m0,Es=new Set),si.forEach((Ef,cx)=>Es.add(cx))}}),rn.postStyleProps.forEach((si,m0)=>{let Es=f.get(m0);Es||f.set(m0,Es=new Set),si.forEach((Ef,cx)=>Es.add(cx))})});if(ge.length){const He=[];ge.forEach(We=>{He.push(function nN(n,t){return new r.OBp(3505,!1)}())}),ve.forEach(We=>We.destroy()),this.reportError(He)}const Re=new Map,Te=new Map;h.forEach(He=>{const We=He.element;i.has(We)&&(Te.set(We,We),this._beforeAnimationBuild(He.player.namespaceId,He.instruction,Re))}),s.forEach(He=>{const We=He.element;this._getPreviousPlayers(We,!1,He.namespaceId,He.triggerName,null).forEach(Vt=>{ns(Re,We,[]).push(Vt),Vt.destroy()})});const Ne=V.filter(He=>lH(He,g,f)),Ze=new Map;sH(Ze,this.driver,R,f,Ms).forEach(He=>{lH(He,g,f)&&Ne.push(He)});const ot=new Map;x.forEach((He,We)=>{sH(ot,this.driver,new Set(He),g,"!")}),Ne.forEach(He=>{const We=Ze.get(He),nt=ot.get(He);Ze.set(He,new Map([...We?.entries()??[],...nt?.entries()??[]]))});const tt=[],Mt=[],xn={};h.forEach(He=>{const{element:We,player:nt,instruction:Vt}=He;if(i.has(We)){if(_.has(We))return nt.onDestroy(()=>to(We,Vt.toStyles)),nt.disabled=!0,nt.overrideTotalTime(Vt.totalTime),void s.push(nt);let pt=xn;if(Te.size>1){let bn=We;const G1=[];for(;bn=bn.parentNode;){const rn=Te.get(bn);if(rn){pt=rn;break}G1.push(bn)}G1.forEach(rn=>Te.set(rn,pt))}const tn=this._buildAnimation(nt.namespaceId,Vt,Re,c,ot,Ze);if(nt.setRealPlayer(tn),pt===xn)tt.push(nt);else{const bn=this.playersByElement.get(pt);bn&&bn.length&&(nt.parentPlayer=gc(bn)),s.push(nt)}}else v0(We,Vt.fromStyles),nt.onDestroy(()=>to(We,Vt.toStyles)),Mt.push(nt),_.has(We)&&s.push(nt)}),Mt.forEach(He=>{const We=c.get(He.element);if(We&&We.length){const nt=gc(We);He.setRealPlayer(nt)}}),s.forEach(He=>{He.parentPlayer?He.syncPlayerEvents(He.parentPlayer):He.destroy()});for(let He=0;He<V.length;He++){const We=V[He],nt=We[u2];if(Sh(We,vf),nt&&nt.hasAnimation)continue;let Vt=[];if(d.size){let tn=d.get(We);tn&&tn.length&&Vt.push(...tn);let bn=this.driver.query(We,$M,!0);for(let G1=0;G1<bn.length;G1++){let rn=d.get(bn[G1]);rn&&rn.length&&Vt.push(...rn)}}const pt=Vt.filter(tn=>!tn.destroyed);pt.length?eF(this,We,pt):this.processLeaveNode(We)}return V.length=0,tt.forEach(He=>{this.players.push(He),He.onDone(()=>{He.destroy();const We=this.players.indexOf(He);this.players.splice(We,1)}),He.play()}),tt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,c){let h=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(h=d)}else{const d=this.playersByElement.get(t);if(d){const g=!c||c==Nu;d.forEach(f=>{f.queued||!g&&f.triggerName!=s||h.push(f)})}}return(i||s)&&(h=h.filter(d=>!(i&&i!=d.namespaceId||s&&s!=d.triggerName))),h}_beforeAnimationBuild(t,e,i){const c=e.element,h=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const f=g.element,_=f!==c,y=ns(i,f,[]);this._getPreviousPlayers(f,_,h,d,e.toState).forEach(x=>{const b=x.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),x.destroy(),y.push(x)})}v0(c,e.fromStyles)}_buildAnimation(t,e,i,s,c,h){const d=e.triggerName,g=e.element,f=[],_=new Set,y=new Set,C=e.timelines.map(b=>{const L=b.element;_.add(L);const V=L[u2];if(V&&V.removedBeforeQueried)return new l0(b.duration,b.delay);const B=L!==g,R=function tF(n){const t=[];return rH(n,t),t}((i.get(L)||qN).map(Re=>Re.getRealPlayer())).filter(Re=>!!Re.element&&Re.element===L),te=c.get(L),J=h.get(L),ve=PV(this._normalizer,b.keyframes,te,J),ge=this._buildPlayer(b,ve,R);if(b.subTimeline&&s&&y.add(L),B){const Re=new sx(t,d,L);Re.setRealPlayer(ge),f.push(Re)}return ge});f.forEach(b=>{ns(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function ZN(n,t,e){let i=n.get(t);if(i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,b.element,b))}),_.forEach(b=>bs(b,UV));const x=gc(C);return x.onDestroy(()=>{_.forEach(b=>Sh(b,UV)),to(g,e.toStyles)}),y.forEach(b=>{ns(s,b,[]).push(x)}),x}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new l0(t.duration,t.delay)}}class sx{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new l0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(s=>BM(t,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ns(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Mf(n){return n&&1===n.nodeType}function iH(n,t){const e=n.style.display;return n.style.display=t??"none",e}function sH(n,t,e,i,s){const c=[];e.forEach(g=>c.push(iH(g)));const h=[];i.forEach((g,f)=>{const _=new Map;g.forEach(y=>{const C=t.computeStyle(f,y,s);_.set(y,C),(!C||0==C.length)&&(f[u2]=KN,h.push(f))}),n.set(f,_)});let d=0;return e.forEach(g=>iH(g,c[d++])),h}function oH(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const s=new Set(t),c=new Map;function h(d){if(!d)return 1;let g=c.get(d);if(g)return g;const f=d.parentNode;return g=e.has(f)?f:s.has(f)?1:h(f),c.set(d,g),g}return t.forEach(d=>{const g=h(d);1!==g&&e.get(g).push(d)}),e}function bs(n,t){n.classList?.add(t)}function Sh(n,t){n.classList?.remove(t)}function eF(n,t,e){gc(e).onDone(()=>n.processLeaveNode(t))}function rH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof yu?rH(i.players,t):t.push(i)}}function lH(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(c=>s.add(c)):t.set(n,i),e.delete(n),!0}class Fu{constructor(t,e,i,s){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new QN(t.body,e,i,s),this._timelineEngine=new GN(t.body,e,i),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(t,e,i,s,c){const h=t+"-"+s;let d=this._triggerCache[h];if(!d){const g=[],_=YM(this._driver,c,g,[]);if(g.length)throw function jR(n,t){return new r.OBp(3404,!1)}();d=function kN(n,t,e){return new RN(n,t,e)}(s,_,this._normalizer),this._triggerCache[h]=d}this._transitionEngine.registerTrigger(e,s,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[c,h]=kV(i);this._timelineEngine.command(c,e,h,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,c){if("@"==i.charAt(0)){const[h,d]=kV(i);return this._timelineEngine.listen(h,e,d,c)}return this._transitionEngine.listen(t,e,i,s,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class Gu{static#e=this.initialStylesByElement=new WeakMap;constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let s=Gu.initialStylesByElement.get(t);s||Gu.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&to(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(to(this._element,this._initialStyles),this._endStyles&&(to(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Gu.initialStylesByElement.delete(this._element),this._startStyles&&(v0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(v0(this._element,this._endStyles),this._endStyles=null),to(this._element,this._initialStyles),this._state=3)}}function ox(n){let t=null;return n.forEach((e,i)=>{(function sF(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class cH{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&t.set(s,this._finished?i:KM(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class aH{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return NV(t,e)}getParentElement(t){return RM(t)}query(t,e,i){return FV(t,e,i)}computeStyle(t,e,i){return KM(t,e)}animate(t,e,i,s,c,h=[]){const g={duration:i,delay:s,fill:0==s?"both":"forwards"};c&&(g.easing=c);const f=new Map,_=h.filter(x=>x instanceof cH);(function mN(n,t){return 0===n||0===t})(i,s)&&_.forEach(x=>{x.currentSnapshot.forEach((b,L)=>f.set(L,b))});let y=function dN(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}(e).map(x=>new Map(x));y=function fN(n,t,e){if(e.size&&t.length){let i=t[0],s=[];if(e.forEach((c,h)=>{i.has(h)||s.push(h),i.set(h,c)}),s.length)for(let c=1;c<t.length;c++){let h=t[c];s.forEach(d=>h.set(d,KM(n,d)))}}return t}(t,y,f);const C=function iF(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ox(t[0]),t.length>1&&(i=ox(t[t.length-1]))):t instanceof Map&&(e=ox(t)),e||i?new Gu(n,e,i):null}(t,y);return new cH(t,y,g,C)}}const hH="@.disabled";class uH{constructor(t,e,i,s){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=s,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==hH?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class oF extends uH{constructor(t,e,i,s,c){super(e,i,s,c),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==hH?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function rF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.slice(1),h="";return"@"!=c.charAt(0)&&([c,h]=function lF(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(c)),this.engine.listen(this.namespaceId,s,c,h,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}class cF{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(s,c)=>{const h=c?.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,e){const s=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const f=this._rendererCache;let _=f.get(s);return _||(_=new uH("",s,this.engine,()=>f.delete(s)),f.set(s,_)),_}const c=e.id,h=e.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const d=f=>{Array.isArray(f)?f.forEach(d):this.engine.registerTrigger(c,h,t,f.name,f)};return e.data.animation.forEach(d),new oF(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(i));const s=this._animationCallbacksBuffer;0==s.length&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(c=>{const[h,d]=c;h(d)}),this._animationCallbacksBuffer=[]})}),s.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const dH=[{provide:GM,useFactory:function hF(){return new WV}},{provide:Fu,useClass:(()=>{class n extends Fu{constructor(e,i,s){super(e,i,s,(0,r.uUt)(r.yai,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(r.CoB(X),r.CoB(FM),r.CoB(GM))};static#t=this.\u0275prov=r.wxM({token:n,factory:n.\u0275fac})}return n})()},{provide:r.O8F,useFactory:function uF(n,t,e){return new cF(n,t,e)},deps:[B0,Fu,r.WW2]}],rx=[{provide:FM,useFactory:()=>new aH},{provide:r.qwP,useValue:"BrowserAnimations"},...dH],vH=[{provide:FM,useClass:NM},{provide:r.qwP,useValue:"NoopAnimations"},...dH];let dF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?vH:rx}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=r.a4G({type:n});static#n=this.\u0275inj=r.s3X({providers:rx,imports:[Xf]})}return n})();const gH={providers:[function Jx(n,...t){return(0,r.AFj)([{provide:dl,multi:!0,useValue:n},[],{provide:I2,useFactory:pl,deps:[ci]},{provide:r.qid,multi:!0,useFactory:o7},t.map(e=>e.\u0275providers)])}(lR),By(),(0,r.ai8)(dF,Ee.cx.forRoot({}),Ee.cx.forFeature(c2),dg.forRoot(du),zR.withIcons({matSave:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em)" fill="currentColor"><path d="M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3s3 1.34 3 3s-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',matCreate:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em)" fill="currentColor"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83l3.75 3.75l1.83-1.83z"/></svg>'}),Ee.cx.forFeature(F8),Ee.cx.forFeature(sh),Ee.cx.forFeature(nh),Ee.cx.forFeature(J3),dg.forFeature(cy),MR.OU.instrument({maxAge:25,logOnly:!r.sPQ,connectInZone:!0}))]},bf={schedule(n,t){const e=setTimeout(n,t);return()=>clearTimeout(e)},scheduleBeforeRender(n){if(typeof window>"u")return bf.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return bf.schedule(n,16);const t=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(t)}};let lx;function CF(n,t,e){let i=e;return function mF(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&t.some((s,c)=>!("*"===s||!function pF(n,t){if(!lx){const e=Element.prototype;lx=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&lx.call(n,t)}(n,s)||(i=c,0))),i}class xF{constructor(t,e){this.componentFactory=e.get(r.ce5).resolveComponentFactory(t)}create(t){return new bF(this.componentFactory,t)}}class bF{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new MV.o(1),this.events=this.eventEmitters.pipe((0,qn.G)(i=>(0,j3.U)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(r.WW2),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=bf.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e,i){this.runInZone(()=>{i&&(e=i.call(this.componentRef?.instance,e)),null!==this.componentRef?function wF(n,t){return n===t||n!=n&&t!=t}(e,this.getInputValue(t))&&(void 0!==e||!this.unchangedInputs.has(t))||(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=r.zZn.create({providers:[],parent:this.injector}),i=function yF(n,t){const e=n.childNodes,i=t.map(()=>[]);let s=-1;t.some((c,h)=>"*"===c&&(s=h,!0));for(let c=0,h=e.length;c<h;++c){const d=e[c],g=CF(d,t,s);-1!==g&&i[g].push(d)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,t),this.viewChangeDetectorRef=this.componentRef.injector.get(r.kD9),this.implementsOnChanges=function fF(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(r.Swk).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t,transform:e})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t),e)}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:i,templateName:s})=>t.instance[i].pipe((0,xt.k)(h=>({name:s,value:h}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=bf.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[t];if(i)return void(i.currentValue=e);const s=this.unchangedInputs.has(t),c=s?void 0:this.getInputValue(t);this.inputChanges[t]=new r.g1_(c,e,s)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class EF extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}(0,P.c)(function*(){const n=yield function Vx(n){return(0,r._II)(function i5(n){return{appProviders:[...Hr,...n?.providers??[]],platformProviders:Hx}}(n))}(gH),t=function SF(n,t){const e=function zF(n,t){return t.get(r.ce5).resolveComponentFactory(n).inputs}(n,t.injector),i=t.strategyFactory||new xF(n,t.injector),s=function _F(n){const t={};return n.forEach(({propName:e,templateName:i,transform:s})=>{t[function gF(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(i)]=[e,s]}),t}(e);class c extends EF{static#e=this.observedAttributes=Object.keys(s);get ngElementStrategy(){if(!this._ngElementStrategy){const d=this._ngElementStrategy=i.create(this.injector||t.injector);e.forEach(({propName:g,transform:f})=>{if(!this.hasOwnProperty(g))return;const _=this[g];delete this[g],d.setInputValue(g,_,f)})}return this._ngElementStrategy}constructor(d){super(),this.injector=d}attributeChangedCallback(d,g,f,_){const[y,C]=s[d];this.ngElementStrategy.setInputValue(y,f,C)}connectedCallback(){let d=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),d=!0),this.ngElementStrategy.connect(this),d||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(d=>{const g=new CustomEvent(d.name,{detail:d.value});this.dispatchEvent(g)})}}return e.forEach(({propName:h,transform:d})=>{Object.defineProperty(c.prototype,h,{get(){return this.ngElementStrategy.getInputValue(h)},set(g){this.ngElementStrategy.setInputValue(h,g,d)},configurable:!0,enumerable:!0})}),c}(yL,{injector:n.injector});customElements.define("configurator-editor-component",t)})()},9228:(Z,j,E)=>{"use strict";function G(o,l){return Object.is(o,l)}E.d(j,{qwP:()=>Ax,qid:()=>l2,QHP:()=>a5,kZF:()=>Oy,Ev2:()=>uS,Swk:()=>hr,YND:()=>Ox,kD9:()=>lm,ESV:()=>Qg,ce5:()=>Cl,ayF:()=>$y,eM9:()=>Ml,syz:()=>xo,GMv:()=>Pc,SIe:()=>Ui,eAe:()=>T2,_w7:()=>l1,y_5:()=>Cd,_6O:()=>kt,UbH:()=>At,zZn:()=>T1,Uj7:()=>u1,YNh:()=>_u,KYU:()=>uu,obV:()=>Bv,oF$:()=>G2,WW2:()=>Dn,T7N:()=>Wr,AHE:()=>vd,crf:()=>sp,q87:()=>Ub,O8F:()=>ov,yzm:()=>Bo,SI6:()=>Ao,g1_:()=>a4,Qfh:()=>t4,Yw2:()=>Ro,G4X:()=>jg,eOv:()=>Wg,a8Z:()=>ar,y8U:()=>e3,K6R:()=>rs,I44:()=>X4,yAg:()=>us,M9f:()=>u6,cZD:()=>Ae,S6b:()=>Tm,SIz:()=>qi,Gk1:()=>k_,o3l:()=>Su,wd:()=>po,ai8:()=>xd,uUt:()=>vt,sPQ:()=>om,_Ap:()=>Gn,AFj:()=>Uc,o9M:()=>J2,SMS:()=>r4,OCB:()=>S6,sRj:()=>PC,yai:()=>K4,oPY:()=>hh,i4S:()=>C5,GUM:()=>Zl,g9Y:()=>Ws,OBp:()=>Ke,aS5:()=>dh,Mn9:()=>$g,Y8L:()=>oi,Om8:()=>t7,ozE:()=>vl,K2p:()=>hl,GM_:()=>Kp,u8n:()=>Zp,ER9:()=>Yp,Vfw:()=>Qd,Gc:()=>Qp,iMv:()=>d8,G58:()=>Ss,y02:()=>O3,IHs:()=>cn,_II:()=>MC,K_M:()=>Ix,Guz:()=>vi,w5$:()=>ou,gX2:()=>Kg,auf:()=>tp,GEN:()=>In,E2t:()=>Rs,eg9:()=>Tv,Wk5:()=>Ni,QJr:()=>P_,SYr:()=>x5,M5G:()=>ty,UHJ:()=>Fn,yG2:()=>Z5,e48:()=>Z6,m8U:()=>Wl,eAK:()=>C3,C0Y:()=>w9,szK:()=>q9,In1:()=>M0,Sc5:()=>Ve,wxM:()=>Vn,s3X:()=>r5,a4G:()=>ie,UTH:()=>Pe,GI1:()=>la,wR5:()=>W2,C_f:()=>D3,k70:()=>T3,SAx:()=>I3,C$Y:()=>Xi,I0R:()=>wi,KQA:()=>z9,otF:()=>kd,CoB:()=>n1,gJ8:()=>I5,KEo:()=>T7,qCj:()=>S8,Gqi:()=>V8,S2Z:()=>ad,GaO:()=>rt,wVc:()=>W8,kDX:()=>oh,wB1:()=>Ja,_Xx:()=>j9,kPM:()=>U3,E7m:()=>_3,q4q:()=>zg,S45:()=>nh,IBC:()=>ih,uAc:()=>yg,gFU:()=>Q2,wto:()=>ws,Gew:()=>Q9,CGJ:()=>Nf,wLc:()=>uw,MbM:()=>U5,usT:()=>od,E3n:()=>n7,K6U:()=>fl,YFg:()=>C4,m_g:()=>Bi,m4B:()=>y3,yuY:()=>Tl,gJz:()=>Mg,OEk:()=>O8,cNF:()=>K3,oRS:()=>Y3,kNx:()=>ug,iHE:()=>Xa,OKB:()=>P8,CC$:()=>K9}),E(3972);let N=null,Y=!1,P=1;const r=Symbol("SIGNAL");function T(o){const l=N;return N=o,l}const U={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function X(o){if(Y)throw new Error("");if(null===N)return;N.consumerOnSignalRead(o);const l=N.nextProducerIndex++;ne(N),l<N.producerNode.length&&N.producerNode[l]!==o&&ee(N)&&Me(N.producerNode[l],N.producerIndexOfThis[l]),N.producerNode[l]!==o&&(N.producerNode[l]=o,N.producerIndexOfThis[l]=ee(N)?le(o,N,l):0),N.producerLastReadVersion[l]=o.version}function pe(o){if((!ee(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==P)){if(!o.producerMustRecompute(o)&&!k(o))return o.dirty=!1,void(o.lastCleanEpoch=P);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=P}}function we(o){if(void 0===o.liveConsumerNode)return;const l=Y;Y=!0;try{for(const a of o.liveConsumerNode)a.dirty||Be(a)}finally{Y=l}}function Se(){return!1!==N?.consumerAllowSignalWrites}function Be(o){o.dirty=!0,we(o),o.consumerMarkedDirty?.(o)}function De(o){return o&&(o.nextProducerIndex=0),T(o)}function D(o,l){if(T(l),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(ee(o))for(let a=o.nextProducerIndex;a<o.producerNode.length;a++)Me(o.producerNode[a],o.producerIndexOfThis[a]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function k(o){ne(o);for(let l=0;l<o.producerNode.length;l++){const a=o.producerNode[l],u=o.producerLastReadVersion[l];if(u!==a.version||(pe(a),u!==a.version))return!0}return!1}function q(o){if(ne(o),ee(o))for(let l=0;l<o.producerNode.length;l++)Me(o.producerNode[l],o.producerIndexOfThis[l]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function le(o,l,a){if(re(o),ne(o),0===o.liveConsumerNode.length)for(let u=0;u<o.producerNode.length;u++)o.producerIndexOfThis[u]=le(o.producerNode[u],o,u);return o.liveConsumerIndexOfThis.push(a),o.liveConsumerNode.push(l)-1}function Me(o,l){if(re(o),ne(o),1===o.liveConsumerNode.length)for(let u=0;u<o.producerNode.length;u++)Me(o.producerNode[u],o.producerIndexOfThis[u]);const a=o.liveConsumerNode.length-1;if(o.liveConsumerNode[l]=o.liveConsumerNode[a],o.liveConsumerIndexOfThis[l]=o.liveConsumerIndexOfThis[a],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,l<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[l],v=o.liveConsumerNode[l];ne(v),v.producerIndexOfThis[u]=l}}function ee(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function ne(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function re(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}const ke=Symbol("UNSET"),un=Symbol("COMPUTING"),ln=Symbol("ERRORED"),dn={...U,value:ke,dirty:!0,error:null,equal:G,producerMustRecompute:o=>o.value===ke||o.value===un,producerRecomputeValue(o){if(o.value===un)throw new Error("Detected cycle in computations.");const l=o.value;o.value=un;const a=De(o);let u;try{u=o.computation()}catch(v){u=ln,o.error=v}finally{D(o,a)}l!==ke&&l!==ln&&u!==ln&&o.equal(l,u)?o.value=l:(o.value=u,o.version++)}};let fn=function Bt(){throw new Error};function Xt(){fn()}let ue=null;function je(o,l){Se()||Xt(),o.equal(o.value,l)||(o.value=l,function Pt(o){o.version++,function he(){P++}(),we(o),ue?.()}(o))}const wt={...U,equal:G,value:void 0};const mt=()=>{},Rt={...U,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:mt};var wn=E(2824),M1=E(5588),Ci=E(1880),$1=E(6744);const oi="https://g.co/ng/security#xss";class Ke extends Error{constructor(l,a){super(Ss(l,a)),this.code=l}}function Ss(o,l){return`NG0${Math.abs(o)}${l?": "+l:""}`}function pc(o){return l=>{setTimeout(o,void 0,l)}}const l1=class no extends wn.E{constructor(l=!1){super(),this.__isAsync=l}emit(l){const a=T(null);try{super.next(l)}finally{T(a)}}subscribe(l,a,u){let v=l,m=a||(()=>null),p=u;if(l&&"object"==typeof l){const z=l;v=z.next?.bind(z),m=z.error?.bind(z),p=z.complete?.bind(z)}this.__isAsync&&(m=pc(m),v&&(v=pc(v)),p&&(p=pc(p)));const w=super.subscribe({next:v,error:m,complete:p});return l instanceof M1.wH&&l.add(w),w}};var kt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(kt||{});function In(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(In).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const a=l.indexOf("\n");return-1===a?l:l.substring(0,a)}function L1(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}var so=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(so||{}),rs=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(rs||{});function Mi(o){return{toString:o}.toString()}const cn=globalThis,xi={},Nt=[];function Zt(o){for(let l in o)if(o[l]===Zt)return l;throw Error("Could not find renamed property on target object.")}function Ph(o,l){for(const a in l)l.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=l[a])}const Ri=Zt({\u0275cmp:Zt}),_c=Zt({\u0275dir:Zt}),zc=Zt({\u0275pipe:Zt}),y0=Zt({\u0275mod:Zt}),V1=Zt({\u0275fac:Zt}),oo=Zt({__NG_ELEMENT_ID__:Zt}),zr=Zt({__NG_ENV_ID__:Zt});var Ni=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(Ni||{});function yr(o,l,a){let u=o.length;for(;;){const v=o.indexOf(l,a);if(-1===v)return v;if(0===v||o.charCodeAt(v-1)<=32){const m=l.length;if(v+m===u||o.charCodeAt(v+m)<=32)return v}a=v+1}}function ro(o,l,a){let u=0;for(;u<a.length;){const v=a[u];if("number"==typeof v){if(0!==v)break;u++;const m=a[u++],p=a[u++],w=a[u++];o.setAttribute(l,p,w,m)}else{const m=v,p=a[++u];C0(m)?o.setProperty(l,m,p):o.setAttribute(l,m,p),u++}}return u}function yc(o){return 3===o||4===o||6===o}function C0(o){return 64===o.charCodeAt(0)}function g2(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let a=-1;for(let u=0;u<l.length;u++){const v=l[u];"number"==typeof v?a=v:0===a||Cc(o,a,v,null,-1===a||2===a?l[++u]:null)}}return o}function Cc(o,l,a,u,v){let m=0,p=o.length;if(-1===l)p=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===l){p=-1;break}if(w>l){p=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==v&&(o[m+1]=v));if(u===o[m+1])return void(o[m+2]=v)}m++,null!==u&&m++,null!==v&&m++}-1!==p&&(o.splice(p,0,l),m=p+1),o.splice(m++,0,a),null!==u&&o.splice(m++,0,u),null!==v&&o.splice(m++,0,v)}const Cr="ng-template";function Mc(o,l,a){let u=0,v=!0;for(;u<o.length;){let m=o[u++];if("string"==typeof m&&v){const p=o[u++];if(a&&"class"===m&&-1!==yr(p.toLowerCase(),l,0))return!0}else{if(1===m){for(;u<o.length&&"string"==typeof(m=o[u++]);)if(m.toLowerCase()===l)return!0;return!1}"number"==typeof m&&(v=!1)}}return!1}function e1(o){return 4===o.type&&o.value!==Cr}function kh(o,l,a){return l===(4!==o.type||a?o.value:Cr)}function Rh(o,l,a){let u=4;const v=o.attrs||[],m=function zn(o){for(let l=0;l<o.length;l++)if(yc(o[l]))return l;return o.length}(v);let p=!1;for(let w=0;w<l.length;w++){const z=l[w];if("number"!=typeof z){if(!p)if(4&u){if(u=2|1&u,""!==z&&!kh(o,z,a)||""===z&&1===l.length){if(j1(u))return!1;p=!0}}else{const M=8&u?z:l[++w];if(8&u&&null!==o.attrs){if(!Mc(o.attrs,M,a)){if(j1(u))return!1;p=!0}continue}const H=ri(8&u?"class":z,v,e1(o),a);if(-1===H){if(j1(u))return!1;p=!0;continue}if(""!==M){let $;$=H>m?"":v[H+1].toLowerCase();const K=8&u?$:null;if(K&&-1!==yr(K,M,0)||2&u&&M!==$){if(j1(u))return!1;p=!0}}}}else{if(!p&&!j1(u)&&!j1(z))return!1;if(p&&j1(z))continue;p=!1,u=z|1&u}}return j1(u)||p}function j1(o){return 0==(1&o)}function ri(o,l,a,u){if(null===l)return-1;let v=0;if(u||!a){let m=!1;for(;v<l.length;){const p=l[v];if(p===o)return v;if(3===p||6===p)m=!0;else{if(1===p||2===p){let w=l[++v];for(;"string"==typeof w;)w=l[++v];continue}if(4===p)break;if(0===p){v+=4;continue}}v+=m?1:2}return-1}return function Nh(o,l){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const u=o[a];if("number"==typeof u)return-1;if(u===l)return a;a++}return-1}(l,o)}function xc(o,l,a=!1){for(let u=0;u<l.length;u++)if(Rh(o,l[u],a))return!0;return!1}function bc(o,l){e:for(let a=0;a<l.length;a++){const u=l[a];if(o.length===u.length){for(let v=0;v<o.length;v++)if(o[v]!==u[v])continue e;return!0}}return!1}function Mr(o,l){return o?":not("+l.trim()+")":l}function xr(o){let l=o[0],a=1,u=2,v="",m=!1;for(;a<o.length;){let p=o[a];if("string"==typeof p)if(2&u){const w=o[++a];v+="["+p+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?v+="."+p:4&u&&(v+=" "+p);else""!==v&&!j1(p)&&(l+=Mr(m,v),v=""),u=p,m=m||!j1(u);a++}return""!==v&&(l+=Mr(m,v)),l}function M0(o){return Mi(()=>{const l=W1(o),a={...l,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===so.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||rs.Emulated,styles:o.styles||Nt,_:null,schemas:o.schemas||null,tView:null,id:""};lo(a);const u=o.dependencies;return a.directiveDefs=co(u,!1),a.pipeDefs=co(u,!0),a.id=function Hf(o){let l=0;const a=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const v of a)l=Math.imul(31,l)+v.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(a),a})}function O(o){return qe(o)||ut(o)}function fe(o){return null!==o}function ie(o){return Mi(()=>({type:o.type,bootstrap:o.bootstrap||Nt,declarations:o.declarations||Nt,imports:o.imports||Nt,exports:o.exports||Nt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ae(o,l){if(null==o)return xi;const a={};for(const u in o)if(o.hasOwnProperty(u)){const v=o[u];let m,p,w=Ni.None;Array.isArray(v)?(w=v[0],m=v[1],p=v[2]??m):(m=v,p=v),l?(a[m]=w!==Ni.None?[u,w]:u,l[m]=p):a[m]=u}return a}function Ve(o){return Mi(()=>{const l=W1(o);return lo(l),l})}function Pe(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function qe(o){return o[Ri]||null}function ut(o){return o[_c]||null}function Dt(o){return o[zc]||null}function Gn(o){const l=qe(o)||ut(o)||Dt(o);return null!==l&&l.standalone}function Ht(o,l){const a=o[y0]||null;if(!a&&!0===l)throw new Error(`Type ${In(o)} does not have '\u0275mod' property.`);return a}function W1(o){const l={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:o.inputs||xi,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Nt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ae(o.inputs,l),outputs:ae(o.outputs),debugInfo:null}}function lo(o){o.features?.forEach(l=>l(o))}function co(o,l){if(!o)return null;const a=l?Dt:O;return()=>("function"==typeof o?o():o).map(u=>a(u)).filter(fe)}const Tn=0,Ge=1,ct=2,Un=3,Fi=4,x1=5,Gi=6,br=7,yn=8,g1=9,Vs=10,zt=11,Sc=12,qu=13,Er=14,Ln=15,ao=16,Lc=17,m2=18,nn=19,Gh=20,f2=21,b0=22,ho=23,lt=25,E0=1,Hs=7,Sr=9,$n=10;var $h=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}($h||{});function b1(o){return Array.isArray(o)&&"object"==typeof o[E0]}function m1(o){return Array.isArray(o)&&!0===o[E0]}function Ku(o){return 0!=(4&o.flags)}function ls(o){return o.componentOffset>-1}function jh(o){return 1==(1&o.flags)}function bi(o){return!!o.template}function Wh(o){return 0!=(512&o[ct])}const Zu="svg";let Af=!1;function dt(o){for(;Array.isArray(o);)o=o[Tn];return o}function V0(o,l){return dt(l[o])}function q1(o,l){return dt(l[o.index])}function H0(o,l){return o.data[l]}function Hc(o,l){return o[l]}function Ei(o,l){const a=l[o];return b1(a)?a:a[Tn]}function td(o){return 128==(128&o[ct])}function Is(o,l){return null==l?null:o[l]}function Kh(o){o[Lc]=0}function Bf(o){1024&o[ct]||(o[ct]|=1024,td(o)&&I0(o))}function Ic(o){return!!(9216&o[ct]||o[ho]?.dirty)}function uo(o){Ic(o)?I0(o):64&o[ct]&&(function Ju(){return Af}()?(o[ct]|=1024,I0(o)):o[Vs].changeDetectionScheduler?.notify())}function I0(o){o[Vs].changeDetectionScheduler?.notify();let l=p2(o);for(;null!==l&&!(8192&l[ct])&&(l[ct]|=8192,td(l));)l=p2(l)}function Yh(o,l){if(256==(256&o[ct]))throw new Ke(911,!1);null===o[f2]&&(o[f2]=[]),o[f2].push(l)}function p2(o){const l=o[Un];return m1(l)?l[Un]:l}const yt={lFrame:Xh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rf(){return yt.bindingsEnabled}function Tc(){return null!==yt.skipHydrationRootTNode}function me(){return yt.lFrame.lView}function Ft(){return yt.lFrame.tView}function od(o){return yt.lFrame.contextLView=o,o[yn]}function Nf(o){return yt.lFrame.contextLView=null,o}function an(){let o=Ff();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ff(){return yt.lFrame.currentTNode}function cs(o,l){const a=yt.lFrame;a.currentTNode=o,a.isParent=l}function rd(){return yt.lFrame.isParent}function ld(){yt.lFrame.isParent=!1}function K1(){const o=yt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function as(){return yt.lFrame.bindingIndex++}function _2(o){const l=yt.lFrame,a=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,a}function Sx(o,l){const a=yt.lFrame;a.bindingIndex=a.bindingRootIndex=o,Ac(l)}function Ac(o){yt.lFrame.currentDirectiveIndex=o}function Qh(){return yt.lFrame.currentQueryIndex}function A0(o){yt.lFrame.currentQueryIndex=o}function Wf(o){const l=o[Ge];return 2===l.type?l.declTNode:1===l.type?o[x1]:null}function cd(o,l,a){if(a&kt.SkipSelf){let v=l,m=o;for(;!(v=v.parent,null!==v||a&kt.Host||(v=Wf(m),null===v||(m=m[Er],10&v.type))););if(null===v)return!1;l=v,o=m}const u=yt.lFrame=Zh();return u.currentTNode=l,u.lView=o,!0}function Oc(o){const l=Zh(),a=o[Ge];yt.lFrame=l,l.currentTNode=a.firstChild,l.lView=o,l.tView=a,l.contextLView=o,l.bindingIndex=a.bindingStartIndex,l.inI18n=!1}function Zh(){const o=yt.lFrame,l=null===o?null:o.child;return null===l?Xh(o):l}function Xh(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function O0(){const o=yt.lFrame;return yt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Jh=O0;function Bc(){const o=O0();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function f1(){return yt.lFrame.selectedIndex}function go(o){yt.lFrame.selectedIndex=o}function Cn(){const o=yt.lFrame;return H0(o.tView,o.selectedIndex)}function ad(){yt.lFrame.currentNamespace=Zu}let B0=!0;function Lr(){return B0}function z2(o){B0=o}function Lx(){return mo(an(),me())}function mo(o,l){return new Pc(q1(o,l))}let o5,Pc=(()=>{class o{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Lx}return o})();function P0(o){return o instanceof Pc?o.nativeElement:o}function fo(o,l){o.forEach(a=>Array.isArray(a)?fo(a,l):l(a))}function ud(o,l,a){l>=o.length?o.push(a):o.splice(l,0,a)}function k0(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function li(o,l,a){let u=Vr(o,l);return u>=0?o[1|u]=a:(u=~u,function i5(o,l,a,u){let v=o.length;if(v==l)o.push(a,u);else if(1===v)o.push(u,o[0]),o[0]=a;else{for(v--,o.push(o[v-1],o[v]);v>l;)o[v]=o[v-2],v--;o[l]=a,o[l+1]=u}}(o,u,l,a)),u}function s5(o,l){const a=Vr(o,l);if(a>=0)return o[1|a]}function Vr(o,l){return function Qf(o,l,a){let u=0,v=o.length>>a;for(;v!==u;){const m=u+(v-u>>1),p=o[m<<a];if(l===p)return m<<a;p>l?v=m:u=m+1}return~(v<<a)}(o,l,1)}function Zf(){return this._results[Symbol.iterator]()}class N0{static#e=Symbol.iterator;get changes(){return this._changes??=new l1}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=N0.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Zf)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,a){return this._results.reduce(l,a)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,a){this.dirty=!1;const u=function Y1(o){return o.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function hd(o,l,a){if(o.length!==l.length)return!1;for(let u=0;u<o.length;u++){let v=o[u],m=l[u];if(a&&(v=a(v),m=a(m)),m!==v)return!1}return!0}(this._results,u,a))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(l){this._onDirty=l}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function F0(o){return 128==(128&o.flags)}function tp(o){o5=o}function Ts(){if(void 0!==o5)return o5;if(typeof document<"u")return document;throw new Ke(210,!1)}function Vn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function r5(o){return{providers:o.providers||[],imports:o.imports||[]}}function G0(o){return np(o,c5)||np(o,U0)}function Ix(o){return null!==G0(o)}function np(o,l){return o.hasOwnProperty(l)?o[l]:null}function l5(o){return o&&(o.hasOwnProperty(dd)||o.hasOwnProperty(ip))?o[dd]:null}const c5=Zt({\u0275prov:Zt}),dd=Zt({\u0275inj:Zt}),U0=Zt({ngInjectableDef:Zt}),ip=Zt({ngInjectorDef:Zt});class At{constructor(l,a){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Vn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const a5=new At("",{providedIn:"root",factory:()=>Dx}),Dx="ng",sp=new At(""),vd=new At("",{providedIn:"platform",factory:()=>"unknown"}),Ax=new At(""),Ox=new At("",{providedIn:"root",factory:()=>Ts().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Si=Zt({__forward_ref__:Zt});function po(o){return o.__forward_ref__=po,o.toString=function(){return In(this())},o}function Je(o){return st(o)?o():o}function st(o){return"function"==typeof o&&o.hasOwnProperty(Si)&&o.__forward_ref__===po}function d5(o){return o&&!!o.\u0275providers}function Ct(o){return"string"==typeof o?o:null==o?"":String(o)}function W0(o,l){throw new Ke(-201,!1)}let v5;function Ir(){return v5}function a1(o){const l=v5;return v5=o,l}function fd(o,l,a){const u=G0(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&kt.Optional?null:void 0!==l?l:void W0()}const Dr={},g5="__NG_DI_FLAG__",y2="ngTempTokenPath",Ar=/\n/gm,q0="__source";let M2;function qn(o){const l=M2;return M2=o,l}function x2(o,l=kt.Default){if(void 0===M2)throw new Ke(-203,!1);return null===M2?fd(o,void 0,l):M2.get(o,l&kt.Optional?null:void 0,l)}function n1(o,l=kt.Default){return(Ir()||x2)(Je(o),l)}function vt(o,l=kt.Default){return n1(o,wo(l))}function wo(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function K0(o){const l=[];for(let a=0;a<o.length;a++){const u=Je(o[a]);if(Array.isArray(u)){if(0===u.length)throw new Ke(900,!1);let v,m=kt.Default;for(let p=0;p<u.length;p++){const w=u[p],z=_o(w);"number"==typeof z?-1===z?v=w.token:m|=z:v=w}l.push(n1(v,m))}else l.push(n1(u))}return l}function Rc(o,l){return o[g5]=l,o.prototype[g5]=l,o}function _o(o){return o[g5]}let f5=()=>null;function Z0(o,l,a=!1){return f5(o,l,a)}const S2="__parameters__";function jr(o,l,a){return Mi(()=>{const u=function e4(o){return function(...a){if(o){const u=o(...a);for(const v in u)this[v]=u[v]}}}(l);function v(...m){if(this instanceof v)return u.apply(this,m),this;const p=new v(...m);return w.annotation=p,w;function w(z,M,S){const H=z.hasOwnProperty(S2)?z[S2]:Object.defineProperty(z,S2,{value:[]})[S2];for(;H.length<=S;)H.push(null);return(H[S]=H[S]||[]).push(p),z}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=o,v.annotationCls=v,v})}const Cd=Rc(jr("Inject",o=>({token:o})),-1),Wr=Rc(jr("Optional"),8),t4=Rc(jr("SkipSelf"),4);function Mo(o,l){return o.hasOwnProperty(V1)?o[V1]:null}const xo=new At(""),Md=new At("",-1),_5=new At("");class Gc{get(l,a=Dr){if(a===Dr){const u=new Error(`NullInjectorError: No provider for ${In(l)}!`);throw u.name="NullInjectorError",u}return a}}function Uc(o){return{\u0275providers:o}}function xd(...o){return{\u0275providers:L2(0,o),\u0275fromNgModule:!0}}function L2(o,...l){const a=[],u=new Set;let v;const m=p=>{a.push(p)};return fo(l,p=>{const w=p;$c(w,m,[],u)&&(v||=[],v.push(w))}),void 0!==v&&bd(v,m),a}function bd(o,l){for(let a=0;a<o.length;a++){const{ngModule:u,providers:v}=o[a];qr(v,m=>{l(m,u)})}}function $c(o,l,a,u){if(!(o=Je(o)))return!1;let v=null,m=l5(o);const p=!m&&qe(o);if(m||p){if(p&&!p.standalone)return!1;v=o}else{const z=o.ngModule;if(m=l5(z),!m)return!1;v=z}const w=u.has(v);if(p){if(w)return!1;if(u.add(v),p.dependencies){const z="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const M of z)$c(M,l,a,u)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let M;u.add(v);try{fo(m.imports,S=>{$c(S,l,a,u)&&(M||=[],M.push(S))})}finally{}void 0!==M&&bd(M,l)}if(!w){const M=Mo(v)||(()=>new v);l({provide:v,useFactory:M,deps:Nt},v),l({provide:_5,useValue:v,multi:!0},v),l({provide:xo,useValue:()=>n1(v),multi:!0},v)}const z=m.providers;if(null!=z&&!w){const M=o;qr(z,S=>{l(S,M)})}}}return v!==o&&void 0!==o.providers}function qr(o,l){for(let a of o)d5(a)&&(a=a.\u0275providers),Array.isArray(a)?qr(a,l):l(a)}const jc=Zt({provide:String,useValue:Zt});function Wc(o){return null!==o&&"object"==typeof o&&jc in o}function bo(o){return"function"==typeof o}const C5=new At(""),i4={},fp={};let s4;function V2(){return void 0===s4&&(s4=new Gc),s4}class Ui{}class H2 extends Ui{get destroyed(){return this._destroyed}constructor(l,a,u,v){super(),this.parent=a,this.source=u,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Q1(l,p=>this.processProvider(p)),this.records.set(Md,Tt(void 0,this)),v.has("environment")&&this.records.set(Ui,Tt(void 0,this));const m=this.records.get(C5);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(_5,Nt,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const l=T(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of a)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),T(l)}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const a=qn(this),u=a1(void 0);try{return l()}finally{qn(a),a1(u)}}get(l,a=Dr,u=kt.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(zr))return l[zr](this);u=wo(u);const m=qn(this),p=a1(void 0);try{if(!(u&kt.SkipSelf)){let z=this.records.get(l);if(void 0===z){const M=function Bs(o){return"function"==typeof o||"object"==typeof o&&o instanceof At}(l)&&G0(l);z=M&&this.injectableDefInScope(M)?Tt(M5(l),i4):null,this.records.set(l,z)}if(null!=z)return this.hydrate(l,z)}return(u&kt.Self?V2():this.parent).get(l,a=u&kt.Optional&&a===Dr?null:a)}catch(w){if("NullInjectorError"===w.name){if((w[y2]=w[y2]||[]).unshift(In(l)),m)throw w;return function Or(o,l,a,u){const v=o[y2];throw l[q0]&&v.unshift(l[q0]),o.message=function w1(o,l,a,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let v=In(l);if(Array.isArray(l))v=l.map(In).join(" -> ");else if("object"==typeof l){let m=[];for(let p in l)if(l.hasOwnProperty(p)){let w=l[p];m.push(p+":"+("string"==typeof w?JSON.stringify(w):In(w)))}v=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${v}]: ${o.replace(Ar,"\n  ")}`}("\n"+o.message,v,a,u),o.ngTokenPath=v,o[y2]=null,o}(w,l,"R3InjectorError",this.source)}throw w}finally{a1(p),qn(m)}}resolveInjectorInitializers(){const l=T(null),a=qn(this),u=a1(void 0);try{const m=this.get(xo,Nt,kt.Self);for(const p of m)p()}finally{qn(a),a1(u),T(l)}}toString(){const l=[],a=this.records;for(const u of a.keys())l.push(In(u));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(l){let a=bo(l=Je(l))?l:Je(l&&l.provide);const u=function Sd(o){return Wc(o)?Tt(void 0,o.useValue):Tt(Kr(o),i4)}(l);if(!bo(l)&&!0===l.multi){let v=this.records.get(a);v||(v=Tt(void 0,i4,!0),v.factory=()=>K0(v.multi),this.records.set(a,v)),a=l,v.multi.push(l)}this.records.set(a,u)}hydrate(l,a){const u=T(null);try{return a.value===i4&&(a.value=fp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function o4(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{T(u)}}injectableDefInScope(l){if(!l.providedIn)return!1;const a=Je(l.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(l){const a=this._onDestroyHooks.indexOf(l);-1!==a&&this._onDestroyHooks.splice(a,1)}}function M5(o){const l=G0(o),a=null!==l?l.factory:Mo(o);if(null!==a)return a;if(o instanceof At)throw new Ke(204,!1);if(o instanceof Function)return function Ed(o){if(o.length>0)throw new Ke(204,!1);const a=function Tx(o){return o&&(o[c5]||o[U0])||null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new Ke(204,!1)}function Kr(o,l,a){let u;if(bo(o)){const v=Je(o);return Mo(v)||M5(v)}if(Wc(o))u=()=>Je(o.useValue);else if(function y5(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...K0(o.deps||[]));else if(function z5(o){return!(!o||!o.useExisting)}(o))u=()=>n1(Je(o.useExisting));else{const v=Je(o&&(o.useClass||o.provide));if(!function hs(o){return!!o.deps}(o))return Mo(v)||M5(v);u=()=>new v(...K0(o.deps))}return u}function Tt(o,l,a=!1){return{factory:o,value:l,multi:a?[]:void 0}}function Q1(o,l){for(const a of o)Array.isArray(a)?Q1(a,l):a&&d5(a)?Q1(a.\u0275providers,l):l(a)}function r4(o,l){o instanceof H2&&o.assertNotDestroyed();const u=qn(o),v=a1(void 0);try{return l()}finally{qn(u),a1(v)}}function us(o){if(!Ir()&&!function Et(){return M2}())throw new Ke(-203,!1)}class a4{constructor(l,a,u){this.previousValue=l,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function xp(o,l,a,u){null!==l?l.applyValueToInputSignal(l,u):o[a]=u}function x5(){return Qr}function Qr(o){return o.type.prototype.ngOnChanges&&(o.setInput=b5),Hd}function Hd(){const o=Hi(this),l=o?.current;if(l){const a=o.previous;if(a===xi)o.previous=l;else for(let u in l)a[u]=l[u];o.current=null,this.ngOnChanges(l)}}function b5(o,l,a,u,v){const m=this.declaredInputs[u],p=Hi(o)||function Zr(o,l){return o[h4]=l}(o,{previous:xi,current:null}),w=p.current||(p.current={}),z=p.previous,M=z[m];w[m]=new a4(M&&M.currentValue,a,z===xi),xp(o,l,v,a)}x5.ngInherit=!0;const h4="__ngSimpleChanges__";function Hi(o){return o[h4]||null}const ds=function(o,l,a){};function Xr(o,l){for(let a=l.directiveStart,u=l.directiveEnd;a<u;a++){const m=o.data[a].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:w,ngAfterViewInit:z,ngAfterViewChecked:M,ngOnDestroy:S}=m;p&&(o.contentHooks??=[]).push(-a,p),w&&((o.contentHooks??=[]).push(a,w),(o.contentCheckHooks??=[]).push(a,w)),z&&(o.viewHooks??=[]).push(-a,z),M&&((o.viewHooks??=[]).push(a,M),(o.viewCheckHooks??=[]).push(a,M)),null!=S&&(o.destroyHooks??=[]).push(a,S)}}function Jr(o,l,a){E5(o,l,3,a)}function Kc(o,l,a,u){(3&o[ct])===a&&E5(o,l,a,u)}function Yc(o,l){let a=o[ct];(3&a)===l&&(a&=16383,a+=1,o[ct]=a)}function E5(o,l,a,u){const m=u??-1,p=l.length-1;let w=0;for(let z=void 0!==u?65535&o[Lc]:0;z<p;z++)if("number"==typeof l[z+1]){if(w=l[z],null!=u&&w>=u)break}else l[z]<0&&(o[Lc]+=65536),(w<m||-1==m)&&(S5(o,a,l,z),o[Lc]=(4294901760&o[Lc])+z+2),z++}function d4(o,l){ds(4,o,l);const a=T(null);try{l.call(o)}finally{T(a),ds(5,o,l)}}function S5(o,l,a,u){const v=a[u]<0,m=a[u+1],w=o[v?-a[u]:a[u]];v?o[ct]>>14<o[Lc]>>16&&(3&o[ct])===l&&(o[ct]+=16384,d4(w,m)):d4(w,m)}const Eo=-1;class So{constructor(l,a,u){this.factory=l,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function v4(o){return o!==Eo}function tl(o){return 32767&o}function Zc(o,l){let a=function Dd(o){return o>>16}(o),u=l;for(;a>0;)u=u[Er],a--;return u}let g4=!0;function Xc(o){const l=g4;return g4=o,l}const Sp=255,Lp=5;let jx=0;const Ps={};function L5(o,l){const a=Ad(o,l);if(-1!==a)return a;const u=l[Ge];u.firstCreatePass&&(o.injectorIndex=l.length,V5(u.data,o),V5(l,null),V5(u.blueprint,null));const v=nl(o,l),m=o.injectorIndex;if(v4(v)){const p=tl(v),w=Zc(v,l),z=w[Ge].data;for(let M=0;M<8;M++)l[m+M]=w[p+M]|z[p+M]}return l[m+8]=v,m}function V5(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Ad(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function nl(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,u=null,v=l;for(;null!==v;){if(u=Rd(v),null===u)return Eo;if(a++,v=v[Er],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return Eo}function Ii(o,l,a){!function Vp(o,l,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(oo)&&(u=a[oo]),null==u&&(u=a[oo]=jx++);const v=u&Sp;l.data[o+(v>>Lp)]|=1<<v}(o,l,a)}function il(o,l,a){if(a&kt.Optional||void 0!==o)return o;W0()}function Ip(o,l,a,u){if(a&kt.Optional&&void 0===u&&(u=null),!(a&(kt.Self|kt.Host))){const v=o[g1],m=a1(void 0);try{return v?v.get(l,u,a&kt.Optional):fd(l,u,a&kt.Optional)}finally{a1(m)}}return il(u,0,a)}function Od(o,l,a,u=kt.Default,v){if(null!==o){if(2048&l[ct]&&!(u&kt.Self)){const p=function Dp(o,l,a,u,v){let m=o,p=l;for(;null!==m&&null!==p&&2048&p[ct]&&!(512&p[ct]);){const w=Bd(m,p,a,u|kt.Self,Ps);if(w!==Ps)return w;let z=m.parent;if(!z){const M=p[Gh];if(M){const S=M.get(a,Ps,u);if(S!==Ps)return S}z=Rd(p),p=p[Er]}m=z}return v}(o,l,a,u,Ps);if(p!==Ps)return p}const m=Bd(o,l,a,u,Ps);if(m!==Ps)return m}return Ip(l,a,u,v)}function Bd(o,l,a,u,v){const m=function Tp(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(oo)?o[oo]:void 0;return"number"==typeof l?l>=0?l&Sp:Jc:l}(a);if("function"==typeof m){if(!cd(l,o,u))return u&kt.Host?il(v,0,u):Ip(l,a,u,v);try{let p;if(p=m(u),null!=p||u&kt.Optional)return p;W0()}finally{Jh()}}else if("number"==typeof m){let p=null,w=Ad(o,l),z=Eo,M=u&kt.Host?l[Ln][x1]:null;for((-1===w||u&kt.SkipSelf)&&(z=-1===w?nl(o,l):l[w+8],z!==Eo&&sl(u,!1)?(p=l[Ge],w=tl(z),l=Zc(z,l)):w=-1);-1!==w;){const S=l[Ge];if(Ho(m,w,S.data)){const H=Pd(w,l,a,p,u,M);if(H!==Ps)return H}z=l[w+8],z!==Eo&&sl(u,l[Ge].data[w+8]===M)&&Ho(m,w,l)?(p=S,w=tl(z),l=Zc(z,l)):w=-1}}return v}function Pd(o,l,a,u,v,m){const p=l[Ge],w=p.data[o+8],S=Lo(w,p,a,null==u?ls(w)&&g4:u!=p&&0!=(3&w.type),v&kt.Host&&m===w);return null!==S?Vo(l,p,S,w):Ps}function Lo(o,l,a,u,v){const m=o.providerIndexes,p=l.data,w=1048575&m,z=o.directiveStart,S=m>>20,$=v?w+S:o.directiveEnd;for(let K=u?w:w+S;K<$;K++){const ce=p[K];if(K<z&&a===ce||K>=z&&ce.type===a)return K}if(v){const K=p[z];if(K&&bi(K)&&K.type===a)return z}return null}function Vo(o,l,a,u){let v=o[a];const m=l.data;if(function bp(o){return o instanceof So}(v)){const p=v;p.resolving&&function lp(o,l){throw l&&l.join(" > "),new Ke(-200,o)}(function jt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ct(o)}(m[a]));const w=Xc(p.canSeeViewProviders);p.resolving=!0;const M=p.injectImpl?a1(p.injectImpl):null;cd(o,u,kt.Default);try{v=o[a]=p.factory(void 0,m,o,u),l.firstCreatePass&&a>=u.directiveStart&&function I2(o,l,a){const{ngOnChanges:u,ngOnInit:v,ngDoCheck:m}=l.type.prototype;if(u){const p=Qr(l);(a.preOrderHooks??=[]).push(o,p),(a.preOrderCheckHooks??=[]).push(o,p)}v&&(a.preOrderHooks??=[]).push(0-o,v),m&&((a.preOrderHooks??=[]).push(o,m),(a.preOrderCheckHooks??=[]).push(o,m))}(a,m[a],l)}finally{null!==M&&a1(M),Xc(w),p.resolving=!1,Jh()}}return v}function Ho(o,l,a){return!!(a[l+(o>>Lp)]&1<<o)}function sl(o,l){return!(o&kt.Self||o&kt.Host&&l)}class An{constructor(l,a){this._tNode=l,this._lView=a}get(l,a,u){return Od(this._tNode,this._lView,l,wo(u),a)}}function Jc(){return new An(an(),me())}function kd(o){return Mi(()=>{const l=o.prototype.constructor,a=l[V1]||H5(l),u=Object.prototype;let v=Object.getPrototypeOf(o.prototype).constructor;for(;v&&v!==u;){const m=v[V1]||H5(v);if(m&&m!==a)return m;v=Object.getPrototypeOf(v)}return m=>new m})}function H5(o){return st(o)?()=>{const l=H5(Je(o));return l&&l()}:Mo(o)}function Rd(o){const l=o[Ge],a=l.type;return 2===a?l.declTNode:1===a?o[x1]:null}function I5(o){return function Hp(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const a=o.attrs;if(a){const u=a.length;let v=0;for(;v<u;){const m=a[v];if(yc(m))break;if(0===m)v+=2;else if("number"==typeof m)for(v++;v<u&&"string"==typeof a[v];)v++;else{if(m===l)return a[v+1];v+=2}}}return null}(an(),o)}function Ud(o,l=null,a=null,u){const v=m4(o,l,a,u);return v.resolveInjectorInitializers(),v}function m4(o,l=null,a=null,u,v=new Set){const m=[a||Nt,xd(o)];return u=u||("object"==typeof o?void 0:In(o)),new H2(m,l||V2(),u||null,v)}let T1=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=Dr;static#t=this.NULL=new Gc;static create(a,u){if(Array.isArray(a))return Ud({name:""},u,a,"");{const v=a.name??"";return Ud({name:v},a.parent,a.providers,v)}}static#n=this.\u0275prov=Vn({token:o,providedIn:"any",factory:()=>n1(Md)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function D5(o){return o.ngOriginalError}class T2{constructor(){this._console=console}handleError(l){const a=this._findOriginalError(l);this._console.error("ERROR",l),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(l){let a=l&&D5(l);for(;a&&D5(a);)a=D5(a);return a||null}}const $d=new At("",{providedIn:"root",factory:()=>vt(T2).handleError.bind(void 0)}),f4=new At("",{providedIn:"root",factory:()=>!1});let p4,To;function al(o){return function w4(){if(void 0===p4&&(p4=null,cn.trustedTypes))try{p4=cn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return p4}()?.createHTML(o)||o}function A5(){if(void 0===To&&(To=null,cn.trustedTypes))try{To=cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return To}function Wd(o){return A5()?.createHTML(o)||o}function Kd(o){return A5()?.createScriptURL(o)||o}class Do{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oi})`}}class $p extends Do{getTypeName(){return"HTML"}}class jp extends Do{getTypeName(){return"Style"}}class Wp extends Do{getTypeName(){return"Script"}}class Yd extends Do{getTypeName(){return"URL"}}class qx extends Do{getTypeName(){return"ResourceURL"}}function Rs(o){return o instanceof Do?o.changingThisBreaksApplicationSecurity:o}function hl(o,l){const a=function qp(o){return o instanceof Do&&o.getTypeName()||null}(o);if(null!=a&&a!==l){if("ResourceURL"===a&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${a} (see ${oi})`)}return a===l}function Kp(o){return new $p(o)}function Qd(o){return new jp(o)}function Yp(o){return new Wp(o)}function Qp(o){return new Yd(o)}function Zp(o){return new qx(o)}class Zd{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const a=(new window.DOMParser).parseFromString(al(l),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(l):(a.removeChild(a.firstChild),a)}catch{return null}}}class Xp{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const a=this.inertDocument.createElement("template");return a.innerHTML=al(l),a}}const dl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vl(o){return(o=String(o)).match(dl)?o:"unsafe:"+o}function Ns(o){const l={};for(const a of o.split(","))l[a]=!0;return l}function ea(...o){const l={};for(const a of o)for(const u in a)a.hasOwnProperty(u)&&(l[u]=!0);return l}const O5=Ns("area,br,col,hr,img,wbr"),z4=Ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xd=Ns("rp,rt"),B5=ea(O5,ea(z4,Ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ea(Xd,Ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ea(Xd,z4)),gl=Ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jd=ea(gl,Ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tw=Ns("script,style,template");class e7{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let a=l.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let v=this.checkClobberedElement(a,a.nextSibling);if(v){a=v;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(l){const a=l.nodeName.toLowerCase();if(!B5.hasOwnProperty(a))return this.sanitizedSomething=!0,!tw.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=l.attributes;for(let v=0;v<u.length;v++){const m=u.item(v),p=m.name,w=p.toLowerCase();if(!Jd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let z=m.value;gl[w]&&(z=vl(z)),this.buf.push(" ",p,'="',P5(z),'"')}return this.buf.push(">"),!0}endElement(l){const a=l.nodeName.toLowerCase();B5.hasOwnProperty(a)&&!O5.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(l){this.buf.push(P5(l))}checkClobberedElement(l,a){if(a&&(l.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return a}}const nw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ta=/([^\#-~ |!])/g;function P5(o){return o.replace(/&/g,"&amp;").replace(nw,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ta,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let y4;function t7(o,l){let a=null;try{y4=y4||function _4(o){const l=new Xp(o);return function ul(){try{return!!(new window.DOMParser).parseFromString(al(""),"text/html")}catch{return!1}}()?new Zd(l):l}(o);let u=l?String(l):"";a=y4.getInertBodyElement(u);let v=5,m=u;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,u=m,m=a.innerHTML,a=y4.getInertBodyElement(u)}while(u!==m);return al((new e7).sanitizeChildren(k5(a)||a))}finally{if(a){const u=k5(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function k5(o){return"content"in o&&function ci(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Ao=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Ao||{});function n7(o){const l=pl();return l?Wd(l.sanitize(Ao.HTML,o)||""):hl(o,"HTML")?Wd(Rs(o)):t7(Ts(),Ct(o))}function fl(o){const l=pl();return l?l.sanitize(Ao.URL,o)||"":hl(o,"URL")?Rs(o):vl(Ct(o))}function i7(o){const l=pl();if(l)return Kd(l.sanitize(Ao.RESOURCE_URL,o)||"");if(hl(o,"ResourceURL"))return Kd(Rs(o));throw new Ke(904,!1)}function C4(o,l,a){return function iw(o,l){return"src"===l&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===l&&("base"===o||"link"===o)?i7:fl}(l,a)(o)}function pl(){const o=me();return o&&o[Vs].sanitizer}const vs=/^>|^->|<!--|-->|--!>|<!-$/g,ow=/(<|>)/g,eb="\u200b$1\u200b";const N5=new Map;let lw=0;const h7="__ngContext__";function _1(o,l){b1(l)?(o[h7]=l[nn],function l7(o){N5.set(o[nn],o)}(l)):o[h7]=l}function U5(o){return o.ownerDocument.defaultView}function uw(o){return o.ownerDocument}function hi(o){return o instanceof Function?o():o}var Bo=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Bo||{});let A2;function O2(o,l){return A2(o,l)}function ui(o,l,a,u,v){if(null!=u){let m,p=!1;m1(u)?m=u:b1(u)&&(p=!0,u=u[Tn]);const w=dt(u);0===o&&null!==a?null==v?b7(l,a,w):Po(l,a,w,v||null,!0):1===o&&null!==a?Po(l,a,w,v||null,!0):2===o?function ji(o,l,a){const u=S4(o,l);u&&function zw(o,l,a,u){o.removeChild(l,a,u)}(o,u,l,a)}(l,w,p):3===o&&l.destroyNode(w),null!=m&&function mb(o,l,a,u,v){const m=a[Hs];m!==dt(a)&&ui(l,o,u,m,v);for(let w=$n;w<a.length;w++){const z=a[w];H4(z[Ge],z,o,l,u,m)}}(l,o,m,a,v)}}function j5(o,l){return o.createComment(function rw(o){return o.replace(vs,l=>l.replace(ow,eb))}(l))}function b4(o,l,a){return o.createElement(l,a)}function C7(o,l){H4(o,l,l[zt],2,null,null)}function M7(o,l){const a=o[Sr],u=a.indexOf(l);a.splice(u,1)}function oa(o,l){if(o.length<=$n)return;const a=$n+l,u=o[a];if(u){const v=u[ao];null!==v&&v!==o&&M7(v,u),l>0&&(o[a-1][Fi]=u[Fi]);const m=k0(o,$n+l);!function vw(o,l){C7(o,l),l[Tn]=null,l[x1]=null}(u[Ge],u);const p=m[m2];null!==p&&p.detachView(m[Ge]),u[Un]=null,u[Fi]=null,u[ct]&=-129}return u}function E4(o,l){if(!(256&l[ct])){const a=l[zt];a.destroyNode&&H4(o,l,a,3,null,null),function mw(o){let l=o[Sc];if(!l)return W5(o[Ge],o);for(;l;){let a=null;if(b1(l))a=l[Sc];else{const u=l[$n];u&&(a=u)}if(!a){for(;l&&!l[Fi]&&l!==o;)b1(l)&&W5(l[Ge],l),l=l[Un];null===l&&(l=o),b1(l)&&W5(l[Ge],l),a=l&&l[Fi]}l=a}}(l)}}function W5(o,l){if(256&l[ct])return;const a=T(null);try{l[ct]&=-129,l[ct]|=256,l[ho]&&q(l[ho]),function _w(o,l){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let u=0;u<a.length;u+=2){const v=l[a[u]];if(!(v instanceof So)){const m=a[u+1];if(Array.isArray(m))for(let p=0;p<m.length;p+=2){const w=v[m[p]],z=m[p+1];ds(4,w,z);try{z.call(w)}finally{ds(5,w,z)}}else{ds(4,v,m);try{m.call(v)}finally{ds(5,v,m)}}}}}(o,l),function ww(o,l){const a=o.cleanup,u=l[br];if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const p=a[m+3];p>=0?u[p]():u[-p].unsubscribe(),m+=2}else a[m].call(u[a[m+1]]);null!==u&&(l[br]=null);const v=l[f2];if(null!==v){l[f2]=null;for(let m=0;m<v.length;m++)(0,v[m])()}}(o,l),1===l[Ge].type&&l[zt].destroy();const u=l[ao];if(null!==u&&m1(l[Un])){u!==l[Un]&&M7(u,l);const v=l[m2];null!==v&&v.detachView(o)}!function ib(o){N5.delete(o[nn])}(l)}finally{T(a)}}function q5(o,l,a){return function x7(o,l,a){let u=l;for(;null!==u&&40&u.type;)u=(l=u).parent;if(null===u)return a[Tn];{const{componentOffset:v}=u;if(v>-1){const{encapsulation:m}=o.data[u.directiveStart+v];if(m===rs.None||m===rs.Emulated)return null}return q1(u,a)}}(o,l.parent,a)}function Po(o,l,a,u,v){o.insertBefore(l,a,u,v)}function b7(o,l,a){o.appendChild(l,a)}function E7(o,l,a,u,v){null!==u?Po(o,l,a,u,v):b7(o,l,a)}function S4(o,l){return o.parentNode(l)}function S7(o,l,a){return V7(o,l,a)}let K5,V7=function L7(o,l,a){return 40&o.type?q1(o,a):null};function L4(o,l,a,u){const v=q5(o,u,l),m=l[zt],w=S7(u.parent||l[x1],u,l);if(null!=v)if(Array.isArray(a))for(let z=0;z<a.length;z++)E7(m,v,a[z],w,!1);else E7(m,v,a,w,!1);void 0!==K5&&K5(m,u,l,a,v)}function ra(o,l){if(null!==l){const a=l.type;if(3&a)return q1(l,o);if(4&a)return Y5(-1,o[l.index]);if(8&a){const u=l.child;if(null!==u)return ra(o,u);{const v=o[l.index];return m1(v)?Y5(-1,v):dt(v)}}if(32&a)return O2(l,o)()||dt(o[l.index]);{const u=I7(o,l);return null!==u?Array.isArray(u)?u[0]:ra(p2(o[Ln]),u):ra(o,l.next)}}return null}function I7(o,l){return null!==l?o[Ln][x1].projection[l.projection]:null}function Y5(o,l){const a=$n+o+1;if(a<l.length){const u=l[a],v=u[Ge].firstChild;if(null!==v)return ra(u,v)}return l[Hs]}function Q5(o,l,a,u,v,m,p){for(;null!=a;){const w=u[a.index],z=a.type;if(p&&0===l&&(w&&_1(dt(w),u),a.flags|=2),32!=(32&a.flags))if(8&z)Q5(o,l,a.child,u,v,m,!1),ui(l,o,v,w,m);else if(32&z){const M=O2(a,u);let S;for(;S=M();)ui(l,o,v,S,m);ui(l,o,v,w,m)}else 16&z?Mw(o,l,u,a,v,m):ui(l,o,v,w,m);a=p?a.projectionNext:a.next}}function H4(o,l,a,u,v,m){Q5(a,u,o.firstChild,l,v,m,!1)}function Mw(o,l,a,u,v,m){const p=a[Ln],z=p[x1].projection[u.projection];if(Array.isArray(z))for(let M=0;M<z.length;M++)ui(l,o,v,z[M],m);else{let M=z;const S=p[Un];F0(u)&&(M.flags|=128),Q5(o,l,M,S,v,m,!0)}}function Ew(o,l,a){""===a?o.removeAttribute(l,"class"):o.setAttribute(l,"class",a)}function Sw(o,l,a){const{mergedAttrs:u,classes:v,styles:m}=a;null!==u&&ro(o,l,u),null!==v&&Ew(o,l,v),null!==m&&function bw(o,l,a){o.setAttribute(l,"style",a)}(o,l,m)}const Lt={};function Z5(o=1){Lw(Ft(),me(),f1()+o,!1)}function Lw(o,l,a,u){if(!u)if(3==(3&l[ct])){const m=o.preOrderCheckHooks;null!==m&&Jr(l,m,a)}else{const m=o.preOrderHooks;null!==m&&Kc(l,m,0,a)}go(a)}function la(o,l=kt.Default){const a=me();return null===a?n1(o,l):Od(an(),a,Je(o),l)}function T7(){throw new Error("invalid")}function Vw(o,l,a,u,v,m){const p=T(null);try{let w=null;v&Ni.SignalBased&&(w=l[u][r]),null!==w&&void 0!==w.transformFn&&(m=w.transformFn(m)),v&Ni.HasDecoratorInputTransform&&(m=o.inputTransforms[u].call(l,m)),null!==o.setInput?o.setInput(l,w,m,a,u):xp(l,w,u,m)}finally{T(p)}}function ca(o,l,a,u,v,m,p,w,z,M,S){const H=l.blueprint.slice();return H[Tn]=v,H[ct]=204|u,(null!==M||o&&2048&o[ct])&&(H[ct]|=2048),Kh(H),H[Un]=H[Er]=o,H[yn]=a,H[Vs]=p||o&&o[Vs],H[zt]=w||o&&o[zt],H[g1]=z||o&&o[g1]||null,H[x1]=m,H[nn]=function nb(){return lw++}(),H[Gi]=S,H[Gh]=M,H[Ln]=2==l.type?o[Ln]:H,H}function B2(o,l,a,u,v){let m=o.data[l];if(null===m)m=function X5(o,l,a,u,v){const m=Ff(),p=rd(),z=o.data[l]=function Cb(o,l,a,u,v,m){let p=l?l.injectorIndex:-1,w=0;return Tc()&&(w|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:v,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?m:m&&m.parent,a,l,u,v);return null===o.firstChild&&(o.firstChild=z),null!==m&&(p?null==m.child&&null!==z.parent&&(m.child=z):null===m.next&&(m.next=z,z.prev=m)),z}(o,l,a,u,v),function D0(){return yt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=a,m.value=u,m.attrs=v;const p=function Dc(){const o=yt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();m.injectorIndex=null===p?-1:p.injectorIndex}return cs(m,!0),m}function aa(o,l,a,u){if(0===a)return-1;const v=l.length;for(let m=0;m<a;m++)l.push(u),o.blueprint.push(u),o.data.push(null);return v}function ha(o,l,a,u,v){const m=f1(),p=2&u;try{go(-1),p&&l.length>lt&&Lw(o,l,lt,!1),ds(p?2:0,v),a(u,v)}finally{go(m),ds(p?3:1,v)}}function Z1(o,l,a){if(Ku(l)){const u=T(null);try{const m=l.directiveEnd;for(let p=l.directiveStart;p<m;p++){const w=o.data[p];w.contentQueries&&w.contentQueries(1,a[p],p)}}finally{T(u)}}}function J5(o,l,a){Rf()&&(function Ow(o,l,a,u){const v=a.directiveStart,m=a.directiveEnd;ls(a)&&function Hb(o,l,a){const u=q1(l,o),v=Hw(a);let p=16;a.signals?p=4096:a.onPush&&(p=64);const w=n6(o,ca(o,v,null,p,u,l,null,o[Vs].rendererFactory.createRenderer(u,a),null,null,null));o[l.index]=w}(l,a,o.data[v+a.componentOffset]),o.firstCreatePass||L5(a,l),_1(u,l);const p=a.initialInputs;for(let w=v;w<m;w++){const z=o.data[w],M=Vo(l,o,w,a);_1(M,l),null!==p&&Ib(0,w-v,M,z,0,p),bi(z)&&(Ei(a.index,l)[yn]=Vo(l,o,w,a))}}(o,l,a,q1(a,l)),64==(64&a.flags)&&k7(o,l,a))}function A7(o,l,a=q1){const u=l.localNames;if(null!==u){let v=l.index+1;for(let m=0;m<u.length;m+=2){const p=u[m+1],w=-1===p?a(l,o):o[p];o[v++]=w}}}function Hw(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=I4(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):l}function I4(o,l,a,u,v,m,p,w,z,M,S){const H=lt+u,$=H+v,K=function fb(o,l){const a=[];for(let u=0;u<l;u++)a.push(u<o?null:Lt);return a}(H,$),ce="function"==typeof M?M():M;return K[Ge]={type:o,blueprint:K,template:a,queries:null,viewQuery:w,declTNode:l,data:K.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:z,consts:ce,incompleteFirstPass:!1,ssrId:S}}let Iw=()=>null;function O7(o,l,a,u,v){for(let m in l){if(!l.hasOwnProperty(m))continue;const p=l[m];if(void 0===p)continue;u??={};let w,z=Ni.None;Array.isArray(p)?(w=p[0],z=p[1]):w=p;let M=m;if(null!==v){if(!v.hasOwnProperty(m))continue;M=v[m]}0===o?B7(u,a,M,w,z):B7(u,a,M,w)}return u}function B7(o,l,a,u,v){let m;o.hasOwnProperty(a)?(m=o[a]).push(l,u):m=o[a]=[l,u],void 0!==v&&m.push(v)}function di(o,l,a,u,v,m,p,w){const z=q1(l,a);let S,M=l.inputs;!w&&null!=M&&(S=M[u])?(s6(o,a,S,u,v),ls(l)&&function xb(o,l){const a=Ei(l,o);16&a[ct]||(a[ct]|=64)}(a,l.index)):3&l.type&&(u=function e6(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),v=null!=p?p(v,l.value||"",u):v,m.setProperty(z,u,v))}function P7(o,l,a,u){if(Rf()){const v=null===u?null:{"":-1},m=function N7(o,l){const a=o.directiveRegistry;let u=null,v=null;if(a)for(let m=0;m<a.length;m++){const p=a[m];if(xc(l,p.selectors,!1))if(u||(u=[]),bi(p))if(null!==p.findHostDirectiveDefs){const w=[];v=v||new Map,p.findHostDirectiveDefs(p,w,v),u.unshift(...w,p),ua(o,l,w.length)}else u.unshift(p),ua(o,l,0);else v=v||new Map,p.findHostDirectiveDefs?.(p,u,v),u.push(p)}return null===u?null:[u,v]}(o,a);let p,w;null===m?p=w=null:[p,w]=m,null!==p&&Tw(o,l,a,p,v,w),v&&function t6(o,l,a){if(l){const u=o.localNames=[];for(let v=0;v<l.length;v+=2){const m=a[l[v+1]];if(null==m)throw new Ke(-301,!1);u.push(l[v],m)}}}(a,u,v)}a.mergedAttrs=g2(a.mergedAttrs,a.attrs)}function Tw(o,l,a,u,v,m){for(let M=0;M<u.length;M++)Ii(L5(a,l),o,u[M].type);!function Lb(o,l,a){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+a,o.providerIndexes=l}(a,o.data.length,u.length);for(let M=0;M<u.length;M++){const S=u[M];S.providersResolver&&S.providersResolver(S)}let p=!1,w=!1,z=aa(o,l,u.length,null);for(let M=0;M<u.length;M++){const S=u[M];a.mergedAttrs=g2(a.mergedAttrs,S.hostAttrs),Vb(o,a,l,z,S),Sb(z,S,v),null!==S.contentQueries&&(a.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(a.flags|=64);const H=S.type.prototype;!p&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((o.preOrderHooks??=[]).push(a.index),p=!0),!w&&(H.ngOnChanges||H.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(a.index),w=!0),z++}!function Mb(o,l,a){const v=l.directiveEnd,m=o.data,p=l.attrs,w=[];let z=null,M=null;for(let S=l.directiveStart;S<v;S++){const H=m[S],$=a?a.get(H):null,ce=$?$.outputs:null;z=O7(0,H.inputs,S,z,$?$.inputs:null),M=O7(1,H.outputs,S,M,ce);const ze=null===z||null===p||e1(l)?null:Tb(z,S,p);w.push(ze)}null!==z&&(z.hasOwnProperty("class")&&(l.flags|=8),z.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=w,l.inputs=z,l.outputs=M}(o,a,m)}function k7(o,l,a){const u=a.directiveStart,v=a.directiveEnd,m=a.index,p=function jf(){return yt.lFrame.currentDirectiveIndex}();try{go(m);for(let w=u;w<v;w++){const z=o.data[w],M=l[w];Ac(w),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&R7(z,M)}}finally{go(-1),Ac(p)}}function R7(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function ua(o,l,a){l.componentOffset=a,(o.components??=[]).push(l.index)}function Sb(o,l,a){if(a){if(l.exportAs)for(let u=0;u<l.exportAs.length;u++)a[l.exportAs[u]]=o;bi(l)&&(a[""]=o)}}function Vb(o,l,a,u,v){o.data[u]=v;const m=v.factory||(v.factory=Mo(v.type)),p=new So(m,bi(v),la);o.blueprint[u]=p,a[u]=p,function Dw(o,l,a,u,v){const m=v.hostBindings;if(m){let p=o.hostBindingOpCodes;null===p&&(p=o.hostBindingOpCodes=[]);const w=~l.index;(function Aw(o){let l=o.length;for(;l>0;){const a=o[--l];if("number"==typeof a&&a<0)return a}return 0})(p)!=w&&p.push(w),p.push(a,u,m)}}(o,l,u,aa(o,a,v.hostVars,Lt),v)}function Gs(o,l,a,u,v,m){const p=q1(o,l);!function F7(o,l,a,u,v,m,p){if(null==m)o.removeAttribute(l,v,a);else{const w=null==p?Ct(m):p(m,u||"",v);o.setAttribute(l,v,w,a)}}(l[zt],p,m,o.value,a,u,v)}function Ib(o,l,a,u,v,m){const p=m[l];if(null!==p)for(let w=0;w<p.length;)Vw(u,a,p[w++],p[w++],p[w++],p[w++])}function Tb(o,l,a){let u=null,v=0;for(;v<a.length;){const m=a[v];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const p=o[m];for(let w=0;w<p.length;w+=3)if(p[w]===l){u.push(m,p[w+1],p[w+2],a[v+1]);break}}v+=2}else v+=2;else v+=4}return u}function Bw(o,l,a,u){return[o,!0,0,l,null,u,null,a,null,null]}function Pw(o,l){const a=o.contentQueries;if(null!==a){const u=T(null);try{for(let v=0;v<a.length;v+=2){const p=a[v+1];if(-1!==p){const w=o.data[p];A0(a[v]),w.contentQueries(2,l[p],p)}}}finally{T(u)}}}function n6(o,l){return o[Sc]?o[qu][Fi]=l:o[Sc]=l,o[qu]=l,l}function i6(o,l,a){A0(0);const u=T(null);try{l(o,a)}finally{T(u)}}function da(o){return o[br]||(o[br]=[])}function Ot(o){return o.cleanup||(o.cleanup=[])}function $s(o,l){const a=o[g1],u=a?a.get(T2,null):null;u&&u.handleError(l)}function s6(o,l,a,u,v){for(let m=0;m<a.length;){const p=a[m++],w=a[m++],z=a[m++];Vw(o.data[p],l[p],u,w,z,v)}}function kw(o,l){const a=Ei(l,o),u=a[Ge];!function Rw(o,l){for(let a=l.length;a<o.blueprint.length;a++)l.push(o.blueprint[a])}(u,a);const v=a[Tn];null!==v&&null===a[Gi]&&(a[Gi]=Z0(v,a[g1])),o6(u,a,a[yn])}function o6(o,l,a){Oc(l);try{const u=o.viewQuery;null!==u&&i6(1,u,a);const v=o.template;null!==v&&ha(o,l,v,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),l[m2]?.finishViewCreation(o),o.staticContentQueries&&Pw(o,l),o.staticViewQueries&&i6(2,o.viewQuery,a);const m=o.components;null!==m&&function T4(o,l){for(let a=0;a<l.length;a++)kw(o,l[a])}(l,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{l[ct]&=-5,Bc()}}function D4(o,l,a,u){const v=T(null);try{const m=l.tView,z=ca(o,m,a,4096&o[ct]?4096:16,null,l,null,null,null,u?.injector??null,u?.dehydratedView??null);z[ao]=o[l.index];const S=o[m2];return null!==S&&(z[m2]=S.createEmbeddedView(m)),o6(m,z,a),z}finally{T(v)}}function _l(o,l){return!l||null===l.firstChild||F0(o)}function va(o,l,a,u=!0){const v=l[Ge];if(function fw(o,l,a,u){const v=$n+u,m=a.length;u>0&&(a[v-1][Fi]=l),u<m-$n?(l[Fi]=a[v],ud(a,$n+u,l)):(a.push(l),l[Fi]=null),l[Un]=a;const p=l[ao];null!==p&&a!==p&&function pw(o,l){const a=o[Sr];l[Ln]!==l[Un][Un][Ln]&&(o[ct]|=$h.HasTransplantedViews),null===a?o[Sr]=[l]:a.push(l)}(p,l);const w=l[m2];null!==w&&w.insertView(o),uo(l),l[ct]|=128}(v,l,o,a),u){const p=Y5(a,o),w=l[zt],z=S4(w,o[Hs]);null!==z&&function gw(o,l,a,u,v,m){u[Tn]=v,u[x1]=l,H4(o,u,a,1,v,m)}(v,o[x1],w,l,z,p)}const m=l[Gi];null!==m&&null!==m.firstChild&&(m.firstChild=null)}function A4(o,l,a,u,v=!1){for(;null!==a;){const m=l[a.index];null!==m&&u.push(dt(m)),m1(m)&&O4(m,u);const p=a.type;if(8&p)A4(o,l,a.child,u);else if(32&p){const w=O2(a,l);let z;for(;z=w();)u.push(z)}else if(16&p){const w=I7(l,a);if(Array.isArray(w))u.push(...w);else{const z=p2(l[Ln]);A4(z[Ge],z,w,u,!0)}}a=v?a.projectionNext:a.next}return u}function O4(o,l){for(let a=$n;a<o.length;a++){const u=o[a],v=u[Ge].firstChild;null!==v&&A4(u[Ge],u,v,l)}o[Hs]!==o[Tn]&&l.push(o[Hs])}let r6=[];const Ab={...U,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{I0(o.lView)},consumerOnSignalRead(){this.lView[ho]=this}};function ko(o){return Ti(o[Sc])}function P4(o){return Ti(o[Fi])}function Ti(o){for(;null!==o&&!m1(o);)o=o[Fi];return o}function k4(o,l=!0,a=0){const u=o[Vs],v=u.rendererFactory;v.begin?.();try{!function Ob(o,l){R4(o,l);let a=0;for(;Ic(o);){if(100===a)throw new Ke(103,!1);a++,R4(o,1)}}(o,a)}catch(p){throw l&&$s(o,p),p}finally{v.end?.(),u.inlineEffectRunner?.flush()}}function Bb(o,l,a,u){const v=l[ct];if(256==(256&v))return;l[Vs].inlineEffectRunner?.flush(),Oc(l);let p=null,w=null;(function Pb(o){return 2!==o.type})(o)&&(w=function Nw(o){return o[ho]??function Fw(o){const l=r6.pop()??Object.create(Ab);return l.lView=o,l}(o)}(l),p=De(w));try{Kh(l),function Uf(o){return yt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&ha(o,l,a,2,u);const z=3==(3&v);if(z){const H=o.preOrderCheckHooks;null!==H&&Jr(l,H,null)}else{const H=o.preOrderHooks;null!==H&&Kc(l,H,0,null),Yc(l,0)}if(function kb(o){for(let l=ko(o);null!==l;l=P4(l)){if(!(l[ct]&$h.HasTransplantedViews))continue;const a=l[Sr];for(let u=0;u<a.length;u++){Bf(a[u])}}}(l),W7(l,0),null!==o.contentQueries&&Pw(o,l),z){const H=o.contentCheckHooks;null!==H&&Jr(l,H)}else{const H=o.contentHooks;null!==H&&Kc(l,H,1),Yc(l,1)}!function D7(o,l){const a=o.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const v=a[u];if(v<0)go(~v);else{const m=v,p=a[++u],w=a[++u];Sx(p,m),w(2,l[m])}}}finally{go(-1)}}(o,l);const M=o.components;null!==M&&ga(l,M,0);const S=o.viewQuery;if(null!==S&&i6(2,S,u),z){const H=o.viewCheckHooks;null!==H&&Jr(l,H)}else{const H=o.viewHooks;null!==H&&Kc(l,H,2),Yc(l,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[b0]){for(const H of l[b0])H();l[b0]=null}l[ct]&=-73}catch(z){throw I0(l),z}finally{null!==w&&(D(w,p),function Db(o){o.lView[ho]!==o&&(o.lView=null,r6.push(o))}(w)),Bc()}}function W7(o,l){for(let a=ko(o);null!==a;a=P4(a))for(let u=$n;u<a.length;u++)K7(a[u],l)}function q7(o,l,a){K7(Ei(l,o),a)}function K7(o,l){td(o)&&R4(o,l)}function R4(o,l){const u=o[Ge],v=o[ct],m=o[ho];let p=!!(0===l&&16&v);if(p||=!!(64&v&&0===l),p||=!!(1024&v),p||=!(!m?.dirty||!k(m)),m&&(m.dirty=!1),o[ct]&=-9217,p)Bb(u,o,u.template,o[yn]);else if(8192&v){W7(o,1);const w=u.components;null!==w&&ga(o,w,1)}}function ga(o,l,a){for(let u=0;u<l.length;u++)q7(o,l[u],a)}function N4(o){for(o[Vs].changeDetectionScheduler?.notify();o;){o[ct]|=64;const l=p2(o);if(Wh(o)&&!l)return o;o=l}return null}class P2{get rootNodes(){const l=this._lView,a=l[Ge];return A4(a,l,a.firstChild,[])}constructor(l,a,u=!0){this._lView=l,this._cdRefInjectingView=a,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yn]}set context(l){this._lView[yn]=l}get destroyed(){return 256==(256&this._lView[ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Un];if(m1(l)){const a=l[8],u=a?a.indexOf(this):-1;u>-1&&(oa(l,u),k0(a,u))}this._attachedToViewContainer=!1}E4(this._lView[Ge],this._lView)}onDestroy(l){Yh(this._lView,l)}markForCheck(){N4(this._cdRefInjectingView||this._lView)}detach(){this._lView[ct]&=-129}reattach(){uo(this._lView),this._lView[ct]|=128}detectChanges(){this._lView[ct]|=1024,k4(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,C7(this._lView[Ge],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=l,uo(this._lView)}}let Ro=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Uw}return o})();const F4=Ro,l6=class extends F4{constructor(l,a,u){super(),this._declarationLView=l,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,a){return this.createEmbeddedViewImpl(l,a)}createEmbeddedViewImpl(l,a,u){const v=D4(this._declarationLView,this._declarationTContainer,l,{injector:a,dehydratedView:u});return new P2(v)}};function Uw(){return c6(an(),me())}function c6(o,l){return 4&o.type?new l6(l,o,mo(o,l)):null}let iv=()=>null;function No(o,l){return iv(o,l)}class K4{}class r_{}class sv{}class a_{resolveComponentFactory(l){throw function l_(o){const l=Error(`No component factory found for ${In(o)}.`);return l.ngComponent=o,l}(l)}}let Cl=(()=>{class o{static#e=this.NULL=new a_}return o})();class ov{}let Ub=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $b(){const o=me(),a=Ei(an().index,o);return(b1(a)?a:o)[zt]}()}return o})(),E1=(()=>{class o{static#e=this.\u0275prov=Vn({token:o,providedIn:"root",factory:()=>null})}return o})();const Fo={};let Ml=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Di;static#t=this.__NG_ENV_ID__=a=>a}return o})();class Ue extends Ml{constructor(l){super(),this._lView=l}onDestroy(l){return Yh(this._lView,l),()=>function T0(o,l){if(null===o[f2])return;const a=o[f2].indexOf(l);-1!==a&&o[f2].splice(a,1)}(this._lView,l)}}function Di(){return new Ue(me())}function u6(o,l){if(null!==function W(){return N}())throw new Ke(-602,!1)}const rv=new Set;function Wi(o){rv.has(o)||(rv.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function lv(...o){}class Dn{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new l1(!1),this.onMicrotaskEmpty=new l1(!1),this.onStable=new l1(!1),this.onError=new l1(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!u&&a,v.shouldCoalesceRunChangeDetection=u,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function xl(){const o="function"==typeof cn.requestAnimationFrame;let l=cn[o?"requestAnimationFrame":"setTimeout"],a=cn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&a){const u=l[Zone.__symbol__("OriginalDelegate")];u&&(l=u);const v=a[Zone.__symbol__("OriginalDelegate")];v&&(a=v)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Q4(o){const l=()=>{!function cv(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(cn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,d6(o),o.isCheckStableRunning=!0,k2(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),d6(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,v,m,p,w)=>{if(function u_(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(w))return a.invokeTask(v,m,p,w);try{return za(o),a.invokeTask(v,m,p,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&l(),h_(o)}},onInvoke:(a,u,v,m,p,w,z)=>{try{return za(o),a.invoke(v,m,p,w,z)}finally{o.shouldCoalesceRunChangeDetection&&l(),h_(o)}},onHasTask:(a,u,v,m)=>{a.hasTask(v,m),u===v&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,d6(o),k2(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,v,m)=>(a.handleError(v,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dn.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(Dn.isInAngularZone())throw new Ke(909,!1)}run(l,a,u){return this._inner.run(l,a,u)}runTask(l,a,u,v){const m=this._inner,p=m.scheduleEventTask("NgZoneEvent: "+v,l,Y4,lv,lv);try{return m.runTask(p,a,u)}finally{m.cancelTask(p)}}runGuarded(l,a,u){return this._inner.runGuarded(l,a,u)}runOutsideAngular(l){return this._outer.run(l)}}const Y4={};function k2(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function d6(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function za(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function h_(o){o._nesting--,k2(o)}var Ai=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Ai||{});const R2={destroy(){}};function X4(o,l){!l&&us();const a=l?.injector??vt(T1);if(!function Kn(o){return"browser"===(o??vt(T1)).get(vd)}(a))return R2;Wi("NgAfterNextRender");const u=a.get(bl),v=u.handler??=new g6,m=l?.phase??Ai.MixedReadWrite,p=()=>{v.unregister(z),w()},w=a.get(Ml).onDestroy(p),z=new v6(a,m,()=>{p(),o()});return v.register(z),{destroy:p}}class v6{constructor(l,a,u){this.phase=a,this.callbackFn=u,this.zone=l.get(Dn),this.errorHandler=l.get(T2,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(l){this.errorHandler?.handleError(l)}}}class g6{constructor(){this.executingCallbacks=!1,this.buckets={[Ai.EarlyRead]:new Set,[Ai.Write]:new Set,[Ai.MixedReadWrite]:new Set,[Ai.Read]:new Set},this.deferredCallbacks=new Set}register(l){(this.executingCallbacks?this.deferredCallbacks:this.buckets[l.phase]).add(l)}unregister(l){this.buckets[l.phase].delete(l),this.deferredCallbacks.delete(l)}execute(){this.executingCallbacks=!0;for(const l of Object.values(this.buckets))for(const a of l)a.invoke();this.executingCallbacks=!1;for(const l of this.deferredCallbacks)this.buckets[l.phase].add(l);this.deferredCallbacks.clear()}destroy(){for(const l of Object.values(this.buckets))l.clear();this.deferredCallbacks.clear()}}let bl=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Vn({token:o,providedIn:"root",factory:()=>new o})}return o})();function vi(o){return!!Ht(o)}function Ma(o,l,a){let u=a?o.styles:null,v=a?o.classes:null,m=0;if(null!==l)for(let p=0;p<l.length;p++){const w=l[p];"number"==typeof w?m=w:1==m?v=L1(v,w):2==m&&(u=L1(u,w+": "+l[++p]+";"))}a?o.styles=u:o.stylesWithoutHost=u,a?o.classes=v:o.classesWithoutHost=v}class dv extends Cl{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const a=qe(l);return new xa(a,this.ngModule)}}function vv(o){const l=[];for(const a in o){if(!o.hasOwnProperty(a))continue;const u=o[a];void 0!==u&&l.push({propName:Array.isArray(u)?u[0]:u,templateName:a})}return l}class J4{constructor(l,a){this.injector=l,this.parentInjector=a}get(l,a,u){u=wo(u);const v=this.injector.get(l,Fo,u);return v!==Fo||a===Fo?v:this.parentInjector.get(l,a,u)}}class xa extends sv{get inputs(){const l=this.componentDef,a=l.inputTransforms,u=vv(l.inputs);if(null!==a)for(const v of u)a.hasOwnProperty(v.propName)&&(v.transform=a[v.propName]);return u}get outputs(){return vv(this.componentDef.outputs)}constructor(l,a){super(),this.componentDef=l,this.ngModule=a,this.componentType=l.type,this.selector=function Ec(o){return o.map(xr).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!a}create(l,a,u,v){const m=T(null);try{let p=(v=v||this.ngModule)instanceof Ui?v:v?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const w=p?new J4(l,p):l,z=w.get(ov,null);if(null===z)throw new Ke(407,!1);const M=w.get(E1,null),$={rendererFactory:z,sanitizer:M,inlineEffectRunner:null,afterRenderEventManager:w.get(bl,null),changeDetectionScheduler:w.get(K4,null)},K=z.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",ze=u?function pb(o,l,a,u){const m=u.get(f4,!1)||a===rs.ShadowDom,p=o.selectRootElement(l,m);return function wb(o){Iw(o)}(p),p}(K,u,this.componentDef.encapsulation,w):b4(K,ce,function gv(o){const l=o.toLowerCase();return"svg"===l?Zu:"math"===l?"math":null}(ce));let Ie=512;this.componentDef.signals?Ie|=4096:this.componentDef.onPush||(Ie|=16);let Ye=null;null!==ze&&(Ye=Z0(ze,w,!0));const be=I4(0,null,null,1,0,null,null,null,null,null,null),gt=ca(null,be,null,Ie,null,null,$,K,w,null,Ye);let Ut,Yt;Oc(gt);try{const Xn=this.componentDef;let es,ac=null;Xn.findHostDirectiveDefs?(es=[],ac=new Map,Xn.findHostDirectiveDefs(Xn,es,ac),es.push(Xn)):es=[Xn];const Dm=function m_(o,l){const a=o[Ge],u=lt;return o[u]=l,B2(a,u,2,"#host",null)}(gt,ze),Am=function f_(o,l,a,u,v,m,p){const w=v[Ge];!function p_(o,l,a,u){for(const v of o)l.mergedAttrs=g2(l.mergedAttrs,v.hostAttrs);null!==l.mergedAttrs&&(Ma(l,l.mergedAttrs,!0),null!==a&&Sw(u,a,l))}(u,o,l,p);let z=null;null!==l&&(z=Z0(l,v[g1]));const M=m.rendererFactory.createRenderer(l,a);let S=16;a.signals?S=4096:a.onPush&&(S=64);const H=ca(v,Hw(a),null,S,v[o.index],o,m,M,null,null,z);return w.firstCreatePass&&ua(w,o,u.length-1),n6(v,H),v[o.index]=H}(Dm,ze,Xn,es,gt,$,K);Yt=H0(be,lt),ze&&function __(o,l,a,u){if(u)ro(o,a,["ng-version","17.2.4"]);else{const{attrs:v,classes:m}=function Fh(o){const l=[],a=[];let u=1,v=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===v?""!==m&&l.push(m,o[++u]):8===v&&a.push(m);else{if(!j1(v))break;v=m}u++}return{attrs:l,classes:a}}(l.selectors[0]);v&&ro(o,a,v),m&&m.length>0&&Ew(o,a,m.join(" "))}}(K,Xn,ze,u),void 0!==a&&function Wb(o,l,a){const u=o.projection=[];for(let v=0;v<l.length;v++){const m=a[v];u.push(null!=m?Array.from(m):null)}}(Yt,this.ngContentSelectors,a),Ut=function w_(o,l,a,u,v,m){const p=an(),w=v[Ge],z=q1(p,v);Tw(w,v,p,a,null,u);for(let S=0;S<a.length;S++)_1(Vo(v,w,p.directiveStart+S,p),v);k7(w,v,p),z&&_1(z,v);const M=Vo(v,w,p.directiveStart+p.componentOffset,p);if(o[yn]=v[yn]=M,null!==m)for(const S of m)S(M,l);return Z1(w,p,v),M}(Am,Xn,es,ac,gt,[z_]),o6(be,gt,null)}finally{Bc()}return new g_(this.componentType,Ut,mo(Yt,gt),gt,Yt)}finally{T(m)}}}class g_ extends r_{constructor(l,a,u,v,m){super(),this.location=u,this._rootLView=v,this._tNode=m,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new P2(v,void 0,!1),this.componentType=l}setInput(l,a){const u=this._tNode.inputs;let v;if(null!==u&&(v=u[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),a))return;const m=this._rootLView;s6(m[Ge],m,v,l,a),this.previousInputValues.set(l,a),N4(Ei(this._tNode.index,m))}}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function z_(){const o=an();Xr(me()[Ge],o)}let e3=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=y_}return o})();function y_(){return On(an(),me())}const C_=e3,mv=class extends C_{constructor(l,a,u){super(),this._lContainer=l,this._hostTNode=a,this._hostLView=u}get element(){return mo(this._hostTNode,this._hostLView)}get injector(){return new An(this._hostTNode,this._hostLView)}get parentInjector(){const l=nl(this._hostTNode,this._hostLView);if(v4(l)){const a=Zc(l,this._hostLView),u=tl(l);return new An(a[Ge].data[u+8],a)}return new An(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const a=f6(this._lContainer);return null!==a&&a[l]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(l,a,u){let v,m;"number"==typeof u?v=u:null!=u&&(v=u.index,m=u.injector);const p=No(this._lContainer,l.ssrId),w=l.createEmbeddedViewImpl(a||{},m,p);return this.insertImpl(w,v,_l(this._hostTNode,p)),w}createComponent(l,a,u,v,m){const p=l&&!function qc(o){return"function"==typeof o}(l);let w;if(p)w=a;else{const ce=a||{};w=ce.index,u=ce.injector,v=ce.projectableNodes,m=ce.environmentInjector||ce.ngModuleRef}const z=p?l:new xa(qe(l)),M=u||this.parentInjector;if(!m&&null==z.ngModule){const ze=(p?M:this.parentInjector).get(Ui,null);ze&&(m=ze)}const S=qe(z.componentType??{}),H=No(this._lContainer,S?.id??null),K=z.create(M,v,H?.firstChild??null,m);return this.insertImpl(K.hostView,w,_l(this._hostTNode,H)),K}insert(l,a){return this.insertImpl(l,a,!0)}insertImpl(l,a,u){const v=l._lView;if(function zx(o){return m1(o[Un])}(v)){const w=this.indexOf(l);if(-1!==w)this.detach(w);else{const z=v[Un],M=new mv(z,z[x1],z[Un]);M.detach(M.indexOf(l))}}const m=this._adjustIndex(a),p=this._lContainer;return va(p,v,m,u),l.attachToViewContainerRef(),ud(p6(p),m,l),l}move(l,a){return this.insert(l,a)}indexOf(l){const a=f6(this._lContainer);return null!==a?a.indexOf(l):-1}remove(l){const a=this._adjustIndex(l,-1),u=oa(this._lContainer,a);u&&(k0(p6(this._lContainer),a),E4(u[Ge],u))}detach(l){const a=this._adjustIndex(l,-1),u=oa(this._lContainer,a);return u&&null!=k0(p6(this._lContainer),a)?new P2(u):null}_adjustIndex(l,a=0){return l??this.length+a}};function f6(o){return o[8]}function p6(o){return o[8]||(o[8]=[])}function On(o,l){let a;const u=l[o.index];return m1(u)?a=u:(a=Bw(u,l,null,o),l[o.index]=a,n6(l,a)),fv(a,l,o,u),new mv(a,o,l)}let fv=function _v(o,l,a,u){if(o[Hs])return;let v;v=8&a.type?dt(u):function N2(o,l){const a=o[zt],u=a.createComment(""),v=q1(l,o);return Po(a,S4(a,v),u,function yw(o,l){return o.nextSibling(l)}(a,v),!1),u}(l,a),o[Hs]=v},pv=()=>!1;class _6{constructor(l){this.queryList=l,this.matches=null}clone(){return new _6(this.queryList)}setDirty(){this.queryList.setDirty()}}class z6{constructor(l=[]){this.queries=l}createEmbeddedView(l){const a=l.queries;if(null!==a){const u=null!==l.contentQueries?l.contentQueries[0]:a.length,v=[];for(let m=0;m<u;m++){const p=a.getByIndex(m);v.push(this.queries[p.indexInDeclarationView].clone())}return new z6(v)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}finishViewCreation(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let a=0;a<this.queries.length;a++)null!==i3(l,a).matches&&this.queries[a].setDirty()}}class zv{constructor(l,a,u=null){this.flags=a,this.read=u,this.predicate="string"==typeof l?function xv(o){return o.split(",").map(l=>l.trim())}(l):l}}class t3{constructor(l=[]){this.queries=l}elementStart(l,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(l,a)}elementEnd(l){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(l)}embeddedTView(l){let a=null;for(let u=0;u<this.length;u++){const v=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(l,v);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new t3(a):null}template(l,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(l,a)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class D1{constructor(l,a=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(l,a){this.isApplyingToNode(a)&&this.matchTNode(l,a)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,a){this.elementStart(l,a)}embeddedTView(l,a){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,a),new D1(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=l.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(l,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let v=0;v<u.length;v++){const m=u[v];this.matchTNodeWithReadOption(l,a,y6(a,m)),this.matchTNodeWithReadOption(l,a,Lo(a,l,m,!1,!1))}else u===Ro?4&a.type&&this.matchTNodeWithReadOption(l,a,-1):this.matchTNodeWithReadOption(l,a,Lo(a,l,u,!1,!1))}matchTNodeWithReadOption(l,a,u){if(null!==u){const v=this.metadata.read;if(null!==v)if(v===Pc||v===e3||v===Ro&&4&a.type)this.addMatch(a.index,-2);else{const m=Lo(a,l,v,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(l,a){null===this.matches?this.matches=[l,a]:this.matches.push(l,a)}}function y6(o,l){const a=o.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===l)return a[u+1];return null}function x_(o,l,a,u){return-1===a?function n3(o,l){return 11&o.type?mo(o,l):4&o.type?c6(o,l):null}(l,o):-2===a?function b_(o,l,a){return a===Pc?mo(l,o):a===Ro?c6(l,o):a===e3?On(l,o):void 0}(o,l,u):Vo(o,o[Ge],a,l)}function yv(o,l,a,u){const v=l[m2].queries[u];if(null===v.matches){const m=o.data,p=a.matches,w=[];for(let z=0;null!==p&&z<p.length;z+=2){const M=p[z];w.push(M<0?null:x_(l,m[M],p[z+1],a.metadata.read))}v.matches=w}return v.matches}function C6(o,l,a,u){const v=o.queries.getByIndex(a),m=v.matches;if(null!==m){const p=yv(o,l,v,a);for(let w=0;w<m.length;w+=2){const z=m[w];if(z>0)u.push(p[w/2]);else{const M=m[w+1],S=l[-z];for(let H=$n;H<S.length;H++){const $=S[H];$[ao]===$[Un]&&C6($[Ge],$,M,u)}if(null!==S[Sr]){const H=S[Sr];for(let $=0;$<H.length;$++){const K=H[$];C6(K[Ge],K,M,u)}}}}}return u}function Mv(o,l,a){const u=new N0(4==(4&a));return function yb(o,l,a,u){const v=da(l);v.push(a),o.firstCreatePass&&Ot(o).push(u,v.length-1)}(o,l,u,u.destroy),(l[m2]??=new z6).queries.push(new _6(u))-1}function bv(o,l,a){null===o.queries&&(o.queries=new t3),o.queries.track(new D1(l,a))}function i3(o,l){return o.queries.getByIndex(l)}function b6(o,l){const a=o[Ge],u=i3(a,l);return u.crossesNgTemplate?C6(a,o,l,[]):yv(a,o,u,l)}function S6(o,l){Wi("NgSignals");const a=function de(o){const l=Object.create(wt);l.value=o;const a=()=>(X(l),l.value);return a[r]=l,a}(o),u=a[r];return l?.equal&&(u.equal=l.equal),a.set=v=>je(u,v),a.update=v=>function Fe(o,l){Se()||Xt(),je(o,l(o.value))}(u,v),a.asReadonly=Ll.bind(a),a}function Ll(){const o=this[r];if(void 0===o.readonlyFn){const l=()=>this();l[r]=o,o.readonlyFn=l}return o.readonlyFn}function E_(o){return function E6(o){return"function"==typeof o&&void 0!==o[r]}(o)&&"function"==typeof o.set}function Tv(o){let l=function F2(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const u=[o];for(;l;){let v;if(bi(o))v=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ke(903,!1);v=l.\u0275dir}if(v){if(a){u.push(v);const p=o;p.inputs=D6(o.inputs),p.inputTransforms=D6(o.inputTransforms),p.declaredInputs=D6(o.declaredInputs),p.outputs=D6(o.outputs);const w=v.hostBindings;w&&aE(o,w);const z=v.viewQuery,M=v.contentQueries;if(z&&cE(o,z),M&&A_(o,M),D_(o,v),Ph(o.outputs,v.outputs),bi(v)&&v.data.animation){const S=o.data;S.animation=(S.animation||[]).concat(v.data.animation)}}const m=v.features;if(m)for(let p=0;p<m.length;p++){const w=m[p];w&&w.ngInherit&&w(o),w===Tv&&(a=!1)}}l=Object.getPrototypeOf(l)}!function lE(o){let l=0,a=null;for(let u=o.length-1;u>=0;u--){const v=o[u];v.hostVars=l+=v.hostVars,v.hostAttrs=g2(v.hostAttrs,a=g2(a,v.hostAttrs))}}(u)}function D_(o,l){for(const a in l.inputs){if(!l.inputs.hasOwnProperty(a)||o.inputs.hasOwnProperty(a))continue;const u=l.inputs[a];if(void 0!==u&&(o.inputs[a]=u,o.declaredInputs[a]=l.declaredInputs[a],null!==l.inputTransforms)){const v=Array.isArray(u)?u[0]:u;if(!l.inputTransforms.hasOwnProperty(v))continue;o.inputTransforms??={},o.inputTransforms[v]=l.inputTransforms[v]}}}function D6(o){return o===xi?{}:o===Nt?[]:o}function cE(o,l){const a=o.viewQuery;o.viewQuery=a?(u,v)=>{l(u,v),a(u,v)}:l}function A_(o,l){const a=o.contentQueries;o.contentQueries=a?(u,v,m)=>{l(u,v,m),a(u,v,m)}:l}function aE(o,l){const a=o.hostBindings;o.hostBindings=a?(u,v)=>{l(u,v),a(u,v)}:l}function P_(o){const l=o.inputConfig,a={};for(const u in l)if(l.hasOwnProperty(u)){const v=l[u];Array.isArray(v)&&v[3]&&(a[u]=v[3])}o.inputTransforms=a}class G2{}class Bv{}function k_(o,l){return new O6(o,l??null,[])}class O6 extends G2{constructor(l,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dv(this);const v=Ht(l);this._bootstrapComponents=hi(v.bootstrap),this._r3Injector=m4(l,a,[{provide:G2,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver},...u],In(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class l3 extends Bv{constructor(l){super(),this.moduleType=l}create(l){return new O6(this.moduleType,l,[])}}class R_ extends G2{constructor(l){super(),this.componentFactoryResolver=new dv(this),this.instance=null;const a=new H2([...l.providers,{provide:G2,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver}],l.parent||V2(),l.debugName,new Set(["environment"]));this.injector=a,l.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function qi(o,l,a=null){return new R_({providers:o,parent:l,debugName:a,runEnvironmentInitializers:!0}).injector}let Ws=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ci.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Il(o){return!!kv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function kv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function gi(o,l,a){return o[l]=a}function jn(o,l,a){return!Object.is(o[l],a)&&(o[l]=a,!0)}function Bn(o,l,a,u){const v=jn(o,l,a);return jn(o,l+1,u)||v}function Tl(o,l,a,u,v,m,p,w){const z=me(),M=Ft(),S=o+lt,H=M.firstCreatePass?function gE(o,l,a,u,v,m,p,w,z){const M=l.consts,S=B2(l,o,4,p||null,Is(M,w));P7(l,a,S,Is(M,z)),Xr(l,S);const H=S.tView=I4(2,S,u,v,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M,null);return null!==l.queries&&(l.queries.template(l,S),H.queries=l.queries.embeddedTView(S)),S}(S,M,z,l,a,u,v,m,p):M.data[S];cs(H,!1);const $=qs(M,z,H,o);Lr()&&L4(M,z,$,H),_1($,z);const K=Bw($,z,$,H);return z[S]=K,n6(z,K),function wv(o,l,a){return pv(o,l,a)}(K,H,z),jh(H)&&J5(M,z,H),null!=p&&A7(z,H,w),Tl}let qs=function Nv(o,l,a,u){return z2(!0),l[zt].createComment("")};function Z6(o,l,a,u){const v=me();return jn(v,as(),l)&&(Ft(),Gs(Cn(),v,o,l,a,u)),Z6}function m3(o,l){return o<<17|l<<2}function j2(o){return o>>17&32767}function f3(o){return 2|o}function $l(o){return(131068&o)>>2}function p3(o,l){return-131069&o|l<<2}function jl(o){return 1|o}function n9(o,l,a,u){const v=o[a+1],m=null===l;let p=u?j2(v):$l(v),w=!1;for(;0!==p&&(!1===w||m);){const M=o[p+1];nz(o[p],l)&&(w=!0,o[p+1]=u?jl(M):f3(M)),p=u?j2(M):$l(M)}w&&(o[a+1]=u?f3(v):jl(v))}function nz(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Vr(o,l)>=0}const Le={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gn(o){return o.substring(Le.key,Le.keyEnd)}function pi(o){return o.substring(Le.value,Le.valueEnd)}function t8(o,l){const a=Le.textEnd;return a===l?-1:(l=Le.keyEnd=function Ba(o,l,a){for(;l<a&&o.charCodeAt(l)>32;)l++;return l}(o,Le.key=l,a),Jo(o,l,a))}function w3(o,l){const a=Le.textEnd;let u=Le.key=Jo(o,l,a);return a===u?-1:(u=Le.keyEnd=function iz(o,l,a){let u;for(;l<a&&(45===(u=o.charCodeAt(l))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)l++;return l}(o,u,a),u=i9(o,u,a),u=Le.value=Jo(o,u,a),u=Le.valueEnd=function s9(o,l,a){let u=-1,v=-1,m=-1,p=l,w=p;for(;p<a;){const z=o.charCodeAt(p++);if(59===z)return w;34===z||39===z?w=p=o9(o,z,p,a):l===p-4&&85===m&&82===v&&76===u&&40===z?w=p=o9(o,41,p,a):z>32&&(w=p),m=v,v=u,u=-33&z}return w}(o,u,a),i9(o,u,a))}function i8(o){Le.key=0,Le.keyEnd=0,Le.value=0,Le.valueEnd=0,Le.textEnd=o.length}function Jo(o,l,a){for(;l<a&&o.charCodeAt(l)<=32;)l++;return l}function i9(o,l,a,u){return(l=Jo(o,l,a))<a&&l++,l}function o9(o,l,a,u){let v=-1,m=a;for(;m<u;){const p=o.charCodeAt(m++);if(p==l&&92!==v)return m;v=92==p&&92===v?0:p}throw new Error}function _3(o,l,a){const u=me();return jn(u,as(),l)&&di(Ft(),Cn(),u,o,l,u[zt],a,!1),_3}function z3(o,l,a,u,v){const p=v?"class":"style";s6(o,a,l.inputs[p],p,u)}function y3(o,l,a){return O1(o,l,a,!1),y3}function C3(o,l){return O1(o,l,null,!0),C3}function Bi(o){Zi(E3,Pa,o,!1)}function Pa(o,l){for(let a=function n8(o){return i8(o),w3(o,Jo(o,0,Le.textEnd))}(l);a>=0;a=w3(l,a))E3(o,gn(l),pi(l))}function Wl(o){Zi(oz,A1,o,!0)}function A1(o,l){for(let a=function Oa(o){return i8(o),t8(o,Jo(o,0,Le.textEnd))}(l);a>=0;a=t8(l,a))li(o,gn(l),!0)}function O1(o,l,a,u){const v=me(),m=Ft(),p=_2(2);m.firstUpdatePass&&Ra(m,o,p,u),l!==Lt&&jn(v,p,l)&&S3(m,m.data[f1()],v,v[zt],o,v[p+1]=function c9(o,l){return null==o||""===o||("string"==typeof l?o+=l:"object"==typeof o&&(o=In(Rs(o)))),o}(l,a),u,p)}function Zi(o,l,a,u){const v=Ft(),m=_2(2);v.firstUpdatePass&&Ra(v,null,m,u);const p=me();if(a!==Lt&&jn(p,m,a)){const w=v.data[f1()];if(a9(w,u)&&!ka(v,m)){let z=u?w.classesWithoutHost:w.stylesWithoutHost;null!==z&&(a=L1(z,a||"")),z3(v,w,p,a,u)}else!function rz(o,l,a,u,v,m,p,w){v===Lt&&(v=Nt);let z=0,M=0,S=0<v.length?v[0]:null,H=0<m.length?m[0]:null;for(;null!==S||null!==H;){const $=z<v.length?v[z+1]:void 0,K=M<m.length?m[M+1]:void 0;let ze,ce=null;S===H?(z+=2,M+=2,$!==K&&(ce=H,ze=K)):null===H||null!==S&&S<H?(z+=2,ce=S):(M+=2,ce=H,ze=K),null!==ce&&S3(o,l,a,u,ce,ze,p,w),S=z<v.length?v[z]:null,H=M<m.length?m[M]:null}}(v,w,p,p[zt],p[m+1],p[m+1]=function l9(o,l,a){if(null==a||""===a)return Nt;const u=[],v=Rs(a);if(Array.isArray(v))for(let m=0;m<v.length;m++)o(u,v[m],!0);else if("object"==typeof v)for(const m in v)v.hasOwnProperty(m)&&o(u,m,v[m]);else"string"==typeof v&&l(u,v);return u}(o,l,a),u,m)}}function ka(o,l){return l>=o.expandoStartIndex}function Ra(o,l,a,u){const v=o.data;if(null===v[a+1]){const m=v[f1()],p=ka(o,a);a9(m,u)&&null===l&&!p&&(l=!1),l=function M3(o,l,a,u){const v=function vo(o){const l=yt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}(o);let m=u?l.residualClasses:l.residualStyles;if(null===v)0===(u?l.classBindings:l.styleBindings)&&(a=ql(a=b3(null,o,l,a,u),l.attrs,u),m=null);else{const p=l.directiveStylingLast;if(-1===p||o[p]!==v)if(a=b3(v,o,l,a,u),null===m){let z=function x3(o,l,a){const u=a?l.classBindings:l.styleBindings;if(0!==$l(u))return o[j2(u)]}(o,l,u);void 0!==z&&Array.isArray(z)&&(z=b3(null,o,l,z[1],u),z=ql(z,l.attrs,u),function s8(o,l,a,u){o[j2(a?l.classBindings:l.styleBindings)]=u}(o,l,u,z))}else m=function r9(o,l,a){let u;const v=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<v;m++)u=ql(u,o[m].hostAttrs,a);return ql(u,l.attrs,a)}(o,l,u)}return void 0!==m&&(u?l.residualClasses=m:l.residualStyles=m),a}(v,m,l,u),function tz(o,l,a,u,v,m){let p=m?l.classBindings:l.styleBindings,w=j2(p),z=$l(p);o[u]=a;let S,M=!1;if(Array.isArray(a)?(S=a[1],(null===S||Vr(a,S)>0)&&(M=!0)):S=a,v)if(0!==z){const $=j2(o[w+1]);o[u+1]=m3($,w),0!==$&&(o[$+1]=p3(o[$+1],u)),o[w+1]=function e9(o,l){return 131071&o|l<<17}(o[w+1],u)}else o[u+1]=m3(w,0),0!==w&&(o[w+1]=p3(o[w+1],u)),w=u;else o[u+1]=m3(z,0),0===w?w=u:o[z+1]=p3(o[z+1],u),z=u;M&&(o[u+1]=f3(o[u+1])),n9(o,S,u,!0),n9(o,S,u,!1),function e8(o,l,a,u,v){const m=v?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof l&&Vr(m,l)>=0&&(a[u+1]=jl(a[u+1]))}(l,S,o,u,m),p=m3(w,z),m?l.classBindings=p:l.styleBindings=p}(v,m,l,a,p,u)}}function b3(o,l,a,u,v){let m=null;const p=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<p&&(m=l[w],u=ql(u,m.hostAttrs,v),m!==o);)w++;return null!==o&&(a.directiveStylingLast=w),u}function ql(o,l,a){const u=a?1:2;let v=-1;if(null!==l)for(let m=0;m<l.length;m++){const p=l[m];"number"==typeof p?v=p:v===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),li(o,p,!!a||l[++m]))}return void 0===o?null:o}function E3(o,l,a){li(o,l,Rs(a))}function oz(o,l,a){const u=String(l);""!==u&&!u.includes(" ")&&li(o,u,a)}function S3(o,l,a,u,v,m,p,w){if(!(3&l.type))return;const z=o.data,M=z[w+1],S=function t9(o){return 1==(1&o)}(M)?Kl(z,l,a,v,$l(M),p):void 0;Js(S)||(Js(m)||function J6(o){return 2==(2&o)}(M)&&(m=Kl(z,null,a,v,w,p)),function xw(o,l,a,u,v){if(l)v?o.addClass(a,u):o.removeClass(a,u);else{let m=-1===u.indexOf("-")?void 0:Bo.DashCase;null==v?o.removeStyle(a,u,m):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),m|=Bo.Important),o.setStyle(a,u,v,m))}}(u,p,V0(f1(),a),v,m))}function Kl(o,l,a,u,v,m){const p=null===l;let w;for(;v>0;){const z=o[v],M=Array.isArray(z),S=M?z[1]:z,H=null===S;let $=a[v+1];$===Lt&&($=H?Nt:void 0);let K=H?s5($,u):S===u?$:void 0;if(M&&!Js(K)&&(K=s5(z,u)),Js(K)&&(w=K,p))return w;const ce=o[v+1];v=p?j2(ce):$l(ce)}if(null!==l){let z=m?l.residualClasses:l.residualStyles;null!=z&&(w=s5(z,u))}return w}function Js(o){return void 0!==o}function a9(o,l){return 0!=(o.flags&(l?8:16))}function w9(o,l,a){Wi("NgControlFlow");const u=me(),v=as(),m=function ps(o,l){return o[l]}(u,lt+o);if(jn(u,v,l)){const w=T(null);try{if(function $7(o,l){const a=oa(o,l);return void 0!==a&&E4(a[Ge],a),a}(m,0),-1!==l){const z=function H3(o,l){return H0(o,l)}(u[Ge],lt+l),M=No(m,z.tView.ssrId);va(m,D4(u,z,a,{dehydratedView:M}),0,_l(z,M))}}finally{T(w)}}else{const w=function U7(o,l){const a=$n+l;if(a<o.length)return o[a]}(m,0);void 0!==w&&(w[yn]=a)}}function wi(o,l,a,u){const v=me(),m=Ft(),p=lt+o,w=v[zt],z=m.firstCreatePass?function J1(o,l,a,u,v,m){const p=l.consts,z=B2(l,o,2,u,Is(p,v));return P7(l,a,z,Is(p,m)),null!==z.attrs&&Ma(z,z.attrs,!1),null!==z.mergedAttrs&&Ma(z,z.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,z),z}(p,m,v,l,a,u):m.data[p],M=a8(m,v,z,w,l,o);v[p]=M;const S=jh(z);return cs(z,!0),Sw(w,M,z),32!=(32&z.flags)&&Lr()&&L4(m,v,M,z),0===function id(){return yt.lFrame.elementDepthCount}()&&_1(M,v),function sd(){yt.lFrame.elementDepthCount++}(),S&&(J5(m,v,z),Z1(m,z,v)),null!==u&&A7(v,z),wi}function Xi(){let o=an();rd()?ld():(o=o.parent,cs(o,!1));const l=o;(function yx(o){return yt.skipHydrationRootTNode===o})(l)&&function bx(){yt.skipHydrationRootTNode=null}(),function kf(){yt.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(Xr(a,o),Ku(o)&&a.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Ep(o){return 0!=(8&o.flags)}(l)&&z3(a,l,me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Qc(o){return 0!=(16&o.flags)}(l)&&z3(a,l,me(),l.stylesWithoutHost,!1),Xi}function W2(o,l,a,u){return wi(o,l,a,u),Xi(),W2}let a8=(o,l,a,u,v,m)=>(z2(!0),b4(u,v,function t5(){return yt.lFrame.currentNamespace}()));function I3(o,l,a){const u=me(),v=Ft(),m=o+lt,p=v.firstCreatePass?function Ga(o,l,a,u,v){const m=l.consts,p=Is(m,u),w=B2(l,o,8,"ng-container",p);return null!==p&&Ma(w,p,!0),P7(l,a,w,Is(m,v)),null!==l.queries&&l.queries.elementStart(l,w),w}(m,v,u,l,a):v.data[m];cs(p,!0);const w=h8(v,u,p,o);return u[m]=w,Lr()&&L4(v,u,w,p),_1(w,u),jh(p)&&(J5(v,u,p),Z1(v,p,u)),null!=a&&A7(u,p),I3}function T3(){let o=an();const l=Ft();return rd()?ld():(o=o.parent,cs(o,!1)),l.firstCreatePass&&(Xr(l,o),Ku(o)&&l.queries.elementEnd(o)),T3}function D3(o,l,a){return I3(o,l,a),T3(),D3}let h8=(o,l,a,u)=>(z2(!0),j5(l[zt],""));function z9(){return me()}const q2=void 0;var A3=["en",[["a","p"],["AM","PM"],q2],[["AM","PM"],q2,q2],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],q2,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],q2,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",q2,"{1} 'at' {0}",q2],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pz(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Ql={};function d8(o){const l=function B3(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=v8(l);if(a)return a;const u=l.split("-")[0];if(a=v8(u),a)return a;if("en"===u)return A3;throw new Ke(701,!1)}function O3(o){return d8(o)[Zl.PluralCase]}function v8(o){return o in Ql||(Ql[o]=cn.ng&&cn.ng.common&&cn.ng.common.locales&&cn.ng.common.locales[o]),Ql[o]}var Zl=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Zl||{});const Xl="en-US";let k3=Xl;function S8(o,l,a,u){const v=me(),m=Ft(),p=an();return L8(m,v,v[zt],p,o,l,u),S8}function L8(o,l,a,u,v,m,p){const w=jh(u),M=o.firstCreatePass&&Ot(o),S=l[yn],H=da(l);let $=!0;if(3&u.type||p){const ze=q1(u,l),Ie=p?p(ze):ze,Ye=H.length,be=p?Ut=>p(dt(Ut[u.index])):u.index;let gt=null;if(!p&&w&&(gt=function jz(o,l,a,u){const v=o.cleanup;if(null!=v)for(let m=0;m<v.length-1;m+=2){const p=v[m];if(p===a&&v[m+1]===u){const w=l[br],z=v[m+2];return w.length>z?w[z]:null}"string"==typeof p&&(m+=2)}return null}(o,l,v,u.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=m,gt.__ngLastListenerFn__=m,$=!1;else{m=Wz(u,l,S,m,!1);const Ut=a.listen(Ie,v,m);H.push(m,Ut),M&&M.push(v,be,Ye,Ye+1)}}else m=Wz(u,l,S,m,!1);const K=u.outputs;let ce;if($&&null!==K&&(ce=K[v])){const ze=ce.length;if(ze)for(let Ie=0;Ie<ze;Ie+=2){const Yt=l[ce[Ie]][ce[Ie+1]].subscribe(m),Xn=H.length;H.push(m,Yt),M&&M.push(v,u.index,Xn,"function"==typeof Yt?Xn+1:-(Xn+1))}}}function U9(o,l,a,u){const v=T(null);try{return ds(6,l,a),!1!==a(u)}catch(m){return $s(o,m),!1}finally{ds(7,l,a),T(v)}}function Wz(o,l,a,u,v){return function m(p){if(p===Function)return u;N4(o.componentOffset>-1?Ei(o.index,l):l);let z=U9(l,a,u,p),M=m.__ngNextListenerFn__;for(;M;)z=U9(l,a,M,p)&&z,M=M.__ngNextListenerFn__;return v&&!1===z&&p.preventDefault(),z}}function rt(o=1){return function e5(o){return(yt.lFrame.contextLView=function nd(o,l){for(;o>0;)l=l[Er],o--;return l}(o,yt.lFrame.contextLView))[yn]}(o)}function qz(o,l){let a=null;const u=function Vf(o){const l=o.attrs;if(null!=l){const a=l.indexOf(5);if(!(1&a))return l[a+1]}return null}(o);for(let v=0;v<l.length;v++){const m=l[v];if("*"!==m){if(null===u?xc(o,m,!0):bc(u,m))return v}else a=v}return a}function U3(o){const l=me()[Ln][x1];if(!l.projection){const u=l.projection=function R0(o,l){const a=[];for(let u=0;u<o;u++)a.push(l);return a}(o?o.length:1,null),v=u.slice();let m=l.child;for(;null!==m;){const p=o?qz(m,o):0;null!==p&&(v[p]?v[p].projectionNext=m:u[p]=m,v[p]=m),m=m.next}}}function j9(o,l=0,a){const u=me(),v=Ft(),m=B2(v,lt+o,16,null,a||null);null===m.projection&&(m.projection=l),ld(),(!u[Gi]||Tc())&&32!=(32&m.flags)&&function Cw(o,l,a){Mw(l[zt],0,l,a,q5(o,a,l),S7(a.parent||l[x1],a,l))}(v,u,m)}function q9(o,l,a,u){!function ba(o,l,a,u){const v=Ft();if(v.firstCreatePass){const m=an();bv(v,new zv(l,a,u),m.index),function x6(o,l){const a=o.contentQueries||(o.contentQueries=[]);l!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,l)}(v,o),2==(2&a)&&(v.staticContentQueries=!0)}return Mv(v,me(),a)}(o,l,a,u)}function K9(o,l,a){!function M6(o,l,a){const u=Ft();return u.firstCreatePass&&(bv(u,new zv(o,l,a),-1),2==(2&l)&&(u.staticViewQueries=!0)),Mv(u,me(),l)}(o,l,a)}function ws(o){const l=me(),a=Ft(),u=Qh();A0(u+1);const v=i3(a,u);if(o.dirty&&function Of(o){return 4==(4&o[ct])}(l)===(2==(2&v.metadata.flags))){if(null===v.matches)o.reset([]);else{const m=b6(l,u);o.reset(m,P0),o.notifyOnChanges()}return!0}return!1}function V8(){return function Cv(o,l){return o[m2].queries[l].queryList}(me(),Qh())}function Q9(o){return Hc(function Ex(){return yt.lFrame.contextLView}(),lt+o)}function O8(o,l=""){const a=me(),u=Ft(),v=o+lt,m=u.firstCreatePass?B2(u,v,1,l,null):u.data[v],p=B8(u,a,m,l,o);a[v]=p,Lr()&&L4(u,a,p,m),cs(m,!1)}let B8=(o,l,a,u,v)=>(z2(!0),function x4(o,l){return o.createText(l)}(l[zt],u));function K3(o){return Y3("",o,""),K3}function Y3(o,l,a){const u=me(),v=function Rl(o,l,a,u){return jn(o,as(),a)?l+Ct(a)+u:Lt}(u,o,l,a);return v!==Lt&&function ms(o,l,a){const u=V0(l,o);!function y7(o,l,a){o.setValue(l,a)}(o[zt],u,a)}(u,f1(),v),Y3}function P8(o,l,a){E_(l)&&(l=l());const u=me();return jn(u,as(),l)&&di(Ft(),Cn(),u,o,l,u[zt],a,!1),P8}function ug(o,l){const a=E_(o);return a&&o.set(l),a}function Xa(o,l){const a=me(),u=Ft(),v=an();return L8(u,a,a[zt],v,o,l),Xa}function R8(o,l,a,u,v){if(o=Je(o),Array.isArray(o))for(let m=0;m<o.length;m++)R8(o[m],l,a,u,v);else{const m=Ft(),p=me(),w=an();let z=bo(o)?o:Je(o.provide);const M=Kr(o),S=1048575&w.providerIndexes,H=w.directiveStart,$=w.providerIndexes>>20;if(bo(o)||!o.multi){const K=new So(M,v,la),ce=Z3(z,l,v?S:S+$,H);-1===ce?(Ii(L5(w,p),m,z),N8(m,o,l.length),l.push(z),w.directiveStart++,w.directiveEnd++,v&&(w.providerIndexes+=1048576),a.push(K),p.push(K)):(a[ce]=K,p[ce]=K)}else{const K=Z3(z,l,S+$,H),ce=Z3(z,l,S,S+$),Ie=ce>=0&&a[ce];if(v&&!Ie||!v&&!(K>=0&&a[K])){Ii(L5(w,p),m,z);const Ye=function ey(o,l,a,u,v){const m=new So(o,a,la);return m.multi=[],m.index=l,m.componentProviders=0,Q3(m,v,u&&!a),m}(v?dg:Jz,a.length,v,u,M);!v&&Ie&&(a[ce].providerFactory=Ye),N8(m,o,l.length,0),l.push(z),w.directiveStart++,w.directiveEnd++,v&&(w.providerIndexes+=1048576),a.push(Ye),p.push(Ye)}else N8(m,o,K>-1?K:ce,Q3(a[v?ce:K],M,!v&&u));!v&&u&&Ie&&a[ce].componentProviders++}}}function N8(o,l,a,u){const v=bo(l),m=function n4(o){return!!o.useClass}(l);if(v||m){const z=(m?Je(l.useClass):l).prototype.ngOnDestroy;if(z){const M=o.destroyHooks||(o.destroyHooks=[]);if(!v&&l.multi){const S=M.indexOf(a);-1===S?M.push(a,[u,z]):M[S+1].push(u,z)}else M.push(a,z)}}}function Q3(o,l,a){return a&&o.componentProviders++,o.multi.push(l)-1}function Z3(o,l,a,u){for(let v=a;v<u;v++)if(l[v]===o)return v;return-1}function Jz(o,l,a,u){return X3(this.multi,[])}function dg(o,l,a,u){const v=this.multi;let m;if(this.providerFactory){const p=this.providerFactory.componentProviders,w=Vo(a,a[Ge],this.providerFactory.index,u);m=w.slice(0,p),X3(v,m);for(let z=p;z<w.length;z++)m.push(w[z])}else m=[],X3(v,m);return m}function X3(o,l){for(let a=0;a<o.length;a++)l.push((0,o[a])());return l}function ty(o,l=[]){return a=>{a.providersResolver=(u,v)=>function k8(o,l,a){const u=Ft();if(u.firstCreatePass){const v=bi(o);R8(a,u.data,u.blueprint,v,!0),R8(l,u.data,u.blueprint,v,!1)}}(u,v?v(o):o,l)}}let bE=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=L2(0,a.type),v=u.length>0?qi([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,v)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Vn({token:o,providedIn:"environment",factory:()=>new o(n1(Ui))})}return o})();function Fn(o){Wi("NgStandalone"),o.getStandaloneInjector=l=>l.get(bE).getOrCreateStandaloneInjector(o)}function zg(o,l,a){const u=K1()+o,v=me();return v[u]===Lt?gi(v,u,a?l.call(a):l()):function Sa(o,l){return o[l]}(v,u)}function nh(o,l,a,u){return en(me(),K1(),o,l,a,u)}function ih(o,l,a,u,v){return function Cg(o,l,a,u,v,m,p){const w=l+a;return Bn(o,w,v,m)?gi(o,w+2,p?u.call(p,v,m):u(v,m)):Ji(o,w+2)}(me(),K1(),o,l,a,u,v)}function yg(o,l,a,u,v,m){return function sh(o,l,a,u,v,m,p,w){const z=l+a;return function La(o,l,a,u,v){const m=Bn(o,l,a,u);return jn(o,l+2,v)||m}(o,z,v,m,p)?gi(o,z+3,w?u.call(w,v,m,p):u(v,m,p)):Ji(o,z+3)}(me(),K1(),o,l,a,u,v,m)}function Q2(o,l,a,u){return function j8(o,l,a,u,v,m){let p=l+a,w=!1;for(let z=0;z<v.length;z++)jn(o,p++,v[z])&&(w=!0);return w?gi(o,p,u.apply(m,v)):Ji(o,p)}(me(),K1(),o,l,a,u)}function Ji(o,l){const a=o[l];return a===Lt?void 0:a}function en(o,l,a,u,v,m){const p=l+a;return jn(o,p,v)?gi(o,p+1,m?u.call(m,v):u(v)):Ji(o,p+1)}function $8(o,l,a,u,v,m,p,w,z){const M=l+a;return function Yi(o,l,a,u,v,m){const p=Bn(o,l,a,u);return Bn(o,l+2,v,m)||p}(o,M,v,m,p,w)?gi(o,M+4,z?u.call(z,v,m,p,w):u(v,m,p,w)):Ji(o,M+4)}function W8(o,l){const a=Ft();let u;const v=o+lt;a.firstCreatePass?(u=function HE(o,l){if(l)for(let a=l.length-1;a>=0;a--){const u=l[a];if(o===u.name)return u}}(l,a.pipeRegistry),a.data[v]=u,u.onDestroy&&(a.destroyHooks??=[]).push(v,u.onDestroy)):u=a.data[v];const m=u.factory||(u.factory=Mo(u.type)),w=a1(la);try{const z=Xc(!1),M=m();return Xc(z),function Yz(o,l,a,u){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),l[a]=u}(a,me(),v,M),M}finally{a1(w)}}function oh(o,l,a){const u=o+lt,v=me(),m=Hc(v,u);return e0(v,u)?en(v,K1(),l,m.transform,a,m):m.transform(a)}function Ja(o,l,a,u,v,m){const p=o+lt,w=me(),z=Hc(w,p);return e0(w,p)?$8(w,K1(),l,z.transform,a,u,v,m,z):z.transform(a,u,v,m)}function e0(o,l){return o[Ge].data[l].pure}function Mg(o,l){return c6(o,l)}class ar{constructor(l){this.full=l;const a=l.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}let hh=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const dh=new At(""),$g=new At("");let vh,jg=(()=>{class o{constructor(a,u,v){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,vh||(function qg(o){vh=o}(v),v.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,v){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==m),a()},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:v})}whenStable(a,u,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,v){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(n1(Dn),n1(Wg),n1($g))};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac})}return o})(),Wg=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return vh?.findTestabilityInTree(this,a,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function ou(o){return!!o&&"function"==typeof o.then}function Kg(o){return!!o&&"function"==typeof o.subscribe}const Oy=new At("");let Cs=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=vt(Oy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const v of this.appInits){const m=v();if(ou(m))a.push(m);else if(Kg(m)){const p=new Promise((w,z)=>{m.subscribe({complete:w,error:z})});a.push(p)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(v=>{this.reject(v)}),0===a.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const l2=new At("");let hr=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vt($d),this.afterRenderEffectManager=vt(bl),this.componentTypes=[],this.components=[],this.isStable=vt(Ws).hasPendingTasks.pipe((0,$1.k)(a=>!a)),this._injector=vt(Ui)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const v=a instanceof sv;if(!this._injector.get(Cs).done)throw!v&&Gn(a),new Ke(405,!1);let p;p=v?a:this._injector.get(Cl).resolveComponentFactory(a),this.componentTypes.push(p.componentType);const w=function Yg(o){return o.isBoundToModule}(p)?void 0:this._injector.get(G2),M=p.create(T1.NULL,[],u||p.selector,w),S=M.location.nativeElement,H=M.injector.get(dh,null);return H?.registerApplication(S),M.onDestroy(()=>{this.detachView(M.hostView),ru(this.components,M),H?.unregisterApplication(S)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Ke(101,!1);const a=T(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1,T(a)}}detectChangesInAttachedViews(){let a=0;const u=this.afterRenderEffectManager;for(;;){if(100===a)throw new Ke(103,!1);const v=0===a;for(let{_lView:m,notifyErrorHandler:p}of this._views)!v&&!cu(m)||this.detectChangesInView(m,p,v);if(a++,u.executeInternalCallbacks(),!this._views.some(({_lView:m})=>cu(m))&&(u.execute(),!this._views.some(({_lView:m})=>cu(m))))break}}detectChangesInView(a,u,v){let m;v?(m=0,a[ct]|=1024):m=64&a[ct]?0:1,k4(a,u,m)}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;ru(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(l2,[]);[...this._bootstrapListeners,...u].forEach(v=>v(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ru(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ke(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function ru(o,l){const a=o.indexOf(l);a>-1&&o.splice(a,1)}function cu(o){return Ic(o)}class YE{constructor(l,a){this.ngModuleFactory=l,this.componentFactories=a}}let Qg=(()=>{class o{compileModuleSync(a){return new l3(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),m=hi(Ht(a).declarations).reduce((p,w)=>{const z=qe(w);return z&&p.push(new xa(z)),p},[]);return new YE(u,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Jg=(()=>{class o{constructor(){this.zone=vt(Dn),this.applicationRef=vt(hr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function em(o){return[{provide:Dn,useFactory:o},{provide:xo,multi:!0,useFactory:()=>{const l=vt(Jg,{optional:!0});return()=>l.initialize()}},{provide:xo,multi:!0,useFactory:()=>{const l=vt(Uy);return()=>{l.initialize()}}},{provide:$d,useFactory:Fy}]}function Fy(){const o=vt(Dn),l=vt(T2);return a=>o.runOutsideAngular(()=>l.handleError(a))}function Gy(o){return Uc([[],em(()=>new Dn(function tm(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}(o)))])}let Uy=(()=>{class o{constructor(){this.subscription=new M1.wH,this.initialized=!1,this.zone=vt(Dn),this.pendingTasks=vt(Ws)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Dn.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Dn.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const uu=new At("",{providedIn:"root",factory:()=>vt(uu,kt.Optional|kt.SkipSelf)||function QE(){return typeof $localize<"u"&&$localize.locale||Xl}()}),$y=new At("",{providedIn:"root",factory:()=>"USD"}),du=new At("");let c2=null;function om(){return!1}let lm=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Yy}return o})();function Yy(o){return function Qy(o,l,a){if(ls(o)&&!a){const u=Ei(o.index,l);return new P2(u,u)}return 47&o.type?new P2(l[Ln],l):null}(an(),me(),16==(16&o))}class um{constructor(){}supports(l){return Il(l)}create(l){return new tC(l)}}const eC=(o,l)=>l;class tC{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||eC}forEachItem(l){let a;for(a=this._itHead;null!==a;a=a._next)l(a)}forEachOperation(l){let a=this._itHead,u=this._removalsHead,v=0,m=null;for(;a||u;){const p=!u||a&&a.currentIndex<pu(u,v,m)?a:u,w=pu(p,v,m),z=p.currentIndex;if(p===u)v--,u=u._nextRemoved;else if(a=a._next,null==p.previousIndex)v++;else{m||(m=[]);const M=w-v,S=z-v;if(M!=S){for(let $=0;$<M;$++){const K=$<m.length?m[$]:m[$]=0,ce=K+$;S<=ce&&ce<M&&(m[$]=K+1)}m[p.previousIndex]=S-M}}w!==z&&l(p,w,z)}}forEachPreviousItem(l){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)l(a)}forEachAddedItem(l){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)l(a)}forEachMovedItem(l){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)l(a)}forEachRemovedItem(l){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)l(a)}forEachIdentityChange(l){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)l(a)}diff(l){if(null==l&&(l=[]),!Il(l))throw new Ke(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let v,m,p,a=this._itHead,u=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)m=l[w],p=this._trackByFn(w,m),null!==a&&Object.is(a.trackById,p)?(u&&(a=this._verifyReinsertion(a,m,p,w)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,p,w),u=!0),a=a._next}else v=0,function at(o,l){if(Array.isArray(o))for(let a=0;a<o.length;a++)l(o[a]);else{const a=o[Symbol.iterator]();let u;for(;!(u=a.next()).done;)l(u.value)}}(l,w=>{p=this._trackByFn(v,w),null!==a&&Object.is(a.trackById,p)?(u&&(a=this._verifyReinsertion(a,w,p,v)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,p,v),u=!0),a=a._next,v++}),this.length=v;return this._truncate(a),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,a,u,v){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(l.item,a)||this._addIdentityChange(l,a),this._reinsertAfter(l,m,v)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(u,v))?(Object.is(l.item,a)||this._addIdentityChange(l,a),this._moveAfter(l,m,v)):l=this._addAfter(new nC(a,u),m,v),l}_verifyReinsertion(l,a,u,v){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?l=this._reinsertAfter(m,l._prev,v):l.currentIndex!=v&&(l.currentIndex=v,this._addToMoves(l,v)),l}_truncate(l){for(;null!==l;){const a=l._next;this._addToRemovals(this._unlink(l)),l=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const v=l._prevRemoved,m=l._nextRemoved;return null===v?this._removalsHead=m:v._nextRemoved=m,null===m?this._removalsTail=v:m._prevRemoved=v,this._insertAfter(l,a,u),this._addToMoves(l,u),l}_moveAfter(l,a,u){return this._unlink(l),this._insertAfter(l,a,u),this._addToMoves(l,u),l}_addAfter(l,a,u){return this._insertAfter(l,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,a,u){const v=null===a?this._itHead:a._next;return l._next=v,l._prev=a,null===v?this._itTail=l:v._prev=l,null===a?this._itHead=l:a._next=l,null===this._linkedRecords&&(this._linkedRecords=new r0),this._linkedRecords.put(l),l.currentIndex=u,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const a=l._prev,u=l._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,l}_addToMoves(l,a){return l.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new r0),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,a){return l.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class nC{constructor(l,a){this.item=l,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iC{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,l))return u;return null}remove(l){const a=l._prevDup,u=l._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class r0{constructor(){this.map=new Map}put(l){const a=l.trackById;let u=this.map.get(a);u||(u=new iC,this.map.set(a,u)),u.add(l)}get(l,a){const v=this.map.get(l);return v?v.get(l,a):null}remove(l){const a=l.trackById;return this.map.get(a).remove(l)&&this.map.delete(a),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pu(o,l,a){const u=o.previousIndex;if(null===u)return u;let v=0;return a&&u<a.length&&(v=a[u]),u+l+v}class wu{constructor(){}supports(l){return l instanceof Map||kv(l)}create(){return new ph}}class ph{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let a;for(a=this._mapHead;null!==a;a=a._next)l(a)}forEachPreviousItem(l){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)l(a)}forEachChangedItem(l){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)l(a)}forEachAddedItem(l){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)l(a)}forEachRemovedItem(l){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)l(a)}diff(l){if(l){if(!(l instanceof Map||kv(l)))throw new Ke(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(l,(u,v)=>{if(a&&a.key===v)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(v,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,a){if(l){const u=l._prev;return a._next=l,a._prev=u,l._prev=a,u&&(u._next=a),l===this._mapHead&&(this._mapHead=a),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(l,a){if(this._records.has(l)){const v=this._records.get(l);this._maybeAddToChanges(v,a);const m=v._prev,p=v._next;return m&&(m._next=p),p&&(p._prev=m),v._next=null,v._prev=null,v}const u=new _t(l);return this._records.set(l,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,a){Object.is(a,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=a,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,a){l instanceof Map?l.forEach(a):Object.keys(l).forEach(u=>a(l[u],u))}}class _t{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ms(){return new u1([new um])}let u1=(()=>{class o{static#e=this.\u0275prov=Vn({token:o,providedIn:"root",factory:Ms});constructor(a){this.factories=a}static create(a,u){if(null!=u){const v=u.factories.slice();a=a.concat(v)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||Ms()),deps:[[o,new t4,new Wr]]}}find(a){const u=this.factories.find(v=>v.supports(a));if(null!=u)return u;throw new Ke(901,!1)}}return o})();function sC(){return new _u([new wu])}let _u=(()=>{class o{static#e=this.\u0275prov=Vn({token:o,providedIn:"root",factory:sC});constructor(a){this.factories=a}static create(a,u){if(u){const v=u.factories.slice();a=a.concat(v)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||sC()),deps:[[o,new t4,new Wr]]}}find(a){const u=this.factories.find(v=>v.supports(a));if(u)return u;throw new Ke(901,!1)}}return o})(),uS=(()=>{class o{constructor(a){}static#e=this.\u0275fac=function(u){return new(u||o)(n1(hr))};static#t=this.\u0275mod=ie({type:o});static#n=this.\u0275inj=r5({})}return o})();function MC(o){try{const{rootComponent:l,appProviders:a,platformProviders:u}=o,v=function Ky(o=[]){if(c2)return c2;const l=function im(o=[],l){return T1.create({name:l,providers:[{provide:C5,useValue:"platform"},{provide:du,useValue:new Set([()=>c2=null])},...o]})}(o);return c2=l,function Py(){!function v2(o){fn=o}(()=>{throw new Ke(600,!1)})}(),function sm(o){o.get(sp,null)?.forEach(a=>a())}(l),l}(u),m=[Gy(),...a||[]],w=new R_({providers:m,parent:v,debugName:"",runEnvironmentInitializers:!1}).injector,z=w.get(Dn);return z.run(()=>{w.resolveInjectorInitializers();const M=w.get(T2,null);let S;z.runOutsideAngular(()=>{S=z.onError.subscribe({next:K=>{M.handleError(K)}})});const H=()=>w.destroy(),$=v.get(du);return $.add(H),w.onDestroy(()=>{S.unsubscribe(),$.delete(H)}),function ky(o,l,a){try{const u=a();return ou(u)?u.catch(v=>{throw l.runOutsideAngular(()=>o.handleError(v)),v}):u}catch(u){throw l.runOutsideAngular(()=>o.handleError(u)),u}}(M,z,()=>{const K=w.get(Cs);return K.runInitializers(),K.donePromise.then(()=>{!function R3(o){"string"==typeof o&&(k3=o.toLowerCase().replace(/_/g,"-"))}(w.get(uu,Xl)||Xl);const ze=w.get(hr);return void 0!==l&&ze.bootstrap(l),ze})})})}catch(l){return Promise.reject(l)}}function Ae(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Tm(o,l){Wi("NgSignals");const a=function Ce(o){const l=Object.create(dn);l.computation=o;const a=()=>{if(pe(l),X(l),l.value===ln)throw l.error;return l.value};return a[r]=l,a}(o);return l?.equal&&(a[r].equal=l.equal),a}function PC(o){const l=T(null);try{return o()}finally{T(l)}}const kC=new At("",{providedIn:"root",factory:()=>vt(RC)});let RC=(()=>{class o{static#e=this.\u0275prov=Vn({token:o,providedIn:"root",factory:()=>new Eu})}return o})();class Eu{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=vt(Ws),this.taskId=null}scheduleEffect(l){if(this.enqueue(l),null===this.taskId){const a=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(a),this.taskId=null})}}enqueue(l){const a=l.creationZone;this.queues.has(a)||this.queues.set(a,new Set);const u=this.queues.get(a);u.has(l)||(this.queuedEffectCount++,u.add(l))}flush(){for(;this.queuedEffectCount>0;)for(const[l,a]of this.queues)null===l?this.flushQueue(a):l.run(()=>this.flushQueue(a))}flushQueue(l){for(const a of l)l.delete(a),this.queuedEffectCount--,a.run()}}class X2{constructor(l,a,u,v,m,p){this.scheduler=l,this.effectFn=a,this.creationZone=u,this.injector=m,this.watcher=function Wn(o,l,a){const u=Object.create(Rt);a&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=l;const v=z=>{u.cleanupFn=z};return u.ref={notify:()=>Be(u),run:()=>{if(null===u.fn)return;if(function A(){return Y}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!k(u))return;u.hasRun=!0;const z=De(u);try{u.cleanupFn(),u.cleanupFn=mt,u.fn(v)}finally{D(u,z)}},cleanup:()=>u.cleanupFn(),destroy:()=>function p(z){(function m(z){return null===z.fn&&null===z.schedule})(z)||(q(z),z.cleanupFn(),z.fn=null,z.schedule=null,z.cleanupFn=mt)}(u),[r]:u},u.ref}(w=>this.runEffect(w),()=>this.schedule(),p),this.unregisterOnDestroy=v?.onDestroy(()=>this.destroy())}runEffect(l){try{this.effectFn(l)}catch(a){this.injector.get(T2,null,{optional:!0})?.handleError(a)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Su(o,l){Wi("NgSignals"),!l?.injector&&us();const a=l?.injector??vt(T1),u=!0!==l?.manualCleanup?a.get(Ml):null,v=new X2(a.get(kC),o,typeof Zone>"u"?null:Zone.current,u,a,l?.allowSignalWrites??!1),m=a.get(lm,null,{optional:!0});return m&&8&m._lView[ct]?(m._lView[b0]??=[]).push(v.watcher.notify):v.watcher.notify(),v}function J2(o){const l=qe(o);if(!l)return null;const a=new xa(l);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return l.standalone},get isSignal(){return l.signals}}}},7560:(Z,j,E)=>{"use strict";E.d(j,{i6:()=>Y});var I=E(9228);function Y(P,r){const T=!r?.manualCleanup;T&&!r?.injector&&(0,I.yAg)(Y);const W=T?r?.injector?.get(I.eM9)??(0,I.uUt)(I.eM9):null;let A;A=(0,I.OCB)(r?.requireSync?{kind:0}:{kind:1,value:r?.initialValue});const Q=P.subscribe({next:U=>A.set({kind:1,value:U}),error:U=>{if(r?.rejectErrors)throw U;A.set({kind:2,error:U})}});return W?.onDestroy(Q.unsubscribe.bind(Q)),(0,I.S6b)(()=>{const U=A();switch(U.kind){case 1:return U.value;case 2:throw U.error;case 0:throw new I.OBp(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},480:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{OU:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9228),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6284),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9864),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(872),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3618),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5692),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7668),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1652),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2500),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8112),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6744),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(640),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1552),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8192),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(8676),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6264),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8480),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6792),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3140),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5e3),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(292),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6680),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(7560);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(j,E){if(this.action=j,this.timestamp=E,this.type=PERFORM_ACTION,typeof j.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(j){this.timestamp=j,this.type=RESET}}class Rollback{constructor(j){this.timestamp=j,this.type=ROLLBACK}}class Commit{constructor(j){this.timestamp=j,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(j){this.id=j,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(j,E,I=!0){this.start=j,this.end=E,this.active=I,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(j){this.index=j,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(j){this.actionId=j,this.type=JUMP_TO_ACTION}}class ImportState{constructor(j){this.nextLiftedState=j,this.type=IMPORT_STATE}}class LockChanges{constructor(j){this.status=j,this.type=LOCK_CHANGES}}class PauseRecording{constructor(j){this.status=j,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.UbH("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.UbH("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Z){const j={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},E="function"==typeof Z?Z():Z,G=E.features||!!E.logOnly&&{pause:!0,export:!0,test:!0}||j.features;!0===G.import&&(G.import="custom");const N=Object.assign({},j,{features:G},E);if(N.maxAge&&N.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${N.maxAge}`);return N}function difference(Z,j){return Z.filter(E=>j.indexOf(E)<0)}function unliftState(Z){const{computedStates:j,currentStateIndex:E}=Z;if(E>=j.length){const{state:G}=j[j.length-1];return G}const{state:I}=j[E];return I}function unliftAction(Z){return Z.actionsById[Z.nextActionId-1]}function liftAction(Z){return new PerformAction(Z,+Date.now())}function sanitizeActions(Z,j){return Object.keys(j).reduce((E,I)=>{const G=Number(I);return E[G]=sanitizeAction(Z,j[G],G),E},{})}function sanitizeAction(Z,j,E){return{...j,action:Z(j.action,E)}}function sanitizeStates(Z,j){return j.map((E,I)=>({state:sanitizeState(Z,E.state,I),error:E.error}))}function sanitizeState(Z,j,E){return Z(j,E)}function shouldFilterActions(Z){return Z.predicate||Z.actionsSafelist||Z.actionsBlocklist}function filterLiftedState(Z,j,E,I){const G=[],N={},Y=[];return Z.stagedActionIds.forEach((P,r)=>{const T=Z.actionsById[P];T&&(r&&isActionFiltered(Z.computedStates[r],T,j,E,I)||(N[P]=T,G.push(P),Y.push(Z.computedStates[r])))}),{...Z,stagedActionIds:G,actionsById:N,computedStates:Y}}function isActionFiltered(Z,j,E,I,G){const N=E&&!E(Z,j.action),Y=I&&!j.action.type.match(I.map(r=>escapeRegExp(r)).join("|")),P=G&&j.action.type.match(G.map(r=>escapeRegExp(r)).join("|"));return N||Y||P}function escapeRegExp(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(Z){return{ngZone:Z?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.uUt)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.WW2):null,connectInZone:Z}}let DevtoolsDispatcher=(()=>{class Z extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Ev{static#e=this.\u0275fac=(()=>{let E;return function(G){return(E||(E=_angular_core__WEBPACK_IMPORTED_MODULE_0__.otF(Z)))(G||Z)}})();static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.wxM({token:Z,factory:Z.\u0275fac})}return Z})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.UbH("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Z,j,E){this.config=j,this.dispatcher=E,this.zoneConfig=injectZoneConfig(this.config.connectInZone),this.devtoolsExtension=Z,this.createActionStreams()}notify(Z,j){if(this.devtoolsExtension)if(Z.type===PERFORM_ACTION){if(j.isLocked||j.isPaused)return;const E=unliftState(j);if(shouldFilterActions(this.config)&&isActionFiltered(E,Z,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const I=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,E,j.currentStateIndex):E,G=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Z,j.nextActionId):Z;this.sendToReduxDevtools(()=>this.extensionConnection.send(G,I))}else{const E={...j,stagedActionIds:j.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,j.actionsById):j.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,j.computedStates):j.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,E,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__._(Z=>{const j=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=j,j.init(),j.subscribe(E=>Z.next(E)),j.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.k}createActionStreams(){const Z=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.o)()),j=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I)(P=>P.type===ExtensionActionTypes.START)),E=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I)(P=>P.type===ExtensionActionTypes.STOP)),I=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I)(P=>P.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.k)(P=>this.unwrapAction(P.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.m)(P=>P.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I)(r=>r.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.kt),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.m)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.o)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.k)(()=>P),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(P)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(P))),N=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.I)(P=>P.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.k)(P=>this.unwrapAction(P.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(E)),Y=I.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(E));this.start$=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(E)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.G)(()=>N)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.G)(()=>Y))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Z){const j={name:Z.name,features:Z.features,serialize:Z.serialize,autoPause:Z.autoPause??!1,trace:Z.trace??!1,traceLimit:Z.traceLimit??75};return!1!==Z.maxAge&&(j.maxAge=Z.maxAge),j}sendToReduxDevtools(Z){try{Z()}catch(j){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",j)}}static#_=this.\u0275fac=function Z(j){return new(j||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(DevtoolsDispatcher))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.wxM({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac})}return DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Qz},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Z,j,E,I,G){if(I)return{state:E,error:"Interrupted by an error up the chain"};let Y,N=E;try{N=Z(E,j)}catch(P){Y=P.toString(),G.handleError(P)}return{state:N,error:Y}}function recomputeStates(Z,j,E,I,G,N,Y,P,r){if(j>=Z.length&&Z.length===N.length)return Z;const T=Z.slice(0,j),W=N.length-(r?1:0);for(let A=j;A<W;A++){const Q=N[A],U=G[Q].action,X=T[A-1],he=X?X.state:I,pe=X?X.error:void 0,Se=Y.indexOf(Q)>-1?X:computeNextEntry(E,U,he,pe,P);T.push(Se)}return r&&T.push(Z[Z.length-1]),T}function liftInitialState(Z,j){return{monitorState:j(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Z,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Z,j,E,I,G={}){return N=>(Y,P)=>{let{monitorState:r,actionsById:T,nextActionId:W,stagedActionIds:A,skippedActionIds:Q,committedState:U,currentStateIndex:X,computedStates:he,isLocked:pe,isPaused:we}=Y||j;function Se(D){let k=D,q=A.slice(1,k+1);for(let le=0;le<q.length;le++){if(he[le+1].error){k=le,q=A.slice(1,k+1);break}delete T[q[le]]}Q=Q.filter(le=>-1===q.indexOf(le)),A=[0,...A.slice(k+1)],U=he[k].state,he=he.slice(k),X=X>k?X-k:0}function Be(){T={0:liftAction(INIT_ACTION)},W=1,A=[0],Q=[],U=he[X].state,X=0,he=[]}Y||(T=Object.create(T));let De=0;switch(P.type){case LOCK_CHANGES:pe=P.status,De=1/0;break;case PAUSE_RECORDING:we=P.status,we?(A=[...A,W],T[W]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),W++,De=A.length-1,he=he.concat(he[he.length-1]),X===A.length-2&&X++,De=1/0):Be();break;case RESET:T={0:liftAction(INIT_ACTION)},W=1,A=[0],Q=[],U=Z,X=0,he=[];break;case COMMIT:Be();break;case ROLLBACK:T={0:liftAction(INIT_ACTION)},W=1,A=[0],Q=[],X=0,he=[];break;case TOGGLE_ACTION:{const{id:D}=P;Q=-1===Q.indexOf(D)?[D,...Q]:Q.filter(q=>q!==D),De=A.indexOf(D);break}case SET_ACTIONS_ACTIVE:{const{start:D,end:k,active:q}=P,le=[];for(let Me=D;Me<k;Me++)le.push(Me);Q=q?difference(Q,le):[...Q,...le],De=A.indexOf(D);break}case JUMP_TO_STATE:X=P.index,De=1/0;break;case JUMP_TO_ACTION:{const D=A.indexOf(P.actionId);-1!==D&&(X=D),De=1/0;break}case SWEEP:A=difference(A,Q),Q=[],X=Math.min(X,A.length-1);break;case PERFORM_ACTION:{if(pe)return Y||j;if(we||Y&&isActionFiltered(Y.computedStates[X],P,G.predicate,G.actionsSafelist,G.actionsBlocklist)){const k=he[he.length-1];he=[...he.slice(0,-1),computeNextEntry(N,P.action,k.state,k.error,E)],De=1/0;break}G.maxAge&&A.length===G.maxAge&&Se(1),X===A.length-1&&X++;const D=W++;T[D]=P,A=[...A,D],De=A.length-1;break}case IMPORT_STATE:({monitorState:r,actionsById:T,nextActionId:W,stagedActionIds:A,skippedActionIds:Q,committedState:U,currentStateIndex:X,computedStates:he,isLocked:pe,isPaused:we}=P.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Qz:De=0,G.maxAge&&A.length>G.maxAge&&(he=recomputeStates(he,De,N,U,T,A,Q,E,we),Se(A.length-G.maxAge),De=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.kt:if(he.filter(k=>k.error).length>0)De=0,G.maxAge&&A.length>G.maxAge&&(he=recomputeStates(he,De,N,U,T,A,Q,E,we),Se(A.length-G.maxAge),De=1/0);else{if(!we&&!pe){X===A.length-1&&X++;const k=W++;T[k]=new PerformAction(P,+Date.now()),A=[...A,k],De=A.length-1,he=recomputeStates(he,De,N,U,T,A,Q,E,we)}he=he.map(k=>({...k,state:N(k.state,RECOMPUTE_ACTION)})),X=A.length-1,G.maxAge&&A.length>G.maxAge&&Se(A.length-G.maxAge),De=1/0}break;default:De=1/0}return he=recomputeStates(he,De,N,U,T,A,Q,E,we),r=I(r,P),{monitorState:r,actionsById:T,nextActionId:W,stagedActionIds:A,skippedActionIds:Q,committedState:U,currentStateIndex:X,computedStates:he,isLocked:pe,isPaused:we}}}let StoreDevtools=(()=>{class Z{constructor(E,I,G,N,Y,P,r,T){const W=liftInitialState(r,T.monitor),A=liftReducerWith(r,W,P,T.monitor,T),Q=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.U)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.U)(I.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.s)(1)),N.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.k)(liftAction)),E,N.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.y)(rxjs__WEBPACK_IMPORTED_MODULE_18__.M)),U=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.k)(A)),X=injectZoneConfig(T.connectInZone),he=new rxjs__WEBPACK_IMPORTED_MODULE_19__.o(1);this.liftedStateSubscription=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.O)(U),emitInZone(X),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.K)(({state:Se},[Be,De])=>{let D=De(Se,Be);return Be.type!==PERFORM_ACTION&&shouldFilterActions(T)&&(D=filterLiftedState(D,T.predicate,T.actionsSafelist,T.actionsBlocklist)),N.notify(Be,D),{state:D,action:Be}},{state:W,action:null})).subscribe(({state:Se,action:Be})=>{he.next(Se),Be.type===PERFORM_ACTION&&Y.next(Be.action)}),this.extensionStartSubscription=N.start$.pipe(emitInZone(X)).subscribe(()=>{this.refresh()});const pe=he.asObservable(),we=pe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.k)(unliftState));Object.defineProperty(we,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.i6)(we,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=E,this.liftedState=pe,this.state=we}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(E){this.dispatcher.next(E)}next(E){this.dispatcher.next(E)}error(E){}complete(){}performAction(E){this.dispatch(new PerformAction(E,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(E){this.dispatch(new ToggleAction(E))}jumpToAction(E){this.dispatch(new JumpToAction(E))}jumpToState(E){this.dispatch(new JumpToState(E))}importState(E){this.dispatch(new ImportState(E))}lockChanges(E){this.dispatch(new LockChanges(E))}pauseRecording(E){this.dispatch(new PauseRecording(E))}static#e=this.\u0275fac=function(I){return new(I||Z)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Ev),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Lk),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(_angular_core__WEBPACK_IMPORTED_MODULE_0__.eAe),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.SY),_angular_core__WEBPACK_IMPORTED_MODULE_0__.CoB(STORE_DEVTOOLS_CONFIG))};static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.wxM({token:Z,factory:Z.\u0275fac})}return Z})();function emitInZone({ngZone:Z,connectInZone:j}){return E=>j?new rxjs__WEBPACK_IMPORTED_MODULE_3__._(I=>E.subscribe({next:G=>Z.run(()=>I.next(G)),error:G=>Z.run(()=>I.error(G)),complete:()=>Z.run(()=>I.complete())})):E}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.UbH("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Z,j){return!!Z||j.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Z="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Z]<"u"?window[Z]:null}function provideStoreDevtools(Z={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.AFj)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Z},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Wo,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.ei,useExisting:DevtoolsDispatcher}])}function createStateObservable(Z){return Z.state}let StoreDevtoolsModule=(()=>{class Z{static instrument(E={}){return{ngModule:Z,providers:[provideStoreDevtools(E)]}}static#e=this.\u0275fac=function(I){return new(I||Z)};static#t=this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.a4G({type:Z});static#n=this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.s3X({})}return Z})()},6284:(Z,j,E)=>{"use strict";E.d(j,{Ev:()=>re,Qz:()=>ne,SY:()=>ln,ei:()=>d1,Lk:()=>Ls,qg:()=>no,Wo:()=>l1,m_:()=>Gt,Y9:()=>xr,cx:()=>Ec,WA:()=>Mr,kt:()=>fc,Uh:()=>we,SM:()=>q,sj:()=>_r,EF:()=>M0,M3:()=>z0,w1:()=>le,on:()=>Fh,ov:()=>Se});var I=E(9228),G=E(1880),N=E(872),Y=E(2824),P=E(7668),r=E(5e3),T=E(292),W=E(6680),A=E(6744),U=E(2435),X=E(7560);const he={};function we(O,fe){if(he[O]=(he[O]||0)+1,"function"==typeof fe)return De(O,(...ae)=>({...fe(...ae),type:O}));switch(fe?fe._as:"empty"){case"empty":return De(O,()=>({type:O}));case"props":return De(O,ae=>({...ae,type:O}));default:throw new Error("Unexpected config.")}}function Se(){return{_as:"props",_p:void 0}}function De(O,fe){return Object.defineProperty(fe,"type",{value:O,writable:!1})}function D(O){return O.charAt(0).toUpperCase()+O.substring(1)}function q(O){const{source:fe,events:ie}=O;return Object.keys(ie).reduce((ae,Ve)=>({...ae,[Me(Ve)]:we(ee(fe,Ve),ie[Ve])}),{})}function le(){return{_as:"props",_p:void 0}}function Me(O){return O.trim().split(" ").map((fe,ie)=>0===ie?function k(O){return O.charAt(0).toLowerCase()+O.substring(1)}(fe):D(fe)).join("")}function ee(O,fe){return`[${O}] ${fe}`}const ne="@ngrx/store/init";let re=(()=>{class O extends G.g{constructor(){super({type:ne})}next(ie){if("function"==typeof ie)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ie>"u")throw new TypeError("Actions must be objects");if(typeof ie.type>"u")throw new TypeError("Actions must have a type property");super.next(ie)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(ae){return new(ae||O)};static#t=this.\u0275prov=I.wxM({token:O,factory:O.\u0275fac})}return O})();const Ce=[re],ke=new I.UbH("@ngrx/store Internal Root Guard"),un=new I.UbH("@ngrx/store Internal Initial State"),ln=new I.UbH("@ngrx/store Initial State"),dn=new I.UbH("@ngrx/store Reducer Factory"),Bt=new I.UbH("@ngrx/store Internal Reducer Factory Provider"),fn=new I.UbH("@ngrx/store Initial Reducers"),Xt=new I.UbH("@ngrx/store Internal Initial Reducers"),v2=new I.UbH("@ngrx/store Store Features"),ue=new I.UbH("@ngrx/store Internal Store Reducers"),de=new I.UbH("@ngrx/store Internal Feature Reducers"),ye=new I.UbH("@ngrx/store Internal Feature Configs"),_e=new I.UbH("@ngrx/store Internal Store Features"),je=new I.UbH("@ngrx/store Internal Feature Reducers Token"),Fe=new I.UbH("@ngrx/store Feature Reducers"),wt=new I.UbH("@ngrx/store User Provided Meta Reducers"),Pt=new I.UbH("@ngrx/store Meta Reducers"),Wn=new I.UbH("@ngrx/store Internal Resolved Meta Reducers"),mt=new I.UbH("@ngrx/store User Runtime Checks Config"),Rt=new I.UbH("@ngrx/store Internal User Runtime Checks Config"),Sn=new I.UbH("@ngrx/store Internal Runtime Checks"),wn=new I.UbH("@ngrx/store Check if Action types are unique");function $1(O,fe={}){const ie=Object.keys(O),ae={};for(let Pe=0;Pe<ie.length;Pe++){const qe=ie[Pe];"function"==typeof O[qe]&&(ae[qe]=O[qe])}const Ve=Object.keys(ae);return function(qe,ut){qe=void 0===qe?fe:qe;let Dt=!1;const Gn={};for(let Ht=0;Ht<Ve.length;Ht++){const W1=Ve[Ht],co=qe[W1],x0=(0,ae[W1])(co,ut);Gn[W1]=x0,Dt=Dt||x0!==co}return Dt?Gn:qe}}function oi(...O){return function(fe){if(0===O.length)return fe;const ie=O[O.length-1];return O.slice(0,-1).reduceRight((Ve,Pe)=>Pe(Ve),ie(fe))}}function Ke(O,fe){return Array.isArray(fe)&&fe.length>0&&(O=oi.apply(null,[...fe,O])),(ie,ae)=>{const Ve=O(ie);return(Pe,qe)=>Ve(Pe=void 0===Pe?ae:Pe,qe)}}new I.UbH("@ngrx/store Root Store Provider"),new I.UbH("@ngrx/store Feature State Provider");class Ls extends N._{}class d1 extends re{}const fc="@ngrx/store/update-reducers";let fr=(()=>{class O extends G.g{get currentReducers(){return this.reducers}constructor(ie,ae,Ve,Pe){super(Pe(Ve,ae)),this.dispatcher=ie,this.initialState=ae,this.reducers=Ve,this.reducerFactory=Pe}addFeature(ie){this.addFeatures([ie])}addFeatures(ie){const ae=ie.reduce((Ve,{reducers:Pe,reducerFactory:qe,metaReducers:ut,initialState:Dt,key:Gn})=>{const Ht="function"==typeof Pe?function Ss(O){const fe=Array.isArray(O)&&O.length>0?oi(...O):ie=>ie;return(ie,ae)=>(ie=fe(ie),(Ve,Pe)=>ie(Ve=void 0===Ve?ae:Ve,Pe))}(ut)(Pe,Dt):Ke(qe,ut)(Pe,Dt);return Ve[Gn]=Ht,Ve},{});this.addReducers(ae)}removeFeature(ie){this.removeFeatures([ie])}removeFeatures(ie){this.removeReducers(ie.map(ae=>ae.key))}addReducer(ie,ae){this.addReducers({[ie]:ae})}addReducers(ie){this.reducers={...this.reducers,...ie},this.updateReducers(Object.keys(ie))}removeReducer(ie){this.removeReducers([ie])}removeReducers(ie){ie.forEach(ae=>{this.reducers=function ss(O,fe){return Object.keys(O).filter(ie=>ie!==fe).reduce((ie,ae)=>Object.assign(ie,{[ae]:O[ae]}),{})}(this.reducers,ae)}),this.updateReducers(ie)}updateReducers(ie){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:fc,features:ie})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(ae){return new(ae||O)(I.CoB(d1),I.CoB(ln),I.CoB(fn),I.CoB(dn))};static#t=this.\u0275prov=I.wxM({token:O,factory:O.\u0275fac})}return O})();const p0=[fr,{provide:Ls,useExisting:fr},{provide:d1,useExisting:re}];let no=(()=>{class O extends Y.E{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=(()=>{let ie;return function(Ve){return(ie||(ie=I.otF(O)))(Ve||O)}})();static#t=this.\u0275prov=I.wxM({token:O,factory:O.\u0275fac})}return O})();const pc=[no];class l1 extends N._{}let Hh=(()=>{class O extends G.g{static#e=this.INIT=ne;constructor(ie,ae,Ve,Pe){super(Pe);const Gn=ie.pipe((0,r.y)(P.M)).pipe((0,T.O)(ae)).pipe((0,W.K)(os,{state:Pe}));this.stateSubscription=Gn.subscribe(({state:Ht,action:W1})=>{this.next(Ht),Ve.next(W1)}),this.state=(0,X.i6)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(ae){return new(ae||O)(I.CoB(re),I.CoB(Ls),I.CoB(no),I.CoB(ln))};static#n=this.\u0275prov=I.wxM({token:O,factory:O.\u0275fac})}return O})();function os(O={state:void 0},[fe,ie]){const{state:ae}=O;return{state:ie(ae,fe),action:fe}}const Qt=[Hh,{provide:l1,useExisting:Hh}];let Gt=(()=>{class O extends N._{constructor(ie,ae,Ve){super(),this.actionsObserver=ae,this.reducerManager=Ve,this.source=ie,this.state=ie.state}select(ie,...ae){return In.call(null,ie,...ae)(this)}selectSignal(ie,ae){return(0,I.S6b)(()=>ie(this.state()),ae)}lift(ie){const ae=new O(this,this.actionsObserver,this.reducerManager);return ae.operator=ie,ae}dispatch(ie){this.actionsObserver.next(ie)}next(ie){this.actionsObserver.next(ie)}error(ie){this.actionsObserver.error(ie)}complete(){this.actionsObserver.complete()}addReducer(ie,ae){this.reducerManager.addReducer(ie,ae)}removeReducer(ie){this.reducerManager.removeReducer(ie)}static#e=this.\u0275fac=function(ae){return new(ae||O)(I.CoB(l1),I.CoB(re),I.CoB(fr))};static#t=this.\u0275prov=I.wxM({token:O,factory:O.\u0275fac})}return O})();const kt=[Gt];function In(O,fe,...ie){return function(Ve){let Pe;if("string"==typeof O){const qe=[fe,...ie].filter(Boolean);Pe=Ve.pipe(function Q(...O){const fe=O.length;if(0===fe)throw new Error("list of properties cannot be empty.");return(0,A.k)(ie=>{let ae=ie;for(let Ve=0;Ve<fe;Ve++){const Pe=ae?.[O[Ve]];if(!(typeof Pe<"u"))return;ae=Pe}return ae})}(O,...qe))}else{if("function"!=typeof O)throw new TypeError(`Unexpected type '${typeof O}' in select operator, expected 'string' or 'function'`);Pe=Ve.pipe((0,A.k)(qe=>O(qe,fe)))}return Pe.pipe((0,U.a)())}}const L1="https://ngrx.io/guide/store/configuration/runtime-checks";function pr(O){return void 0===O}function _n(O){return null===O}function Ih(O){return Array.isArray(O)}function Th(O){return"object"==typeof O&&null!==O}function Dh(O){if(!function wc(O){return Th(O)&&!Ih(O)}(O))return!1;const fe=Object.getPrototypeOf(O);return fe===Object.prototype||null===fe}function io(O){return"function"==typeof O}let wr=!1;function ht(O,fe){return O===fe}function _0(O,fe=ht,ie=ht){let Pe,ae=null,Ve=null;return{memoized:function Gn(){if(void 0!==Pe)return Pe.result;if(!ae)return Ve=O.apply(null,arguments),ae=arguments,Ve;if(!function Bh(O,fe,ie){for(let ae=0;ae<O.length;ae++)if(!ie(O[ae],fe[ae]))return!0;return!1}(arguments,ae,fe))return Ve;const Ht=O.apply(null,arguments);return ae=arguments,ie(Ve,Ht)?Ve:(Ve=Ht,Ht)},reset:function qe(){ae=null,Ve=null},setResult:function ut(Ht=void 0){Pe={result:Ht}},clearResult:function Dt(){Pe=void 0}}}function z0(...O){return function so(O,fe={stateFn:ju}){return function(...ie){let ae=ie;if(Array.isArray(ae[0])){const[Ht,...W1]=ae;ae=[...Ht,...W1]}else 1===ae.length&&function Mi(O){return!!O&&"object"==typeof O&&Object.values(O).every(fe=>"function"==typeof fe)}(ae[0])&&(ae=function cn(O){const fe=Object.values(O),ie=Object.keys(O);return[...fe,(...Ve)=>ie.reduce((Pe,qe,ut)=>({...Pe,[qe]:Ve[ut]}),{})]}(ae[0]));const Ve=ae.slice(0,ae.length-1),Pe=ae[ae.length-1],qe=Ve.filter(Ht=>Ht.release&&"function"==typeof Ht.release),ut=O(function(...Ht){return Pe.apply(null,Ht)}),Dt=_0(function(Ht,W1){return fe.stateFn.apply(null,[Ht,Ve,W1,ut])});return Object.assign(Dt.memoized,{release:function Gn(){Dt.reset(),ut.reset(),qe.forEach(Ht=>Ht.release())},projector:ut.memoized,setResult:Dt.setResult,clearResult:Dt.clearResult})}}(_0)(...O)}function ju(O,fe,ie,ae){if(void 0===ie){const Pe=fe.map(qe=>qe(O));return ae.memoized.apply(null,Pe)}const Ve=fe.map(Pe=>Pe(O,ie));return ae.memoized.apply(null,[...Ve,ie])}function _r(O){const{name:fe,reducer:ie,extraSelectors:ae}=O,Ve=function rs(O){return z0(fe=>{const ie=fe[O];return!function v1(){return wr}()&&(0,I.sPQ)()&&!(O in fe)&&console.warn(`@ngrx/store: The feature name "${O}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${O}', ...) or StoreModule.forFeature('${O}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ie},fe=>fe)}(fe),Pe=function Wu(O,fe){const ie=function xi(O){return O(void 0,{type:"@ngrx/feature/init"})}(fe);return(Dh(ie)?Object.keys(ie):[]).reduce((Ve,Pe)=>({...Ve,[`select${D(Pe)}`]:z0(O,qe=>qe?.[Pe])}),{})}(Ve,ie),qe={[`select${D(fe)}State`]:Ve,...Pe},ut=ae?ae(qe):{};return{name:fe,reducer:ie,...qe,...ut}}function Nt(O){return O instanceof I.UbH?(0,I.uUt)(O):O}function Zt(O,fe){return fe.map((ie,ae)=>{if(O[ae]instanceof I.UbH){const Ve=(0,I.uUt)(O[ae]);return{key:ie.key,reducerFactory:Ve.reducerFactory?Ve.reducerFactory:$1,metaReducers:Ve.metaReducers?Ve.metaReducers:[],initialState:Ve.initialState}}return ie})}function Ph(O){return O.map(fe=>fe instanceof I.UbH?(0,I.uUt)(fe):fe)}function Ri(O){return"function"==typeof O?O():O}function _c(O,fe){return O.concat(fe)}function zc(){if((0,I.uUt)(Gt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function V1(O){Object.freeze(O);const fe=io(O);return Object.getOwnPropertyNames(O).forEach(ie=>{if(!ie.startsWith("\u0275")&&function Oh(O,fe){return Object.prototype.hasOwnProperty.call(O,fe)}(O,ie)&&(!fe||"caller"!==ie&&"callee"!==ie&&"arguments"!==ie)){const ae=O[ie];(Th(ae)||io(ae))&&!Object.isFrozen(ae)&&V1(ae)}}),O}function zr(O,fe=[]){return(pr(O)||_n(O))&&0===fe.length?{path:["root"],value:O}:Object.keys(O).reduce((ae,Ve)=>{if(ae)return ae;const Pe=O[Ve];return function Ah(O){return io(O)&&O.hasOwnProperty("\u0275cmp")}(Pe)?ae:!(pr(Pe)||_n(Pe)||function $t(O){return"number"==typeof O}(Pe)||function $u(O){return"boolean"==typeof O}(Pe)||function Rn(O){return"string"==typeof O}(Pe)||Ih(Pe))&&(Dh(Pe)?zr(Pe,[...fe,Ve]):{path:[...fe,Ve],value:Pe})},!1)}function Ni(O,fe){if(!1===O)return;const ie=O.path.join("."),ae=new Error(`Detected unserializable ${fe} at "${ie}". ${L1}#strict${fe}serializability`);throw ae.value=O.value,ae.unserializablePath=ie,ae}function ro(O){return(0,I.sPQ)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...O}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function yc({strictActionSerializability:O,strictStateSerializability:fe}){return ie=>O||fe?function oo(O,fe){return function(ie,ae){fe.action(ae)&&Ni(zr(ae),"action");const Ve=O(ie,ae);return fe.state()&&Ni(zr(Ve),"state"),Ve}}(ie,{action:ae=>O&&!g2(ae),state:()=>fe}):ie}function C0({strictActionImmutability:O,strictStateImmutability:fe}){return ie=>O||fe?function y0(O,fe){return function(ie,ae){const Ve=fe.action(ae)?V1(ae):ae,Pe=O(ie,Ve);return fe.state()?V1(Pe):Pe}}(ie,{action:ae=>O&&!g2(ae),state:()=>fe}):ie}function g2(O){return O.type.startsWith("@ngrx")}function Cc({strictActionWithinNgZone:O}){return fe=>O?function yr(O,fe){return function(ie,ae){if(fe.action(ae)&&!I.WW2.isInAngularZone())throw new Error(`Action '${ae.type}' running outside NgZone. ${L1}#strictactionwithinngzone`);return O(ie,ae)}}(fe,{action:ie=>O&&!g2(ie)}):fe}function Cr(O){return[{provide:Rt,useValue:O},{provide:mt,useFactory:e1,deps:[Rt]},{provide:Sn,deps:[mt],useFactory:ro},{provide:Pt,multi:!0,deps:[Sn],useFactory:C0},{provide:Pt,multi:!0,deps:[Sn],useFactory:yc},{provide:Pt,multi:!0,deps:[Sn],useFactory:Cc}]}function Mc(){return[{provide:wn,multi:!0,deps:[Sn],useFactory:kh}]}function e1(O){return O}function kh(O){if(!O.strictActionTypeUniqueness)return;const fe=Object.entries(he).filter(([,ie])=>ie>1).map(([ie])=>ie);if(fe.length)throw new Error(`Action types are registered more than once, ${fe.map(ie=>`"${ie}"`).join(", ")}. ${L1}#strictactiontypeuniqueness`)}function j1(O={},fe={}){return[{provide:ke,useFactory:zc},{provide:un,useValue:fe.initialState},{provide:ln,useFactory:Ri,deps:[un]},{provide:Xt,useValue:O},{provide:ue,useExisting:O instanceof I.UbH?O:Xt},{provide:fn,deps:[Xt,[new I.y_5(ue)]],useFactory:Nt},{provide:wt,useValue:fe.metaReducers?fe.metaReducers:[]},{provide:Wn,deps:[Pt,wt],useFactory:_c},{provide:Bt,useValue:fe.reducerFactory?fe.reducerFactory:$1},{provide:dn,deps:[Bt,Wn],useFactory:Ke},Ce,p0,pc,Qt,kt,Cr(fe.runtimeChecks),Mc()]}function bc(O,fe,ie={}){return[{provide:ye,multi:!0,useValue:O instanceof Object?{}:ie},{provide:v2,multi:!0,useValue:{key:O instanceof Object?O.name:O,reducerFactory:ie instanceof I.UbH||!ie.reducerFactory?$1:ie.reducerFactory,metaReducers:ie instanceof I.UbH||!ie.metaReducers?[]:ie.metaReducers,initialState:ie instanceof I.UbH||!ie.initialState?void 0:ie.initialState}},{provide:_e,deps:[ye,v2],useFactory:Zt},{provide:de,multi:!0,useValue:O instanceof Object?O.reducer:fe},{provide:je,multi:!0,useExisting:fe instanceof I.UbH?fe:de},{provide:Fe,multi:!0,deps:[de,[new I.y_5(je)]],useFactory:Ph},Mc()]}let Mr=(()=>{class O{constructor(ie,ae,Ve,Pe,qe,ut){}static#e=this.\u0275fac=function(ae){return new(ae||O)(I.CoB(re),I.CoB(Ls),I.CoB(no),I.CoB(Gt),I.CoB(ke,8),I.CoB(wn,8))};static#t=this.\u0275mod=I.a4G({type:O});static#n=this.\u0275inj=I.s3X({})}return O})(),xr=(()=>{class O{constructor(ie,ae,Ve,Pe,qe){this.features=ie,this.featureReducers=ae,this.reducerManager=Ve;const ut=ie.map((Dt,Gn)=>{const W1=ae.shift()[Gn];return{...Dt,reducers:W1,initialState:Ri(Dt.initialState)}});Ve.addFeatures(ut)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(ae){return new(ae||O)(I.CoB(_e),I.CoB(Fe),I.CoB(fr),I.CoB(Mr),I.CoB(wn,8))};static#t=this.\u0275mod=I.a4G({type:O});static#n=this.\u0275inj=I.s3X({})}return O})(),Ec=(()=>{class O{static forRoot(ie,ae){return{ngModule:Mr,providers:[...j1(ie,ae)]}}static forFeature(ie,ae,Ve={}){return{ngModule:xr,providers:[...bc(ie,ae,Ve)]}}static#e=this.\u0275fac=function(ae){return new(ae||O)};static#t=this.\u0275mod=I.a4G({type:O});static#n=this.\u0275inj=I.s3X({})}return O})();function Fh(...O){return{reducer:O.pop(),types:O.map(ae=>ae.type)}}function M0(O,...fe){const ie=new Map;for(const ae of fe)for(const Ve of ae.types){const Pe=ie.get(Ve);ie.set(Ve,Pe?(ut,Dt)=>ae.reducer(Pe(ut,Dt),Dt):ae.reducer)}return function(ae=O,Ve){const Pe=ie.get(Ve.type);return Pe?Pe(ae,Ve):ae}}},3972:(Z,j,E)=>{"use strict";function I(N,Y,P,r,T,W,A){try{var Q=N[W](A),U=Q.value}catch(X){return void P(X)}Q.done?Y(U):Promise.resolve(U).then(r,T)}function G(N){return function(){var Y=this,P=arguments;return new Promise(function(r,T){var W=N.apply(Y,P);function A(U){I(W,r,T,A,Q,"next",U)}function Q(U){I(W,r,T,A,Q,"throw",U)}A(void 0)})}}E.d(j,{c:()=>G})},6639:(Z,j,E)=>{"use strict";function P(ue,de,ye,_e){var wt,je=arguments.length,Fe=je<3?de:null===_e?_e=Object.getOwnPropertyDescriptor(de,ye):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(ue,de,ye,_e);else for(var Pt=ue.length-1;Pt>=0;Pt--)(wt=ue[Pt])&&(Fe=(je<3?wt(Fe):je>3?wt(de,ye,Fe):wt(de,ye))||Fe);return je>3&&Fe&&Object.defineProperty(de,ye,Fe),Fe}function X(ue,de,ye,_e){return new(ye||(ye=Promise))(function(Fe,wt){function Pt(Rt){try{mt(_e.next(Rt))}catch(Sn){wt(Sn)}}function Wn(Rt){try{mt(_e.throw(Rt))}catch(Sn){wt(Sn)}}function mt(Rt){Rt.done?Fe(Rt.value):function je(Fe){return Fe instanceof ye?Fe:new ye(function(wt){wt(Fe)})}(Rt.value).then(Pt,Wn)}mt((_e=_e.apply(ue,de||[])).next())})}function q(ue){return this instanceof q?(this.v=ue,this):new q(ue)}function le(ue,de,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,_e=ye.apply(ue,de||[]),Fe=[];return je={},wt("next"),wt("throw"),wt("return"),je[Symbol.asyncIterator]=function(){return this},je;function wt(wn){_e[wn]&&(je[wn]=function(M1){return new Promise(function(Ci,$1){Fe.push([wn,M1,Ci,$1])>1||Pt(wn,M1)})})}function Pt(wn,M1){try{!function Wn(wn){wn.value instanceof q?Promise.resolve(wn.value.v).then(mt,Rt):Sn(Fe[0][2],wn)}(_e[wn](M1))}catch(Ci){Sn(Fe[0][3],Ci)}}function mt(wn){Pt("next",wn)}function Rt(wn){Pt("throw",wn)}function Sn(wn,M1){wn(M1),Fe.shift(),Fe.length&&Pt(Fe[0][0],Fe[0][1])}}function ee(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,de=ue[Symbol.asyncIterator];return de?de.call(ue):(ue=function Se(ue){var de="function"==typeof Symbol&&Symbol.iterator,ye=de&&ue[de],_e=0;if(ye)return ye.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&_e>=ue.length&&(ue=void 0),{value:ue&&ue[_e++],done:!ue}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),ye={},_e("next"),_e("throw"),_e("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function _e(Fe){ye[Fe]=ue[Fe]&&function(wt){return new Promise(function(Pt,Wn){!function je(Fe,wt,Pt,Wn){Promise.resolve(Wn).then(function(mt){Fe({value:mt,done:Pt})},wt)}(Pt,Wn,(wt=ue[Fe](wt)).done,wt.value)})}}}E.d(j,{U1:()=>q,UN:()=>P,kH:()=>X,mA:()=>ee,o7:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},Z=>{Z(Z.s=8212)}]);